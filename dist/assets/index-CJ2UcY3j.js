(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Eg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var pf={exports:{}},Co={},mf={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Mg=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),Ic=Symbol.iterator;function Vg(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yf=Object.assign,vf={};function $r(e,t,n){this.props=e,this.context=t,this.refs=vf,this.updater=n||gf}$r.prototype.isReactComponent={};$r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wf(){}wf.prototype=$r.prototype;function pu(e,t,n){this.props=e,this.context=t,this.refs=vf,this.updater=n||gf}var mu=pu.prototype=new wf;mu.constructor=pu;yf(mu,$r.prototype);mu.isPureReactComponent=!0;var Dc=Array.isArray,xf=Object.prototype.hasOwnProperty,gu={current:null},_f={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xf.call(t,r)&&!_f.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ks,type:e,key:i,ref:o,props:s,_owner:gu.current}}function Ug(e,t){return{$$typeof:Ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function Fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mc=/\/+/g;function la(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fg(""+e.key):t.toString(36)}function Ai(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ks:case Cg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+la(o,0):r,Dc(s)?(n="",e!=null&&(n=e.replace(Mc,"$&/")+"/"),Ai(s,t,n,"",function(u){return u})):s!=null&&(yu(s)&&(s=Ug(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Dc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+la(i,a);o+=Ai(i,t,n,l,s)}else if(l=Vg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+la(i,a++),o+=Ai(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ii(e,t,n){if(e==null)return e;var r=[],s=0;return Ai(e,r,"","",function(i){return t.call(n,i,s++)}),r}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},Ri={transition:null},Bg={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:Ri,ReactCurrentOwner:gu};function bf(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ii,forEach:function(e,t,n){ii(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ii(e,function(){t++}),t},toArray:function(e){return ii(e,function(t){return t})||[]},only:function(e){if(!yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=$r;H.Fragment=Ng;H.Profiler=Rg;H.PureComponent=pu;H.StrictMode=Ag;H.Suspense=Dg;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;H.act=bf;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xf.call(t,l)&&!_f.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ks,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:Lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Og,_context:e},e.Consumer=e};H.createElement=Sf;H.createFactory=function(e){var t=Sf.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Ig,render:e}};H.isValidElement=yu;H.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:zg}};H.memo=function(e,t){return{$$typeof:Mg,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ri.transition;Ri.transition={};try{e()}finally{Ri.transition=t}};H.unstable_act=bf;H.useCallback=function(e,t){return Me.current.useCallback(e,t)};H.useContext=function(e){return Me.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};H.useEffect=function(e,t){return Me.current.useEffect(e,t)};H.useId=function(){return Me.current.useId()};H.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Me.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};H.useRef=function(e){return Me.current.useRef(e)};H.useState=function(e){return Me.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Me.current.useTransition()};H.version="18.3.1";mf.exports=H;var k=mf.exports;const Vr=Pg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=k,Hg=Symbol.for("react.element"),Wg=Symbol.for("react.fragment"),Kg=Object.prototype.hasOwnProperty,Qg=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gg={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Kg.call(t,r)&&!Gg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hg,type:e,key:i,ref:o,props:s,_owner:Qg.current}}Co.Fragment=Wg;Co.jsx=kf;Co.jsxs=kf;pf.exports=Co;var d=pf.exports,jf={exports:{}},Ze={},Tf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var M=A.length;A.push(L);e:for(;0<M;){var V=M-1>>>1,te=A[V];if(0<s(te,L))A[V]=L,A[M]=te,M=V;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],M=A.pop();if(M!==L){A[0]=M;e:for(var V=0,te=A.length,Pt=te>>>1;V<Pt;){var tt=2*(V+1)-1,Ht=A[tt],Te=tt+1,U=A[Te];if(0>s(Ht,M))Te<te&&0>s(U,Ht)?(A[V]=U,A[Te]=M,V=Te):(A[V]=Ht,A[tt]=M,V=tt);else if(Te<te&&0>s(U,M))A[V]=U,A[Te]=M,V=Te;else break e}}return L}function s(A,L){var M=A.sortIndex-L.sortIndex;return M!==0?M:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,m=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=A)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function x(A){if(w=!1,p(A),!v)if(n(l)!==null)v=!0,E(b);else{var L=n(u);L!==null&&Q(x,L.startTime-A)}}function b(A,L){v=!1,w&&(w=!1,y(T),T=-1),m=!0;var M=f;try{for(p(L),h=n(l);h!==null&&(!(h.expirationTime>L)||A&&!I());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var te=V(h.expirationTime<=L);L=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),p(L)}else r(l);h=n(l)}if(h!==null)var Pt=!0;else{var tt=n(u);tt!==null&&Q(x,tt.startTime-L),Pt=!1}return Pt}finally{h=null,f=M,m=!1}}var P=!1,S=null,T=-1,N=5,R=-1;function I(){return!(e.unstable_now()-R<N)}function D(){if(S!==null){var A=e.unstable_now();R=A;var L=!0;try{L=S(!0,A)}finally{L?J():(P=!1,S=null)}}else P=!1}var J;if(typeof g=="function")J=function(){g(D)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Re=ee.port2;ee.port1.onmessage=D,J=function(){Re.postMessage(null)}}else J=function(){_(D,0)};function E(A){S=A,P||(P=!0,J())}function Q(A,L){T=_(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,E(b))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return A()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=f;f=A;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(A,L,M){var V=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=M+te,A={id:c++,callback:L,priorityLevel:A,startTime:M,expirationTime:te,sortIndex:-1},M>V?(A.sortIndex=M,t(u,A),n(l)===null&&A===n(u)&&(w?(y(T),T=-1):w=!0,Q(x,M-V))):(A.sortIndex=te,t(l,A),v||m||(v=!0,E(b))),A},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(A){var L=f;return function(){var M=f;f=L;try{return A.apply(this,arguments)}finally{f=M}}}})(Pf);Tf.exports=Pf;var Jg=Tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=k,Xe=Jg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ef=new Set,ks={};function Kn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(ks[e]=t,e=0;e<t.length;e++)Ef.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Vc={};function Zg(e){return el.call(Vc,e)?!0:el.call($c,e)?!1:Yg.test(e)?Vc[e]=!0:($c[e]=!0,!1)}function ey(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ty(e,t,n,r){if(t===null||typeof t>"u"||ey(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var vu=/[\-:]([a-z])/g;function wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vu,wu);je[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vu,wu);je[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vu,wu);je[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ty(t,n,s,r)&&(n=null),r||s===null?Zg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qt=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oi=Symbol.for("react.element"),ir=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),nl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),bu=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),Af=Symbol.for("react.offscreen"),Uc=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Uc&&e[Uc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,ua;function ns(e){if(ua===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ua=t&&t[1]||""}return`
`+ua+e}var ca=!1;function da(e,t){if(!e||ca)return"";ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ns(e):""}function ny(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=da(e.type,!1),e;case 11:return e=da(e.type.render,!1),e;case 1:return e=da(e.type,!0),e;default:return""}}function sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ir:return"Portal";case tl:return"Profiler";case _u:return"StrictMode";case nl:return"Suspense";case rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nf:return(e.displayName||"Context")+".Consumer";case Cf:return(e._context.displayName||"Context")+".Provider";case Su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bu:return t=e.displayName||null,t!==null?t:sl(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return sl(e(t))}catch{}}return null}function ry(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(t);case 8:return t===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sy(e){var t=Rf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ai(e){e._valueTracker||(e._valueTracker=sy(e))}function Of(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lf(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function ol(e,t){Lf(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?al(e,t.type,n):t.hasOwnProperty("defaultValue")&&al(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function al(e,t,n){(t!=="number"||Wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(rs(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function If(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Df(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Df(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var li,Mf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iy=["Webkit","ms","Moz","O"];Object.keys(ls).forEach(function(e){iy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ls[t]=ls[e]})});function $f(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ls.hasOwnProperty(e)&&ls[e]?(""+t).trim():t+"px"}function Vf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$f(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var oy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(oy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hl=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,Sr=null,br=null;function Hc(e){if(e=Js(e)){if(typeof fl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Lo(t),fl(e.stateNode,e.type,t))}}function Uf(e){Sr?br?br.push(e):br=[e]:Sr=e}function Ff(){if(Sr){var e=Sr,t=br;if(br=Sr=null,Hc(e),t)for(e=0;e<t.length;e++)Hc(t[e])}}function zf(e,t){return e(t)}function Bf(){}var ha=!1;function qf(e,t,n){if(ha)return e(t,n);ha=!0;try{return zf(e,t,n)}finally{ha=!1,(Sr!==null||br!==null)&&(Bf(),Ff())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=Lo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var pl=!1;if(Vt)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){pl=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{pl=!1}function ay(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var us=!1,Ki=null,Qi=!1,ml=null,ly={onError:function(e){us=!0,Ki=e}};function uy(e,t,n,r,s,i,o,a,l){us=!1,Ki=null,ay.apply(ly,arguments)}function cy(e,t,n,r,s,i,o,a,l){if(uy.apply(this,arguments),us){if(us){var u=Ki;us=!1,Ki=null}else throw Error(C(198));Qi||(Qi=!0,ml=u)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wc(e){if(Qn(e)!==e)throw Error(C(188))}function dy(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wc(s),e;if(i===r)return Wc(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Wf(e){return e=dy(e),e!==null?Kf(e):null}function Kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kf(e);if(t!==null)return t;e=e.sibling}return null}var Qf=Xe.unstable_scheduleCallback,Kc=Xe.unstable_cancelCallback,hy=Xe.unstable_shouldYield,fy=Xe.unstable_requestPaint,pe=Xe.unstable_now,py=Xe.unstable_getCurrentPriorityLevel,ju=Xe.unstable_ImmediatePriority,Gf=Xe.unstable_UserBlockingPriority,Gi=Xe.unstable_NormalPriority,my=Xe.unstable_LowPriority,Jf=Xe.unstable_IdlePriority,No=null,kt=null;function gy(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:wy,yy=Math.log,vy=Math.LN2;function wy(e){return e>>>=0,e===0?32:31-(yy(e)/vy|0)|0}var ui=64,ci=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ss(a):(i&=o,i!==0&&(r=ss(i)))}else o=n&~s,o!==0?r=ss(o):i!==0&&(r=ss(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),s=1<<n,r|=e[n],t&=~s;return r}function xy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _y(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=xy(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xf(){var e=ui;return ui<<=1,!(ui&4194240)&&(ui=64),e}function fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Sy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function Yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zf,Pu,ep,tp,np,yl=!1,di=[],sn=null,on=null,an=null,Ps=new Map,Es=new Map,Zt=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Js(t),t!==null&&Pu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ky(e,t,n,r,s){switch(t){case"focusin":return sn=Kr(sn,e,t,n,r,s),!0;case"dragenter":return on=Kr(on,e,t,n,r,s),!0;case"mouseover":return an=Kr(an,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ps.set(i,Kr(Ps.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Es.set(i,Kr(Es.get(i)||null,e,t,n,r,s)),!0}return!1}function rp(e){var t=Ln(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hf(n),t!==null){e.blockedOn=t,np(e.priority,function(){ep(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hl=r,n.target.dispatchEvent(r),hl=null}else return t=Js(n),t!==null&&Pu(t),e.blockedOn=n,!1;t.shift()}return!0}function Gc(e,t,n){Oi(e)&&n.delete(t)}function jy(){yl=!1,sn!==null&&Oi(sn)&&(sn=null),on!==null&&Oi(on)&&(on=null),an!==null&&Oi(an)&&(an=null),Ps.forEach(Gc),Es.forEach(Gc)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,jy)))}function Cs(e){function t(s){return Qr(s,e)}if(0<di.length){Qr(di[0],e);for(var n=1;n<di.length;n++){var r=di[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sn!==null&&Qr(sn,e),on!==null&&Qr(on,e),an!==null&&Qr(an,e),Ps.forEach(t),Es.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)rp(n),n.blockedOn===null&&Zt.shift()}var kr=qt.ReactCurrentBatchConfig,Xi=!0;function Ty(e,t,n,r){var s=Y,i=kr.transition;kr.transition=null;try{Y=1,Eu(e,t,n,r)}finally{Y=s,kr.transition=i}}function Py(e,t,n,r){var s=Y,i=kr.transition;kr.transition=null;try{Y=4,Eu(e,t,n,r)}finally{Y=s,kr.transition=i}}function Eu(e,t,n,r){if(Xi){var s=vl(e,t,n,r);if(s===null)ba(e,t,r,Yi,n),Qc(e,r);else if(ky(s,e,t,n,r))r.stopPropagation();else if(Qc(e,r),t&4&&-1<by.indexOf(e)){for(;s!==null;){var i=Js(s);if(i!==null&&Zf(i),i=vl(e,t,n,r),i===null&&ba(e,t,r,Yi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ba(e,t,r,null,n)}}var Yi=null;function vl(e,t,n,r){if(Yi=null,e=ku(r),e=Ln(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yi=e,null}function sp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(py()){case ju:return 1;case Gf:return 4;case Gi:case my:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var nn=null,Cu=null,Li=null;function ip(){if(Li)return Li;var e,t=Cu,n=t.length,r,s="value"in nn?nn.value:nn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Li=s.slice(e,1<r?1-r:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function Jc(){return!1}function et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hi:Jc,this.isPropagationStopped=Jc,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=et(Ur),Gs=he({},Ur,{view:0,detail:0}),Ey=et(Gs),pa,ma,Gr,Ao=he({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(pa=e.screenX-Gr.screenX,ma=e.screenY-Gr.screenY):ma=pa=0,Gr=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Xc=et(Ao),Cy=he({},Ao,{dataTransfer:0}),Ny=et(Cy),Ay=he({},Gs,{relatedTarget:0}),ga=et(Ay),Ry=he({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=et(Ry),Ly=he({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iy=et(Ly),Dy=he({},Ur,{data:0}),Yc=et(Dy),My={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vy[e])?!!t[e]:!1}function Au(){return Uy}var Fy=he({},Gs,{key:function(e){if(e.key){var t=My[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$y[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=et(Fy),By=he({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=et(By),qy=he({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Hy=et(qy),Wy=he({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ky=et(Wy),Qy=he({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=et(Qy),Jy=[9,13,27,32],Ru=Vt&&"CompositionEvent"in window,cs=null;Vt&&"documentMode"in document&&(cs=document.documentMode);var Xy=Vt&&"TextEvent"in window&&!cs,op=Vt&&(!Ru||cs&&8<cs&&11>=cs),ed=" ",td=!1;function ap(e,t){switch(e){case"keyup":return Jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Yy(e,t){switch(e){case"compositionend":return lp(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function Zy(e,t){if(ar)return e==="compositionend"||!Ru&&ap(e,t)?(e=ip(),Li=Cu=nn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return op&&t.locale!=="ko"?null:t.data;default:return null}}var ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ev[e.type]:t==="textarea"}function up(e,t,n,r){Uf(r),t=Zi(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ds=null,Ns=null;function tv(e){xp(e,0)}function Ro(e){var t=cr(e);if(Of(t))return e}function nv(e,t){if(e==="change")return t}var cp=!1;if(Vt){var ya;if(Vt){var va="oninput"in document;if(!va){var rd=document.createElement("div");rd.setAttribute("oninput","return;"),va=typeof rd.oninput=="function"}ya=va}else ya=!1;cp=ya&&(!document.documentMode||9<document.documentMode)}function sd(){ds&&(ds.detachEvent("onpropertychange",dp),Ns=ds=null)}function dp(e){if(e.propertyName==="value"&&Ro(Ns)){var t=[];up(t,Ns,e,ku(e)),qf(tv,t)}}function rv(e,t,n){e==="focusin"?(sd(),ds=t,Ns=n,ds.attachEvent("onpropertychange",dp)):e==="focusout"&&sd()}function sv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(Ns)}function iv(e,t){if(e==="click")return Ro(t)}function ov(e,t){if(e==="input"||e==="change")return Ro(t)}function av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:av;function As(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!el.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var n=id(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=id(n)}}function hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fp(){for(var e=window,t=Wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wi(e.document)}return t}function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lv(e){var t=fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hp(n.ownerDocument.documentElement,n)){if(r!==null&&Ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=od(n,i);var o=od(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uv=Vt&&"documentMode"in document&&11>=document.documentMode,lr=null,wl=null,hs=null,xl=!1;function ad(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xl||lr==null||lr!==Wi(r)||(r=lr,"selectionStart"in r&&Ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&As(hs,r)||(hs=r,r=Zi(wl,"onSelect"),0<r.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function fi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},wa={},pp={};Vt&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Oo(e){if(wa[e])return wa[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pp)return wa[e]=t[n];return e}var mp=Oo("animationend"),gp=Oo("animationiteration"),yp=Oo("animationstart"),vp=Oo("transitionend"),wp=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){wp.set(e,t),Kn(t,[e])}for(var xa=0;xa<ld.length;xa++){var _a=ld[xa],cv=_a.toLowerCase(),dv=_a[0].toUpperCase()+_a.slice(1);wn(cv,"on"+dv)}wn(mp,"onAnimationEnd");wn(gp,"onAnimationIteration");wn(yp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(vp,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function ud(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cy(r,t,void 0,e),e.currentTarget=null}function xp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ud(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ud(s,a,u),i=l}}}if(Qi)throw e=ml,Qi=!1,ml=null,e}function ie(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var r=e+"__bubble";n.has(r)||(_p(t,e,2,!1),n.add(r))}function Sa(e,t,n){var r=0;t&&(r|=4),_p(n,e,r,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[pi]){e[pi]=!0,Ef.forEach(function(n){n!=="selectionchange"&&(hv.has(n)||Sa(n,!1,e),Sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,Sa("selectionchange",!1,t))}}function _p(e,t,n,r){switch(sp(t)){case 1:var s=Ty;break;case 4:s=Py;break;default:s=Eu}n=s.bind(null,t,n,e),s=void 0,!pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ba(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ln(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qf(function(){var u=i,c=ku(n),h=[];e:{var f=wp.get(e);if(f!==void 0){var m=Nu,v=e;switch(e){case"keypress":if(Ii(n)===0)break e;case"keydown":case"keyup":m=zy;break;case"focusin":v="focus",m=ga;break;case"focusout":v="blur",m=ga;break;case"beforeblur":case"afterblur":m=ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Hy;break;case mp:case gp:case yp:m=Oy;break;case vp:m=Ky;break;case"scroll":m=Ey;break;case"wheel":m=Gy;break;case"copy":case"cut":case"paste":m=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zc}var w=(t&4)!==0,_=!w&&e==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var g=u,p;g!==null;){p=g;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,y!==null&&(x=Ts(g,y),x!=null&&w.push(Os(g,x,p)))),_)break;g=g.return}0<w.length&&(f=new m(f,v,null,n,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==hl&&(v=n.relatedTarget||n.fromElement)&&(Ln(v)||v[Ut]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ln(v):null,v!==null&&(_=Qn(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Xc,x="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zc,x="onPointerLeave",y="onPointerEnter",g="pointer"),_=m==null?f:cr(m),p=v==null?f:cr(v),f=new w(x,g+"leave",m,n,c),f.target=_,f.relatedTarget=p,x=null,Ln(c)===u&&(w=new w(y,g+"enter",v,n,c),w.target=p,w.relatedTarget=_,x=w),_=x,m&&v)t:{for(w=m,y=v,g=0,p=w;p;p=Yn(p))g++;for(p=0,x=y;x;x=Yn(x))p++;for(;0<g-p;)w=Yn(w),g--;for(;0<p-g;)y=Yn(y),p--;for(;g--;){if(w===y||y!==null&&w===y.alternate)break t;w=Yn(w),y=Yn(y)}w=null}else w=null;m!==null&&cd(h,f,m,w,!1),v!==null&&_!==null&&cd(h,_,v,w,!0)}}e:{if(f=u?cr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=nv;else if(nd(f))if(cp)b=ov;else{b=sv;var P=rv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=iv);if(b&&(b=b(e,u))){up(h,b,n,c);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&al(f,"number",f.value)}switch(P=u?cr(u):window,e){case"focusin":(nd(P)||P.contentEditable==="true")&&(lr=P,wl=u,hs=null);break;case"focusout":hs=wl=lr=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,ad(h,n,c);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":ad(h,n,c)}var S;if(Ru)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ar?ap(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(op&&n.locale!=="ko"&&(ar||T!=="onCompositionStart"?T==="onCompositionEnd"&&ar&&(S=ip()):(nn=c,Cu="value"in nn?nn.value:nn.textContent,ar=!0)),P=Zi(u,T),0<P.length&&(T=new Yc(T,e,null,n,c),h.push({event:T,listeners:P}),S?T.data=S:(S=lp(n),S!==null&&(T.data=S)))),(S=Xy?Yy(e,n):Zy(e,n))&&(u=Zi(u,"onBeforeInput"),0<u.length&&(c=new Yc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}xp(h,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ts(e,n),i!=null&&r.unshift(Os(e,i,s)),i=Ts(e,t),i!=null&&r.push(Os(e,i,s))),e=e.return}return r}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ts(n,i),l!=null&&o.unshift(Os(n,l,a))):s||(l=Ts(n,i),l!=null&&o.push(Os(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fv=/\r\n?/g,pv=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(pv,"")}function mi(e,t,n){if(t=dd(t),dd(e)!==t&&n)throw Error(C(425))}function eo(){}var _l=null,Sl=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(yv)}:kl;function yv(e){setTimeout(function(){throw e})}function ka(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Cs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cs(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Fr,Ls="__reactProps$"+Fr,Ut="__reactContainer$"+Fr,jl="__reactEvents$"+Fr,vv="__reactListeners$"+Fr,wv="__reactHandles$"+Fr;function Ln(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fd(e);e!==null;){if(n=e[bt])return n;e=fd(e)}return t}e=n,n=e.parentNode}return null}function Js(e){return e=e[bt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Lo(e){return e[Ls]||null}var Tl=[],dr=-1;function xn(e){return{current:e}}function oe(e){0>dr||(e.current=Tl[dr],Tl[dr]=null,dr--)}function re(e,t){dr++,Tl[dr]=e.current,e.current=t}var gn={},Ae=xn(gn),Be=xn(!1),Fn=gn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function to(){oe(Be),oe(Ae)}function pd(e,t,n){if(Ae.current!==gn)throw Error(C(168));re(Ae,t),re(Be,n)}function Sp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,ry(e)||"Unknown",s));return he({},n,r)}function no(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Fn=Ae.current,re(Ae,e),re(Be,Be.current),!0}function md(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Sp(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,oe(Be),oe(Ae),re(Ae,e)):oe(Be),re(Be,n)}var At=null,Io=!1,ja=!1;function bp(e){At===null?At=[e]:At.push(e)}function xv(e){Io=!0,bp(e)}function _n(){if(!ja&&At!==null){ja=!0;var e=0,t=Y;try{var n=At;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}At=null,Io=!1}catch(s){throw At!==null&&(At=At.slice(e+1)),Qf(ju,_n),s}finally{Y=t,ja=!1}}return null}var hr=[],fr=0,ro=null,so=0,st=[],it=0,zn=null,Rt=1,Ot="";function Pn(e,t){hr[fr++]=so,hr[fr++]=ro,ro=e,so=t}function kp(e,t,n){st[it++]=Rt,st[it++]=Ot,st[it++]=zn,zn=e;var r=Rt;e=Ot;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var i=32-vt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-vt(t)+s|n<<s|r,Ot=i+e}else Rt=1<<i|n<<s|r,Ot=e}function Lu(e){e.return!==null&&(Pn(e,1),kp(e,1,0))}function Iu(e){for(;e===ro;)ro=hr[--fr],hr[fr]=null,so=hr[--fr],hr[fr]=null;for(;e===zn;)zn=st[--it],st[it]=null,Ot=st[--it],st[it]=null,Rt=st[--it],st[it]=null}var Je=null,Ge=null,le=!1,yt=null;function jp(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ge=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Rt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ge=null,!0):!1;default:return!1}}function Pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function El(e){if(le){var t=Ge;if(t){var n=t;if(!gd(e,t)){if(Pl(e))throw Error(C(418));t=ln(n.nextSibling);var r=Je;t&&gd(e,t)?jp(r,n):(e.flags=e.flags&-4097|2,le=!1,Je=e)}}else{if(Pl(e))throw Error(C(418));e.flags=e.flags&-4097|2,le=!1,Je=e}}}function yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function gi(e){if(e!==Je)return!1;if(!le)return yd(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=Ge)){if(Pl(e))throw Tp(),Error(C(418));for(;t;)jp(e,t),t=ln(t.nextSibling)}if(yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Je?ln(e.stateNode.nextSibling):null;return!0}function Tp(){for(var e=Ge;e;)e=ln(e.nextSibling)}function Nr(){Ge=Je=null,le=!1}function Du(e){yt===null?yt=[e]:yt.push(e)}var _v=qt.ReactCurrentBatchConfig;function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vd(e){var t=e._init;return t(e._payload)}function Pp(e){function t(y,g){if(e){var p=y.deletions;p===null?(y.deletions=[g],y.flags|=16):p.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=hn(y,g),y.index=0,y.sibling=null,y}function i(y,g,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<g?(y.flags|=2,g):p):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,p,x){return g===null||g.tag!==6?(g=Ra(p,y.mode,x),g.return=y,g):(g=s(g,p),g.return=y,g)}function l(y,g,p,x){var b=p.type;return b===or?c(y,g,p.props.children,x,p.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Gt&&vd(b)===g.type)?(x=s(g,p.props),x.ref=Jr(y,g,p),x.return=y,x):(x=zi(p.type,p.key,p.props,null,y.mode,x),x.ref=Jr(y,g,p),x.return=y,x)}function u(y,g,p,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Oa(p,y.mode,x),g.return=y,g):(g=s(g,p.children||[]),g.return=y,g)}function c(y,g,p,x,b){return g===null||g.tag!==7?(g=Vn(p,y.mode,x,b),g.return=y,g):(g=s(g,p),g.return=y,g)}function h(y,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ra(""+g,y.mode,p),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case oi:return p=zi(g.type,g.key,g.props,null,y.mode,p),p.ref=Jr(y,null,g),p.return=y,p;case ir:return g=Oa(g,y.mode,p),g.return=y,g;case Gt:var x=g._init;return h(y,x(g._payload),p)}if(rs(g)||Hr(g))return g=Vn(g,y.mode,p,null),g.return=y,g;yi(y,g)}return null}function f(y,g,p,x){var b=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(y,g,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case oi:return p.key===b?l(y,g,p,x):null;case ir:return p.key===b?u(y,g,p,x):null;case Gt:return b=p._init,f(y,g,b(p._payload),x)}if(rs(p)||Hr(p))return b!==null?null:c(y,g,p,x,null);yi(y,p)}return null}function m(y,g,p,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(p)||null,a(g,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oi:return y=y.get(x.key===null?p:x.key)||null,l(g,y,x,b);case ir:return y=y.get(x.key===null?p:x.key)||null,u(g,y,x,b);case Gt:var P=x._init;return m(y,g,p,P(x._payload),b)}if(rs(x)||Hr(x))return y=y.get(p)||null,c(g,y,x,b,null);yi(g,x)}return null}function v(y,g,p,x){for(var b=null,P=null,S=g,T=g=0,N=null;S!==null&&T<p.length;T++){S.index>T?(N=S,S=null):N=S.sibling;var R=f(y,S,p[T],x);if(R===null){S===null&&(S=N);break}e&&S&&R.alternate===null&&t(y,S),g=i(R,g,T),P===null?b=R:P.sibling=R,P=R,S=N}if(T===p.length)return n(y,S),le&&Pn(y,T),b;if(S===null){for(;T<p.length;T++)S=h(y,p[T],x),S!==null&&(g=i(S,g,T),P===null?b=S:P.sibling=S,P=S);return le&&Pn(y,T),b}for(S=r(y,S);T<p.length;T++)N=m(S,y,T,p[T],x),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?T:N.key),g=i(N,g,T),P===null?b=N:P.sibling=N,P=N);return e&&S.forEach(function(I){return t(y,I)}),le&&Pn(y,T),b}function w(y,g,p,x){var b=Hr(p);if(typeof b!="function")throw Error(C(150));if(p=b.call(p),p==null)throw Error(C(151));for(var P=b=null,S=g,T=g=0,N=null,R=p.next();S!==null&&!R.done;T++,R=p.next()){S.index>T?(N=S,S=null):N=S.sibling;var I=f(y,S,R.value,x);if(I===null){S===null&&(S=N);break}e&&S&&I.alternate===null&&t(y,S),g=i(I,g,T),P===null?b=I:P.sibling=I,P=I,S=N}if(R.done)return n(y,S),le&&Pn(y,T),b;if(S===null){for(;!R.done;T++,R=p.next())R=h(y,R.value,x),R!==null&&(g=i(R,g,T),P===null?b=R:P.sibling=R,P=R);return le&&Pn(y,T),b}for(S=r(y,S);!R.done;T++,R=p.next())R=m(S,y,T,R.value,x),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?T:R.key),g=i(R,g,T),P===null?b=R:P.sibling=R,P=R);return e&&S.forEach(function(D){return t(y,D)}),le&&Pn(y,T),b}function _(y,g,p,x){if(typeof p=="object"&&p!==null&&p.type===or&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case oi:e:{for(var b=p.key,P=g;P!==null;){if(P.key===b){if(b=p.type,b===or){if(P.tag===7){n(y,P.sibling),g=s(P,p.props.children),g.return=y,y=g;break e}}else if(P.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Gt&&vd(b)===P.type){n(y,P.sibling),g=s(P,p.props),g.ref=Jr(y,P,p),g.return=y,y=g;break e}n(y,P);break}else t(y,P);P=P.sibling}p.type===or?(g=Vn(p.props.children,y.mode,x,p.key),g.return=y,y=g):(x=zi(p.type,p.key,p.props,null,y.mode,x),x.ref=Jr(y,g,p),x.return=y,y=x)}return o(y);case ir:e:{for(P=p.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(y,g.sibling),g=s(g,p.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Oa(p,y.mode,x),g.return=y,y=g}return o(y);case Gt:return P=p._init,_(y,g,P(p._payload),x)}if(rs(p))return v(y,g,p,x);if(Hr(p))return w(y,g,p,x);yi(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,p),g.return=y,y=g):(n(y,g),g=Ra(p,y.mode,x),g.return=y,y=g),o(y)):n(y,g)}return _}var Ar=Pp(!0),Ep=Pp(!1),io=xn(null),oo=null,pr=null,Mu=null;function $u(){Mu=pr=oo=null}function Vu(e){var t=io.current;oe(io),e._currentValue=t}function Cl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jr(e,t){oo=e,Mu=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(oo===null)throw Error(C(308));pr=e,oo.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var In=null;function Uu(e){In===null?In=[e]:In.push(e)}function Cp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Uu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ft(e,n)}return s=r.interleaved,s===null?(t.next=t,Uu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ft(e,n)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}function wd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ao(e,t,n,r){var s=e.updateQueue;Jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(f=t,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=he({},h,f);break e;case 2:Jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qn|=o,e.lanes=o,e.memoizedState=h}}function xd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Xs={},jt=xn(Xs),Is=xn(Xs),Ds=xn(Xs);function Dn(e){if(e===Xs)throw Error(C(174));return e}function zu(e,t){switch(re(Ds,t),re(Is,e),re(jt,Xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ul(t,e)}oe(jt),re(jt,t)}function Rr(){oe(jt),oe(Is),oe(Ds)}function Ap(e){Dn(Ds.current);var t=Dn(jt.current),n=ul(t,e.type);t!==n&&(re(Is,e),re(jt,n))}function Bu(e){Is.current===e&&(oe(jt),oe(Is))}var ue=xn(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function qu(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var Mi=qt.ReactCurrentDispatcher,Pa=qt.ReactCurrentBatchConfig,Bn=0,de=null,ve=null,_e=null,uo=!1,fs=!1,Ms=0,Sv=0;function Pe(){throw Error(C(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,s,i){if(Bn=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?Tv:Pv,e=n(r,s),fs){i=0;do{if(fs=!1,Ms=0,25<=i)throw Error(C(301));i+=1,_e=ve=null,t.updateQueue=null,Mi.current=Ev,e=n(r,s)}while(fs)}if(Mi.current=co,t=ve!==null&&ve.next!==null,Bn=0,_e=ve=de=null,uo=!1,t)throw Error(C(300));return e}function Ku(){var e=Ms!==0;return Ms=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?de.memoizedState=_e=e:_e=_e.next=e,_e}function ct(){if(ve===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=_e===null?de.memoizedState:_e.next;if(t!==null)_e=t,ve=e;else{if(e===null)throw Error(C(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},_e===null?de.memoizedState=_e=e:_e=_e.next=e}return _e}function $s(e,t){return typeof t=="function"?t(e):t}function Ea(e){var t=ct(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Bn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,de.lanes|=c,qn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,xt(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,de.lanes|=i,qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=ct(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Rp(){}function Op(e,t){var n=de,r=ct(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Qu(Dp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Vs(9,Ip.bind(null,n,r,s,t),void 0,null),Se===null)throw Error(C(349));Bn&30||Lp(n,t,s)}return s}function Lp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ip(e,t,n,r){t.value=n,t.getSnapshot=r,Mp(t)&&$p(e)}function Dp(e,t,n){return n(function(){Mp(t)&&$p(e)})}function Mp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function $p(e){var t=Ft(e,1);t!==null&&wt(t,e,1,-1)}function _d(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=jv.bind(null,de,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vp(){return ct().memoizedState}function $i(e,t,n,r){var s=St();de.flags|=e,s.memoizedState=Vs(1|t,n,void 0,r===void 0?null:r)}function Do(e,t,n,r){var s=ct();r=r===void 0?null:r;var i=void 0;if(ve!==null){var o=ve.memoizedState;if(i=o.destroy,r!==null&&Hu(r,o.deps)){s.memoizedState=Vs(t,n,i,r);return}}de.flags|=e,s.memoizedState=Vs(1|t,n,i,r)}function Sd(e,t){return $i(8390656,8,e,t)}function Qu(e,t){return Do(2048,8,e,t)}function Up(e,t){return Do(4,2,e,t)}function Fp(e,t){return Do(4,4,e,t)}function zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bp(e,t,n){return n=n!=null?n.concat([e]):null,Do(4,4,zp.bind(null,t,e),n)}function Gu(){}function qp(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hp(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wp(e,t,n){return Bn&21?(xt(n,t)||(n=Xf(),de.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function bv(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Pa.transition;Pa.transition={};try{e(!1),t()}finally{Y=n,Pa.transition=r}}function Kp(){return ct().memoizedState}function kv(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qp(e))Gp(t,n);else if(n=Cp(e,t,n,r),n!==null){var s=De();wt(n,e,r,s),Jp(n,t,r)}}function jv(e,t,n){var r=dn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qp(e))Gp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(s.next=s,Uu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Cp(e,t,s,r),n!==null&&(s=De(),wt(n,e,r,s),Jp(n,t,r))}}function Qp(e){var t=e.alternate;return e===de||t!==null&&t===de}function Gp(e,t){fs=uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tu(e,n)}}var co={readContext:ut,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Tv={readContext:ut,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Sd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$i(4194308,4,zp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $i(4194308,4,e,t)},useInsertionEffect:function(e,t){return $i(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=St();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kv.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:_d,useDebugValue:Gu,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=_d(!1),t=e[0];return e=bv.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,s=St();if(le){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Se===null)throw Error(C(349));Bn&30||Lp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Sd(Dp.bind(null,r,i,e),[e]),r.flags|=2048,Vs(9,Ip.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=St(),t=Se.identifierPrefix;if(le){var n=Ot,r=Rt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pv={readContext:ut,useCallback:qp,useContext:ut,useEffect:Qu,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:Fp,useMemo:Hp,useReducer:Ea,useRef:Vp,useState:function(){return Ea($s)},useDebugValue:Gu,useDeferredValue:function(e){var t=ct();return Wp(t,ve.memoizedState,e)},useTransition:function(){var e=Ea($s)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Rp,useSyncExternalStore:Op,useId:Kp,unstable_isNewReconciler:!1},Ev={readContext:ut,useCallback:qp,useContext:ut,useEffect:Qu,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:Fp,useMemo:Hp,useReducer:Ca,useRef:Vp,useState:function(){return Ca($s)},useDebugValue:Gu,useDeferredValue:function(e){var t=ct();return ve===null?t.memoizedState=e:Wp(t,ve.memoizedState,e)},useTransition:function(){var e=Ca($s)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Rp,useSyncExternalStore:Op,useId:Kp,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mo={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),s=dn(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=un(e,i,s),t!==null&&(wt(t,e,s,r),Di(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),s=dn(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=un(e,i,s),t!==null&&(wt(t,e,s,r),Di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=dn(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=un(e,s,r),t!==null&&(wt(t,e,r,n),Di(t,e,r))}};function bd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!As(n,r)||!As(s,i):!0}function Xp(e,t,n){var r=!1,s=gn,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=qe(t)?Fn:Ae.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,s):gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Al(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=qe(t)?Fn:Ae.current,s.context=Cr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mo.enqueueReplaceState(s,s.state,null),ao(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=ny(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,zl=r),Rl(e,t)},n}function Zp(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Rl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rl(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Bv.bind(null,e,t,n),t.then(e,e))}function Td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var Nv=qt.ReactCurrentOwner,ze=!1;function Ie(e,t,n,r){t.child=e===null?Ep(t,null,n,r):Ar(t,e.child,n,r)}function Ed(e,t,n,r,s){n=n.render;var i=t.ref;return jr(t,s),r=Wu(e,t,n,r,i,s),n=Ku(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(le&&n&&Lu(t),t.flags|=1,Ie(e,t,r,s),t.child)}function Cd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!rc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,em(e,t,i,r,s)):(e=zi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=hn(i,r),e.ref=t.ref,e.return=t,t.child=e}function em(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(As(i,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,zt(e,t,s)}return Ol(e,t,n,r,s)}function tm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(gr,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(gr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,re(gr,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,re(gr,Qe),Qe|=r;return Ie(e,t,s,n),t.child}function nm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,n,r,s){var i=qe(n)?Fn:Ae.current;return i=Cr(t,i),jr(t,s),n=Wu(e,t,n,r,i,s),r=Ku(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(le&&r&&Lu(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Nd(e,t,n,r,s){if(qe(n)){var i=!0;no(t)}else i=!1;if(jr(t,s),t.stateNode===null)Vi(e,t),Xp(t,n,r),Al(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=qe(n)?Fn:Ae.current,u=Cr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kd(t,o,r,u),Jt=!1;var f=t.memoizedState;o.state=f,ao(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Be.current||Jt?(typeof c=="function"&&(Nl(t,n,c,r),l=t.memoizedState),(a=Jt||bd(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Np(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=qe(n)?Fn:Ae.current,l=Cr(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&kd(t,o,r,l),Jt=!1,f=t.memoizedState,o.state=f,ao(t,r,o,s);var v=t.memoizedState;a!==h||f!==v||Be.current||Jt?(typeof m=="function"&&(Nl(t,n,m,r),v=t.memoizedState),(u=Jt||bd(t,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ll(e,t,n,r,i,s)}function Ll(e,t,n,r,s,i){nm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&md(t,n,!1),zt(e,t,i);r=t.stateNode,Nv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ar(t,e.child,null,i),t.child=Ar(t,null,a,i)):Ie(e,t,a,i),t.memoizedState=r.state,s&&md(t,n,!0),t.child}function rm(e){var t=e.stateNode;t.pendingContext?pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pd(e,t.context,!1),zu(e,t.containerInfo)}function Ad(e,t,n,r,s){return Nr(),Du(s),t.flags|=256,Ie(e,t,n,r),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function sm(e,t,n){var r=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(ue,s&1),e===null)return El(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uo(o,r,0,null),e=Vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dl(n),t.memoizedState=Il,e):Ju(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Av(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hn(a,i):(i=Vn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Il,r}return i=e.child,e=i.sibling,r=hn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ju(e,t){return t=Uo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vi(e,t,n,r){return r!==null&&Du(r),Ar(t,e.child,null,n),e=Ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Av(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Na(Error(C(422))),vi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Uo({mode:"visible",children:r.children},s,0,null),i=Vn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ar(t,e.child,null,o),t.child.memoizedState=Dl(o),t.memoizedState=Il,i);if(!(t.mode&1))return vi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=Na(i,r,void 0),vi(e,t,o,r)}if(a=(o&e.childLanes)!==0,ze||a){if(r=Se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(e,s),wt(r,e,s,-1))}return nc(),r=Na(Error(C(421))),vi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ge=ln(s.nextSibling),Je=t,le=!0,yt=null,e!==null&&(st[it++]=Rt,st[it++]=Ot,st[it++]=zn,Rt=e.id,Ot=e.overflow,zn=t),t=Ju(t,r.children),t.flags|=4096,t)}function Rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cl(e.return,t,n)}function Aa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function im(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,n,t);else if(e.tag===19)Rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&lo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Aa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Aa(t,!0,n,null,i);break;case"together":Aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rv(e,t,n){switch(t.tag){case 3:rm(t),Nr();break;case 5:Ap(t);break;case 1:qe(t.type)&&no(t);break;case 4:zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;re(io,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?sm(e,t,n):(re(ue,ue.current&1),e=zt(e,t,n),e!==null?e.sibling:null);re(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return im(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,tm(e,t,n)}return zt(e,t,n)}var om,Ml,am,lm;om=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};am=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Dn(jt.current);var i=null;switch(n){case"input":s=il(e,s),r=il(e,r),i=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":s=ll(e,s),r=ll(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=eo)}cl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ie("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};lm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xr(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ov(e,t,n){var r=t.pendingProps;switch(Iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return qe(t.type)&&to(),Ee(t),null;case 3:return r=t.stateNode,Rr(),oe(Be),oe(Ae),qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Hl(yt),yt=null))),Ml(e,t),Ee(t),null;case 5:Bu(t);var s=Dn(Ds.current);if(n=t.type,e!==null&&t.stateNode!=null)am(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ee(t),null}if(e=Dn(jt.current),gi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[Ls]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<is.length;s++)ie(is[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Fc(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":Bc(r,i),ie("invalid",r)}cl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&mi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&mi(r.textContent,a,e),s=["children",""+a]):ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":ai(r),zc(r,i,!0);break;case"textarea":ai(r),qc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=eo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Df(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bt]=t,e[Ls]=r,om(e,t,!1,!1),t.stateNode=e;e:{switch(o=dl(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<is.length;s++)ie(is[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":Fc(e,r),s=il(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Bc(e,r),s=ll(e,r),ie("invalid",e);break;default:s=r}cl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&js(e,l):typeof l=="number"&&js(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ks.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ie("scroll",e):l!=null&&xu(e,i,l,o))}switch(n){case"input":ai(e),zc(e,r,!1);break;case"textarea":ai(e),qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_r(e,!!r.multiple,i,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)lm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Dn(Ds.current),Dn(jt.current),gi(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:mi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return Ee(t),null;case 13:if(oe(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Ge!==null&&t.mode&1&&!(t.flags&128))Tp(),Nr(),t.flags|=98560,i=!1;else if(i=gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[bt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else yt!==null&&(Hl(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?we===0&&(we=3):nc())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Rr(),Ml(e,t),e===null&&Rs(t.stateNode.containerInfo),Ee(t),null;case 10:return Vu(t.type._context),Ee(t),null;case 17:return qe(t.type)&&to(),Ee(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xr(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=lo(e),o!==null){for(t.flags|=128,Xr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>Lr&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304)}else{if(!r)if(e=lo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return Ee(t),null}else 2*pe()-i.renderingStartTime>Lr&&n!==1073741824&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=ue.current,re(ue,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return tc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Lv(e,t){switch(Iu(t),t.tag){case 1:return qe(t.type)&&to(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr(),oe(Be),oe(Ae),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bu(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return Rr(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var wi=!1,Ne=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,O=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function $l(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Od=!1;function Dv(e,t){if(_l=Xi,e=fp(),Ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sl={focusedElem:e,selectionRange:n},Xi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:pt(t.type,w),_);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){fe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=Od,Od=!1,v}function ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$l(t,n,i)}s=s.next}while(s!==r)}}function $o(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function um(e){var t=e.alternate;t!==null&&(e.alternate=null,um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[Ls],delete t[jl],delete t[vv],delete t[wv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cm(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eo));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Fl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fl(e,t,n),e=e.sibling;e!==null;)Fl(e,t,n),e=e.sibling}var be=null,mt=!1;function Wt(e,t,n){for(n=n.child;n!==null;)dm(e,t,n),n=n.sibling}function dm(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(No,n)}catch{}switch(n.tag){case 5:Ne||mr(n,t);case 6:var r=be,s=mt;be=null,Wt(e,t,n),be=r,mt=s,be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?ka(e.parentNode,n):e.nodeType===1&&ka(e,n),Cs(e)):ka(be,n.stateNode));break;case 4:r=be,s=mt,be=n.stateNode.containerInfo,mt=!0,Wt(e,t,n),be=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$l(n,t,o),s=s.next}while(s!==r)}Wt(e,t,n);break;case 1:if(!Ne&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Wt(e,t,n),Ne=r):Wt(e,t,n);break;default:Wt(e,t,n)}}function Id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Iv),t.forEach(function(r){var s=Hv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,mt=!1;break e;case 3:be=a.stateNode.containerInfo,mt=!0;break e;case 4:be=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(be===null)throw Error(C(160));dm(i,o,s),be=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hm(t,e),t=t.sibling}function hm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),_t(e),r&4){try{ps(3,e,e.return),$o(3,e)}catch(w){fe(e,e.return,w)}try{ps(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:ht(t,e),_t(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(ht(t,e),_t(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(w){fe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Lf(s,i),dl(a,o);var u=dl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Vf(s,h):c==="dangerouslySetInnerHTML"?Mf(s,h):c==="children"?js(s,h):xu(s,c,h,u)}switch(a){case"input":ol(s,i);break;case"textarea":If(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?_r(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?_r(s,!!i.multiple,i.defaultValue,!0):_r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ls]=i}catch(w){fe(e,e.return,w)}}break;case 6:if(ht(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){fe(e,e.return,w)}}break;case 3:if(ht(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:ht(t,e),_t(e);break;case 13:ht(t,e),_t(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zu=pe())),r&4&&Id(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||c,ht(t,e),Ne=u):ht(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:ps(4,f,f.return);break;case 1:mr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:mr(f,f.return);break;case 22:if(f.memoizedState!==null){Md(h);continue}}m!==null?(m.return=f,O=m):Md(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$f("display",o))}catch(w){fe(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){fe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),_t(e),r&4&&Id(e);break;case 21:break;default:ht(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(js(s,""),r.flags&=-33);var i=Ld(e);Fl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ld(e);Ul(e,a,o);break;default:throw Error(C(161))}}catch(l){fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mv(e,t,n){O=e,fm(e)}function fm(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=wi;var u=Ne;if(wi=o,(Ne=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?$d(s):l!==null?(l.return=o,O=l):$d(s);for(;i!==null;)O=i,fm(i),i=i.sibling;O=s,wi=a,Ne=u}Dd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Dd(e)}}function Dd(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||$o(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Cs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ne||t.flags&512&&Vl(t)}catch(f){fe(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Md(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function $d(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$o(4,t)}catch(l){fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){fe(t,s,l)}}var i=t.return;try{Vl(t)}catch(l){fe(t,i,l)}break;case 5:var o=t.return;try{Vl(t)}catch(l){fe(t,o,l)}}}catch(l){fe(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var $v=Math.ceil,ho=qt.ReactCurrentDispatcher,Xu=qt.ReactCurrentOwner,at=qt.ReactCurrentBatchConfig,G=0,Se=null,ye=null,ke=0,Qe=0,gr=xn(0),we=0,Us=null,qn=0,Vo=0,Yu=0,ms=null,Ue=null,Zu=0,Lr=1/0,Ct=null,fo=!1,zl=null,cn=null,xi=!1,rn=null,po=0,gs=0,Bl=null,Ui=-1,Fi=0;function De(){return G&6?pe():Ui!==-1?Ui:Ui=pe()}function dn(e){return e.mode&1?G&2&&ke!==0?ke&-ke:_v.transition!==null?(Fi===0&&(Fi=Xf()),Fi):(e=Y,e!==0||(e=window.event,e=e===void 0?16:sp(e.type)),e):1}function wt(e,t,n,r){if(50<gs)throw gs=0,Bl=null,Error(C(185));Qs(e,n,r),(!(G&2)||e!==Se)&&(e===Se&&(!(G&2)&&(Vo|=n),we===4&&en(e,ke)),He(e,r),n===1&&G===0&&!(t.mode&1)&&(Lr=pe()+500,Io&&_n()))}function He(e,t){var n=e.callbackNode;_y(e,t);var r=Ji(e,e===Se?ke:0);if(r===0)n!==null&&Kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kc(n),t===1)e.tag===0?xv(Vd.bind(null,e)):bp(Vd.bind(null,e)),gv(function(){!(G&6)&&_n()}),n=null;else{switch(Yf(r)){case 1:n=ju;break;case 4:n=Gf;break;case 16:n=Gi;break;case 536870912:n=Jf;break;default:n=Gi}n=_m(n,pm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pm(e,t){if(Ui=-1,Fi=0,G&6)throw Error(C(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=Ji(e,e===Se?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mo(e,r);else{t=r;var s=G;G|=2;var i=gm();(Se!==e||ke!==t)&&(Ct=null,Lr=pe()+500,$n(e,t));do try{Fv();break}catch(a){mm(e,a)}while(!0);$u(),ho.current=i,G=s,ye!==null?t=0:(Se=null,ke=0,t=we)}if(t!==0){if(t===2&&(s=gl(e),s!==0&&(r=s,t=ql(e,s))),t===1)throw n=Us,$n(e,0),en(e,r),He(e,pe()),n;if(t===6)en(e,r);else{if(s=e.current.alternate,!(r&30)&&!Vv(s)&&(t=mo(e,r),t===2&&(i=gl(e),i!==0&&(r=i,t=ql(e,i))),t===1))throw n=Us,$n(e,0),en(e,r),He(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:En(e,Ue,Ct);break;case 3:if(en(e,r),(r&130023424)===r&&(t=Zu+500-pe(),10<t)){if(Ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kl(En.bind(null,e,Ue,Ct),t);break}En(e,Ue,Ct);break;case 4:if(en(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-vt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$v(r/1960))-r,10<r){e.timeoutHandle=kl(En.bind(null,e,Ue,Ct),r);break}En(e,Ue,Ct);break;case 5:En(e,Ue,Ct);break;default:throw Error(C(329))}}}return He(e,pe()),e.callbackNode===n?pm.bind(null,e):null}function ql(e,t){var n=ms;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=mo(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Hl(t)),e}function Hl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Vv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function en(e,t){for(t&=~Yu,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Vd(e){if(G&6)throw Error(C(327));Tr();var t=Ji(e,0);if(!(t&1))return He(e,pe()),null;var n=mo(e,t);if(e.tag!==0&&n===2){var r=gl(e);r!==0&&(t=r,n=ql(e,r))}if(n===1)throw n=Us,$n(e,0),en(e,t),He(e,pe()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,Ue,Ct),He(e,pe()),null}function ec(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Lr=pe()+500,Io&&_n())}}function Hn(e){rn!==null&&rn.tag===0&&!(G&6)&&Tr();var t=G;G|=1;var n=at.transition,r=Y;try{if(at.transition=null,Y=1,e)return e()}finally{Y=r,at.transition=n,G=t,!(G&6)&&_n()}}function tc(){Qe=gr.current,oe(gr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mv(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(Iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&to();break;case 3:Rr(),oe(Be),oe(Ae),qu();break;case 5:Bu(r);break;case 4:Rr();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:Vu(r.type._context);break;case 22:case 23:tc()}n=n.return}if(Se=e,ye=e=hn(e.current,null),ke=Qe=t,we=0,Us=null,Yu=Vo=qn=0,Ue=ms=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}In=null}return e}function mm(e,t){do{var n=ye;try{if($u(),Mi.current=co,uo){for(var r=de.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uo=!1}if(Bn=0,_e=ve=de=null,fs=!1,Ms=0,Xu.current=null,n===null||n.return===null){we=1,Us=t,ye=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Td(o);if(m!==null){m.flags&=-257,Pd(m,o,a,i,t),m.mode&1&&jd(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){jd(i,u,t),nc();break e}l=Error(C(426))}}else if(le&&a.mode&1){var _=Td(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Pd(_,o,a,i,t),Du(Or(l,a));break e}}i=l=Or(l,a),we!==4&&(we=2),ms===null?ms=[i]:ms.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Yp(i,l,t);wd(i,y);break e;case 1:a=l;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cn===null||!cn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Zp(i,a,t);wd(i,x);break e}}i=i.return}while(i!==null)}vm(n)}catch(b){t=b,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function gm(){var e=ho.current;return ho.current=co,e===null?co:e}function nc(){(we===0||we===3||we===2)&&(we=4),Se===null||!(qn&268435455)&&!(Vo&268435455)||en(Se,ke)}function mo(e,t){var n=G;G|=2;var r=gm();(Se!==e||ke!==t)&&(Ct=null,$n(e,t));do try{Uv();break}catch(s){mm(e,s)}while(!0);if($u(),G=n,ho.current=r,ye!==null)throw Error(C(261));return Se=null,ke=0,we}function Uv(){for(;ye!==null;)ym(ye)}function Fv(){for(;ye!==null&&!hy();)ym(ye)}function ym(e){var t=xm(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?vm(e):ye=t,Xu.current=null}function vm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lv(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ye=null;return}}else if(n=Ov(n,t,Qe),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);we===0&&(we=5)}function En(e,t,n){var r=Y,s=at.transition;try{at.transition=null,Y=1,zv(e,t,n,r)}finally{at.transition=s,Y=r}return null}function zv(e,t,n,r){do Tr();while(rn!==null);if(G&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sy(e,i),e===Se&&(ye=Se=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xi||(xi=!0,_m(Gi,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=Y;Y=1;var a=G;G|=4,Xu.current=null,Dv(e,n),hm(n,e),lv(Sl),Xi=!!_l,Sl=_l=null,e.current=n,Mv(n),fy(),G=a,Y=o,at.transition=i}else e.current=n;if(xi&&(xi=!1,rn=e,po=s),i=e.pendingLanes,i===0&&(cn=null),gy(n.stateNode),He(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fo)throw fo=!1,e=zl,zl=null,e;return po&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===Bl?gs++:(gs=0,Bl=e):gs=0,_n(),null}function Tr(){if(rn!==null){var e=Yf(po),t=at.transition,n=Y;try{if(at.transition=null,Y=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,po=0,G&6)throw Error(C(331));var s=G;for(G|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ps(8,c,i)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,m=c.return;if(um(c),c===u){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ps(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,O=y;break e}O=i.return}}var g=e.current;for(O=g;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$o(9,a)}}catch(b){fe(a,a.return,b)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(G=s,_n(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(No,e)}catch{}r=!0}return r}finally{Y=n,at.transition=t}}return!1}function Ud(e,t,n){t=Or(n,t),t=Yp(e,t,1),e=un(e,t,1),t=De(),e!==null&&(Qs(e,1,t),He(e,t))}function fe(e,t,n){if(e.tag===3)Ud(e,e,n);else for(;t!==null;){if(t.tag===3){Ud(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=Or(n,e),e=Zp(t,e,1),t=un(t,e,1),e=De(),t!==null&&(Qs(t,1,e),He(t,e));break}}t=t.return}}function Bv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(ke&n)===n&&(we===4||we===3&&(ke&130023424)===ke&&500>pe()-Zu?$n(e,0):Yu|=n),He(e,t)}function wm(e,t){t===0&&(e.mode&1?(t=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):t=1);var n=De();e=Ft(e,t),e!==null&&(Qs(e,t,n),He(e,n))}function qv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wm(e,n)}function Hv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),wm(e,n)}var xm;xm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Rv(e,t,n);ze=!!(e.flags&131072)}else ze=!1,le&&t.flags&1048576&&kp(t,so,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var s=Cr(t,Ae.current);jr(t,n),s=Wu(null,t,r,e,s,n);var i=Ku();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(i=!0,no(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fu(t),s.updater=Mo,t.stateNode=s,s._reactInternals=t,Al(t,r,e,n),t=Ll(null,t,r,!0,i,n)):(t.tag=0,le&&i&&Lu(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Kv(r),e=pt(r,e),s){case 0:t=Ol(null,t,r,e,n);break e;case 1:t=Nd(null,t,r,e,n);break e;case 11:t=Ed(null,t,r,e,n);break e;case 14:t=Cd(null,t,r,pt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Ol(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Nd(e,t,r,s,n);case 3:e:{if(rm(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Np(e,t),ao(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Or(Error(C(423)),t),t=Ad(e,t,r,n,s);break e}else if(r!==s){s=Or(Error(C(424)),t),t=Ad(e,t,r,n,s);break e}else for(Ge=ln(t.stateNode.containerInfo.firstChild),Je=t,le=!0,yt=null,n=Ep(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===s){t=zt(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Ap(t),e===null&&El(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,bl(r,s)?o=null:i!==null&&bl(r,i)&&(t.flags|=32),nm(e,t),Ie(e,t,o,n),t.child;case 6:return e===null&&El(t),null;case 13:return sm(e,t,n);case 4:return zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ar(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Ed(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,re(io,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!Be.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,jr(t,n),s=ut(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=pt(r,t.pendingProps),s=pt(r.type,s),Cd(e,t,r,s,n);case 15:return em(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Vi(e,t),t.tag=1,qe(r)?(e=!0,no(t)):e=!1,jr(t,n),Xp(t,r,s),Al(t,r,s,n),Ll(null,t,r,!0,e,n);case 19:return im(e,t,n);case 22:return tm(e,t,n)}throw Error(C(156,t.tag))};function _m(e,t){return Qf(e,t)}function Wv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new Wv(e,t,n,r)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kv(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Su)return 11;if(e===bu)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")rc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return Vn(n.children,s,i,t);case _u:o=8,s|=8;break;case tl:return e=ot(12,n,t,s|2),e.elementType=tl,e.lanes=i,e;case nl:return e=ot(13,n,t,s),e.elementType=nl,e.lanes=i,e;case rl:return e=ot(19,n,t,s),e.elementType=rl,e.lanes=i,e;case Af:return Uo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cf:o=10;break e;case Nf:o=9;break e;case Su:o=11;break e;case bu:o=14;break e;case Gt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=ot(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Vn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function Uo(e,t,n,r){return e=ot(22,e,r,t),e.elementType=Af,e.lanes=n,e.stateNode={isHidden:!1},e}function Ra(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Oa(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sc(e,t,n,r,s,i,o,a,l){return e=new Qv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(i),e}function Gv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sm(e){if(!e)return gn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(qe(n))return Sp(e,n,t)}return t}function bm(e,t,n,r,s,i,o,a,l){return e=sc(n,r,!0,e,s,i,o,a,l),e.context=Sm(null),n=e.current,r=De(),s=dn(n),i=It(r,s),i.callback=t??null,un(n,i,s),e.current.lanes=s,Qs(e,s,r),He(e,r),e}function Fo(e,t,n,r){var s=t.current,i=De(),o=dn(s);return n=Sm(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(s,t,o),e!==null&&(wt(e,s,o,i),Di(e,s,o)),o}function go(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function Jv(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}zo.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Fo(e,t,null,null)};zo.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){Fo(null,e,null,null)}),t[Ut]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=tp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&rp(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zd(){}function Xv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=go(o);i.call(u)}}var o=bm(t,r,e,0,null,!1,!1,"",zd);return e._reactRootContainer=o,e[Ut]=o.current,Rs(e.nodeType===8?e.parentNode:e),Hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=go(l);a.call(u)}}var l=sc(e,0,!1,null,null,!1,!1,"",zd);return e._reactRootContainer=l,e[Ut]=l.current,Rs(e.nodeType===8?e.parentNode:e),Hn(function(){Fo(t,l,n,r)}),l}function qo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=go(o);a.call(l)}}Fo(t,o,e,s)}else o=Xv(n,t,e,s,r);return go(o)}Zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ss(t.pendingLanes);n!==0&&(Tu(t,n|1),He(t,pe()),!(G&6)&&(Lr=pe()+500,_n()))}break;case 13:Hn(function(){var r=Ft(e,1);if(r!==null){var s=De();wt(r,e,1,s)}}),ic(e,1)}};Pu=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=De();wt(t,e,134217728,n)}ic(e,134217728)}};ep=function(e){if(e.tag===13){var t=dn(e),n=Ft(e,t);if(n!==null){var r=De();wt(n,e,t,r)}ic(e,t)}};tp=function(){return Y};np=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};fl=function(e,t,n){switch(t){case"input":if(ol(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Lo(r);if(!s)throw Error(C(90));Of(r),ol(r,s)}}}break;case"textarea":If(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};zf=ec;Bf=Hn;var Yv={usingClientEntryPoint:!1,Events:[Js,cr,Lo,Uf,Ff,ec]},Yr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zv={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wf(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{No=_i.inject(Zv),kt=_i}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(C(200));return Gv(e,t,null,n)};Ze.createRoot=function(e,t){if(!ac(e))throw Error(C(299));var n=!1,r="",s=km;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sc(e,1,!1,null,null,n,!1,r,s),e[Ut]=t.current,Rs(e.nodeType===8?e.parentNode:e),new oc(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Wf(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Hn(e)};Ze.hydrate=function(e,t,n){if(!Bo(t))throw Error(C(200));return qo(null,e,t,!0,n)};Ze.hydrateRoot=function(e,t,n){if(!ac(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=km;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bm(t,null,e,1,n??null,s,!1,i,o),e[Ut]=t.current,Rs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zo(t)};Ze.render=function(e,t,n){if(!Bo(t))throw Error(C(200));return qo(null,e,t,!1,n)};Ze.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(C(40));return e._reactRootContainer?(Hn(function(){qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};Ze.unstable_batchedUpdates=ec;Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bo(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return qo(e,t,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jm)}catch(e){console.error(e)}}jm(),jf.exports=Ze;var ew=jf.exports,Tm,Bd=ew;Tm=Bd.createRoot,Bd.hydrateRoot;const tw="modulepreload",nw=function(e){return"/"+e},qd={},We=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=nw(l),l in qd)return;qd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":tw,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Pm=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ho=k.createContext({}),Wo=k.createContext(null),Ko=typeof document<"u",lc=Ko?k.useLayoutEffect:k.useEffect,Em=k.createContext({strict:!1}),uc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rw="framerAppearId",Cm="data-"+uc(rw);function sw(e,t,n,r){const{visualElement:s}=k.useContext(Ho),i=k.useContext(Em),o=k.useContext(Wo),a=k.useContext(Pm).reducedMotion,l=k.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;k.useInsertionEffect(()=>{u&&u.update(n,o)});const c=k.useRef(!!(n[Cm]&&!window.HandoffComplete));return lc(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function yr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iw(e,t,n){return k.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):yr(n)&&(n.current=r))},[t])}function Fs(e){return typeof e=="string"||Array.isArray(e)}function Qo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const cc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dc=["initial",...cc];function Go(e){return Qo(e.animate)||dc.some(t=>Fs(e[t]))}function Nm(e){return!!(Go(e)||e.variants)}function ow(e,t){if(Go(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fs(n)?n:void 0,animate:Fs(r)?r:void 0}}return e.inherit!==!1?t:{}}function aw(e){const{initial:t,animate:n}=ow(e,k.useContext(Ho));return k.useMemo(()=>({initial:t,animate:n}),[Hd(t),Hd(n)])}function Hd(e){return Array.isArray(e)?e.join(" "):e}const Wd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zs={};for(const e in Wd)zs[e]={isEnabled:t=>Wd[e].some(n=>!!t[n])};function lw(e){for(const t in e)zs[t]={...zs[t],...e[t]}}const hc=k.createContext({}),Am=k.createContext({}),uw=Symbol.for("motionComponentSymbol");function cw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&lw(e);function i(a,l){let u;const c={...k.useContext(Pm),...a,layoutId:dw(a)},{isStatic:h}=c,f=aw(a),m=r(a,h);if(!h&&Ko){f.visualElement=sw(s,m,c,t);const v=k.useContext(Am),w=k.useContext(Em).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,w,e,v))}return k.createElement(Ho.Provider,{value:f},u&&f.visualElement?k.createElement(u,{visualElement:f.visualElement,...c}):null,n(s,a,iw(m,f.visualElement,l),m,h,f.visualElement))}const o=k.forwardRef(i);return o[uw]=s,o}function dw({layoutId:e}){const t=k.useContext(hc).id;return t&&e!==void 0?t+"-"+e:e}function hw(e){function t(r,s={}){return cw(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const fw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fc(e){return typeof e!="string"||e.includes("-")?!1:!!(fw.indexOf(e)>-1||/[A-Z]/.test(e))}const yo={};function pw(e){Object.assign(yo,e)}const Ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gn=new Set(Ys);function Rm(e,{layout:t,layoutId:n}){return Gn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yo[e]||e==="opacity")}const Ke=e=>!!(e&&e.getVelocity),mw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gw=Ys.length;function yw(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<gw;o++){const a=Ys[o];if(e[a]!==void 0){const l=mw[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Om=e=>t=>typeof t=="string"&&t.startsWith(e),Lm=Om("--"),Wl=Om("var(--"),vw=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ww=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yn=(e,t,n)=>Math.min(Math.max(n,e),t),Jn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ys={...Jn,transform:e=>yn(0,1,e)},Si={...Jn,default:1},vs=e=>Math.round(e*1e5)/1e5,Jo=/(-)?([\d]*\.?[\d])+/g,Im=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zs(e){return typeof e=="string"}const ei=e=>({test:t=>Zs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kt=ei("deg"),Tt=ei("%"),$=ei("px"),_w=ei("vh"),Sw=ei("vw"),Kd={...Tt,parse:e=>Tt.parse(e)/100,transform:e=>Tt.transform(e*100)},Qd={...Jn,transform:Math.round},Dm={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:Kt,rotateX:Kt,rotateY:Kt,rotateZ:Kt,scale:Si,scaleX:Si,scaleY:Si,scaleZ:Si,skew:Kt,skewX:Kt,skewY:Kt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ys,originX:Kd,originY:Kd,originZ:$,zIndex:Qd,fillOpacity:ys,strokeOpacity:ys,numOctaves:Qd};function pc(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const f=t[h];if(Lm(h)){i[h]=f;continue}const m=Dm[h],v=ww(f,m);if(Gn.has(h)){if(l=!0,o[h]=v,!c)continue;f!==(m.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=v):s[h]=v}if(t.transform||(l||r?s.transform=yw(e.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${f} ${m}`}}const mc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mm(e,t,n){for(const r in t)!Ke(t[r])&&!Rm(r,n)&&(e[r]=t[r])}function bw({transformTemplate:e},t,n){return k.useMemo(()=>{const r=mc();return pc(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function kw(e,t,n){const r=e.style||{},s={};return Mm(s,r,e),Object.assign(s,bw(e,t,n)),e.transformValues?e.transformValues(s):s}function jw(e,t,n){const r={},s=kw(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Tw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tw.has(e)}let $m=e=>!vo(e);function Pw(e){e&&($m=t=>t.startsWith("on")?!vo(t):e(t))}try{Pw(require("@emotion/is-prop-valid").default)}catch{}function Ew(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||($m(s)||n===!0&&vo(s)||!t&&!vo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Gd(e,t,n){return typeof e=="string"?e:$.transform(t+n*e)}function Cw(e,t,n){const r=Gd(t,e.x,e.width),s=Gd(n,e.y,e.height);return`${r} ${s}`}const Nw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aw={offset:"strokeDashoffset",array:"strokeDasharray"};function Rw(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Nw:Aw;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function gc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(pc(e,u,c,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:w}=e;m.transform&&(w&&(v.transform=m.transform),delete m.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Cw(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Rw(m,o,a,l,!1)}const Vm=()=>({...mc(),attrs:{}}),yc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ow(e,t,n,r){const s=k.useMemo(()=>{const i=Vm();return gc(i,t,{enableHardwareAcceleration:!1},yc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Mm(i,e.style,e),s.style={...i,...s.style}}return s}function Lw(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(fc(n)?Ow:jw)(r,i,o,n),c={...Ew(r,typeof n=="string",e),...l,ref:s},{children:h}=r,f=k.useMemo(()=>Ke(h)?h.get():h,[h]);return k.createElement(n,{...c,children:f})}}function Um(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Fm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zm(e,t,n,r){Um(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Fm.has(s)?s:uc(s),t.attrs[s])}function vc(e,t){const{style:n}=e,r={};for(const s in n)(Ke(n[s])||t.style&&Ke(t.style[s])||Rm(s,e))&&(r[s]=n[s]);return r}function Bm(e,t){const n=vc(e,t);for(const r in e)if(Ke(e[r])||Ke(t[r])){const s=Ys.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function wc(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function qm(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const wo=e=>Array.isArray(e),Iw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Dw=e=>wo(e)?e[e.length-1]||0:e;function Bi(e){const t=Ke(e)?e.get():e;return Iw(t)?t.toValue():t}function Mw({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:$w(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Hm=e=>(t,n)=>{const r=k.useContext(Ho),s=k.useContext(Wo),i=()=>Mw(e,t,r,s);return n?i():qm(i)};function $w(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Bi(i[f]);let{initial:o,animate:a}=e;const l=Go(e),u=Nm(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Qo(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=wc(e,m);if(!v)return;const{transitionEnd:w,transition:_,...y}=v;for(const g in y){let p=y[g];if(Array.isArray(p)){const x=c?p.length-1:0;p=p[x]}p!==null&&(s[g]=p)}for(const g in w)s[g]=w[g]}),s}const me=e=>e;class Jd{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Vw(e){let t=new Jd,n=new Jd,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&s,f=h?t:n;return u&&o.add(l),f.add(l)&&h&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const bi=["prepare","read","update","preRender","render","postRender"],Uw=40;function Fw(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=bi.reduce((h,f)=>(h[f]=Vw(()=>n=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,Uw),1),s.timestamp=h,s.isProcessing=!0,bi.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:bi.reduce((h,f)=>{const m=i[f];return h[f]=(v,w=!1,_=!1)=>(n||l(),m.schedule(v,w,_)),h},{}),cancel:h=>bi.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:se,cancel:Bt,state:Ce,steps:La}=Fw(typeof requestAnimationFrame<"u"?requestAnimationFrame:me,!0),zw={useVisualState:Hm({scrapeMotionValuesFromProps:Bm,createRenderState:Vm,onMount:(e,t,{renderState:n,latestValues:r})=>{se.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),se.render(()=>{gc(n,r,{enableHardwareAcceleration:!1},yc(t.tagName),e.transformTemplate),zm(t,n)})}})},Bw={useVisualState:Hm({scrapeMotionValuesFromProps:vc,createRenderState:mc})};function qw(e,{forwardMotionProps:t=!1},n,r){return{...fc(e)?zw:Bw,preloadedFeatures:n,useRender:Lw(t),createVisualElement:r,Component:e}}function Lt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Wm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Xo(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Hw=e=>t=>Wm(t)&&e(t,Xo(t));function Dt(e,t,n,r){return Lt(e,t,Hw(n),r)}const Ww=(e,t)=>n=>t(e(n)),fn=(...e)=>e.reduce(Ww);function Km(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Xd=Km("dragHorizontal"),Yd=Km("dragVertical");function Qm(e){let t=!1;if(e==="y")t=Yd();else if(e==="x")t=Xd();else{const n=Xd(),r=Yd();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Gm(){const e=Qm(!0);return e?(e(),!1):!0}class Sn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Zd(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Gm())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&se.update(()=>a[r](i,o))};return Dt(e.current,n,s,{passive:!e.getProps()[r]})}class Kw extends Sn{mount(){this.unmount=fn(Zd(this.node,!0),Zd(this.node,!1))}unmount(){}}class Qw extends Sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fn(Lt(this.node.current,"focus",()=>this.onFocus()),Lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Jm=(e,t)=>t?e===t?!0:Jm(e,t.parentElement):!1;function Ia(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Xo(n))}class Gw extends Sn{constructor(){super(...arguments),this.removeStartListeners=me,this.removeEndListeners=me,this.removeAccessibleListeners=me,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps();se.update(()=>{!h&&!Jm(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ia("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&se.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Lt(this.node.current,"keyup",o),Ia("down",(a,l)=>{this.startPress(a,l)})},n=Lt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ia("cancel",(i,o)=>this.cancelPress(i,o))},s=Lt(this.node.current,"blur",r);this.removeAccessibleListeners=fn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&se.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Gm()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&se.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Dt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Lt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kl=new WeakMap,Da=new WeakMap,Jw=e=>{const t=Kl.get(e.target);t&&t(e)},Xw=e=>{e.forEach(Jw)};function Yw({root:e,...t}){const n=e||document;Da.has(n)||Da.set(n,{});const r=Da.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Xw,{root:e,...t})),r[s]}function Zw(e,t,n){const r=Yw(t);return Kl.set(e,n),r.observe(e),()=>{Kl.delete(e),r.unobserve(e)}}const ex={some:0,all:1};class tx extends Sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ex[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return Zw(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(nx(t,n))&&this.startObserver()}unmount(){}}function nx({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const rx={inView:{Feature:tx},tap:{Feature:Gw},focus:{Feature:Qw},hover:{Feature:Kw}};function Xm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function sx(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ix(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Yo(e,t,n){const r=e.getProps();return wc(r,t,n!==void 0?n:r.custom,sx(e),ix(e))}let xo=me;const Un=e=>e*1e3,Mt=e=>e/1e3,ox={current:!1},Ym=e=>Array.isArray(e)&&typeof e[0]=="number";function Zm(e){return!!(!e||typeof e=="string"&&e0[e]||Ym(e)||Array.isArray(e)&&e.every(Zm))}const os=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,e0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:os([0,.65,.55,1]),circOut:os([.55,0,1,.45]),backIn:os([.31,.01,.66,-.59]),backOut:os([.33,1.53,.69,.99])};function t0(e){if(e)return Ym(e)?os(e):Array.isArray(e)?e.map(t0):e0[e]}function ax(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=t0(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function lx(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const n0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ux=1e-7,cx=12;function dx(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=n0(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>ux&&++a<cx);return o}function ti(e,t,n,r){if(e===t&&n===r)return me;const s=i=>dx(i,0,1,e,n);return i=>i===0||i===1?i:n0(s(i),t,r)}const hx=ti(.42,0,1,1),fx=ti(0,0,.58,1),r0=ti(.42,0,.58,1),px=e=>Array.isArray(e)&&typeof e[0]!="number",s0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,i0=e=>t=>1-e(1-t),xc=e=>1-Math.sin(Math.acos(e)),o0=i0(xc),mx=s0(xc),a0=ti(.33,1.53,.69,.99),_c=i0(a0),gx=s0(_c),yx=e=>(e*=2)<1?.5*_c(e):.5*(2-Math.pow(2,-10*(e-1))),eh={linear:me,easeIn:hx,easeInOut:r0,easeOut:fx,circIn:xc,circInOut:mx,circOut:o0,backIn:_c,backInOut:gx,backOut:a0,anticipate:yx},th=e=>{if(Array.isArray(e)){xo(e.length===4);const[t,n,r,s]=e;return ti(t,n,r,s)}else if(typeof e=="string")return xo(eh[e]!==void 0),eh[e];return e},Sc=(e,t)=>n=>!!(Zs(n)&&xw.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),l0=(e,t,n)=>r=>{if(!Zs(r))return r;const[s,i,o,a]=r.match(Jo);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vx=e=>yn(0,255,e),Ma={...Jn,transform:e=>Math.round(vx(e))},Mn={test:Sc("rgb","red"),parse:l0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ma.transform(e)+", "+Ma.transform(t)+", "+Ma.transform(n)+", "+vs(ys.transform(r))+")"};function wx(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ql={test:Sc("#"),parse:wx,transform:Mn.transform},vr={test:Sc("hsl","hue"),parse:l0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Tt.transform(vs(t))+", "+Tt.transform(vs(n))+", "+vs(ys.transform(r))+")"},Le={test:e=>Mn.test(e)||Ql.test(e)||vr.test(e),parse:e=>Mn.test(e)?Mn.parse(e):vr.test(e)?vr.parse(e):Ql.parse(e),transform:e=>Zs(e)?e:e.hasOwnProperty("red")?Mn.transform(e):vr.transform(e)},ce=(e,t,n)=>-n*e+n*t+e;function $a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xx({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=$a(l,a,e+1/3),i=$a(l,a,e),o=$a(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Va=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},_x=[Ql,Mn,vr],Sx=e=>_x.find(t=>t.test(e));function nh(e){const t=Sx(e);let n=t.parse(e);return t===vr&&(n=xx(n)),n}const u0=(e,t)=>{const n=nh(e),r=nh(t),s={...n};return i=>(s.red=Va(n.red,r.red,i),s.green=Va(n.green,r.green,i),s.blue=Va(n.blue,r.blue,i),s.alpha=ce(n.alpha,r.alpha,i),Mn.transform(s))};function bx(e){var t,n;return isNaN(e)&&Zs(e)&&(((t=e.match(Jo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Im))===null||n===void 0?void 0:n.length)||0)>0}const c0={regex:vw,countKey:"Vars",token:"${v}",parse:me},d0={regex:Im,countKey:"Colors",token:"${c}",parse:Le.parse},h0={regex:Jo,countKey:"Numbers",token:"${n}",parse:Jn.parse};function Ua(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function _o(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ua(n,c0),Ua(n,d0),Ua(n,h0),n}function f0(e){return _o(e).values}function p0(e){const{values:t,numColors:n,numVars:r,tokenised:s}=_o(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(c0.token,o[l]):l<r+n?a=a.replace(d0.token,Le.transform(o[l])):a=a.replace(h0.token,vs(o[l]));return a}}const kx=e=>typeof e=="number"?0:e;function jx(e){const t=f0(e);return p0(e)(t.map(kx))}const vn={test:bx,parse:f0,createTransformer:p0,getAnimatableNone:jx},m0=(e,t)=>n=>`${n>0?t:e}`;function g0(e,t){return typeof e=="number"?n=>ce(e,t,n):Le.test(e)?u0(e,t):e.startsWith("var(")?m0(e,t):v0(e,t)}const y0=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>g0(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},Tx=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=g0(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},v0=(e,t)=>{const n=vn.createTransformer(t),r=_o(e),s=_o(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?fn(y0(r.values,s.values),n):m0(e,t)},Bs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},rh=(e,t)=>n=>ce(e,t,n);function Px(e){return typeof e=="number"?rh:typeof e=="string"?Le.test(e)?u0:v0:Array.isArray(e)?y0:typeof e=="object"?Tx:rh}function Ex(e,t,n){const r=[],s=n||Px(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||me:t;a=fn(l,a)}r.push(a)}return r}function w0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(xo(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Ex(t,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=Bs(e[c],e[c+1],u);return o[c](h)};return n?u=>l(yn(e[0],e[i-1],u)):l}function Cx(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Bs(0,t,r);e.push(ce(n,1,s))}}function Nx(e){const t=[0];return Cx(t,e.length-1),t}function Ax(e,t){return e.map(n=>n*t)}function Rx(e,t){return e.map(()=>t||r0).splice(0,e.length-1)}function So({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=px(r)?r.map(th):th(r),i={done:!1,value:t[0]},o=Ax(n&&n.length===t.length?n:Nx(t),e),a=w0(o,t,{ease:Array.isArray(s)?s:Rx(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function x0(e,t){return t?e*(1e3/t):0}const Ox=5;function _0(e,t,n){const r=Math.max(t-Ox,0);return x0(n-e(r),t-r)}const Fa=.001,Lx=.01,Ix=10,Dx=.05,Mx=1;function $x({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=yn(Dx,Mx,o),e=yn(Lx,Ix,Mt(e)),o<1?(s=u=>{const c=u*o,h=c*e,f=c-n,m=Gl(u,o),v=Math.exp(-h);return Fa-f/m*v},i=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=Gl(Math.pow(u,2),o);return(-s(u)+Fa>0?-1:1)*((f-m)*v)/w}):(s=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Fa+c*h},i=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=Ux(s,i,a);if(e=Un(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Vx=12;function Ux(e,t,n){let r=n;for(let s=1;s<Vx;s++)r=r-e(r)/t(r);return r}function Gl(e,t){return e*Math.sqrt(1-t*t)}const Fx=["duration","bounce"],zx=["stiffness","damping","mass"];function sh(e,t){return t.some(n=>e[n]!==void 0)}function Bx(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sh(e,zx)&&sh(e,Fx)){const n=$x(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function S0({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=Bx({...r,velocity:-Mt(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*u)),w=i-s,_=Mt(Math.sqrt(a/u)),y=Math.abs(w)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let g;if(v<1){const p=Gl(_,v);g=x=>{const b=Math.exp(-v*_*x);return i-b*((m+v*_*w)/p*Math.sin(p*x)+w*Math.cos(p*x))}}else if(v===1)g=p=>i-Math.exp(-_*p)*(w+(m+_*w)*p);else{const p=_*Math.sqrt(v*v-1);g=x=>{const b=Math.exp(-v*_*x),P=Math.min(p*x,300);return i-b*((m+v*_*w)*Math.sinh(P)+p*w*Math.cosh(P))/p}}return{calculatedDuration:f&&c||null,next:p=>{const x=g(p);if(f)o.done=p>=c;else{let b=m;p!==0&&(v<1?b=_0(g,p,x):b=0);const P=Math.abs(b)<=n,S=Math.abs(i-x)<=t;o.done=P&&S}return o.value=o.done?i:x,o}}}function ih({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*t;const _=h+w,y=o===void 0?_:o(_);y!==_&&(w=y-h);const g=T=>-w*Math.exp(-T/r),p=T=>y+g(T),x=T=>{const N=g(T),R=p(T);f.done=Math.abs(N)<=u,f.value=f.done?y:R};let b,P;const S=T=>{m(f.value)&&(b=T,P=S0({keyframes:[f.value,v(f.value)],velocity:_0(p,T,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:T=>{let N=!1;return!P&&b===void 0&&(N=!0,x(T),S(T)),b!==void 0&&T>b?P.next(T-b):(!N&&x(T),f)}}}const qx=e=>{const t=({timestamp:n})=>e(n);return{start:()=>se.update(t,!0),stop:()=>Bt(t),now:()=>Ce.isProcessing?Ce.timestamp:performance.now()}},oh=2e4;function ah(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oh;)t+=n,r=e.next(t);return t>=oh?1/0:t}const Hx={decay:ih,inertia:ih,tween:So,keyframes:So,spring:S0};function bo({autoplay:e=!0,delay:t=0,driver:n=qx,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let m=1,v=!1,w,_;const y=()=>{_=new Promise(V=>{w=V})};y();let g;const p=Hx[s]||So;let x;p!==So&&typeof r[0]!="number"&&(x=w0([0,100],r,{clamp:!1}),r=[0,100]);const b=p({...f,keyframes:r});let P;a==="mirror"&&(P=p({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let S="idle",T=null,N=null,R=null;b.calculatedDuration===null&&i&&(b.calculatedDuration=ah(b));const{calculatedDuration:I}=b;let D=1/0,J=1/0;I!==null&&(D=I+o,J=D*(i+1)-o);let ee=0;const Re=V=>{if(N===null)return;m>0&&(N=Math.min(N,V)),m<0&&(N=Math.min(V-J/m,N)),T!==null?ee=T:ee=Math.round(V-N)*m;const te=ee-t*(m>=0?1:-1),Pt=m>=0?te<0:te>J;ee=Math.max(te,0),S==="finished"&&T===null&&(ee=J);let tt=ee,Ht=b;if(i){const z=Math.min(ee,J)/D;let W=Math.floor(z),X=z%1;!X&&z>=1&&(X=1),X===1&&W--,W=Math.min(W,i+1),!!(W%2)&&(a==="reverse"?(X=1-X,o&&(X-=o/D)):a==="mirror"&&(Ht=P)),tt=yn(0,1,X)*D}const Te=Pt?{done:!1,value:r[0]}:Ht.next(tt);x&&(Te.value=x(Te.value));let{done:U}=Te;!Pt&&I!==null&&(U=m>=0?ee>=J:ee<=0);const B=T===null&&(S==="finished"||S==="running"&&U);return h&&h(Te.value),B&&A(),Te},E=()=>{g&&g.stop(),g=void 0},Q=()=>{S="idle",E(),w(),y(),N=R=null},A=()=>{S="finished",c&&c(),E(),w()},L=()=>{if(v)return;g||(g=n(Re));const V=g.now();l&&l(),T!==null?N=V-T:(!N||S==="finished")&&(N=V),S==="finished"&&y(),R=N,T=null,S="running",g.start()};e&&L();const M={then(V,te){return _.then(V,te)},get time(){return Mt(ee)},set time(V){V=Un(V),ee=V,T!==null||!g||m===0?T=V:N=g.now()-V/m},get duration(){const V=b.calculatedDuration===null?ah(b):b.calculatedDuration;return Mt(V)},get speed(){return m},set speed(V){V===m||!g||(m=V,M.time=Mt(ee))},get state(){return S},play:L,pause:()=>{S="paused",T=ee},stop:()=>{v=!0,S!=="idle"&&(S="idle",u&&u(),Q())},cancel:()=>{R!==null&&Re(R),Q()},complete:()=>{S="finished"},sample:V=>(N=0,Re(V))};return M}function Wx(e){let t;return()=>(t===void 0&&(t=e()),t)}const Kx=Wx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qx=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ki=10,Gx=2e4,Jx=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Zm(t.ease);function Xx(e,t,{onUpdate:n,onComplete:r,...s}){if(!(Kx()&&Qx.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(p=>{a=p})};c();let{keyframes:h,duration:f=300,ease:m,times:v}=s;if(Jx(t,s)){const p=bo({...s,repeat:0,delay:0});let x={done:!1,value:h[0]};const b=[];let P=0;for(;!x.done&&P<Gx;)x=p.sample(P),b.push(x.value),P+=ki;v=void 0,h=b,f=P-ki,m="linear"}const w=ax(e.owner.current,t,h,{...s,duration:f,ease:m,times:v}),_=()=>{u=!1,w.cancel()},y=()=>{u=!0,se.update(_),a(),c()};return w.onfinish=()=>{u||(e.set(lx(h,s)),r&&r(),y())},{then(p,x){return l.then(p,x)},attachTimeline(p){return w.timeline=p,w.onfinish=null,me},get time(){return Mt(w.currentTime||0)},set time(p){w.currentTime=Un(p)},get speed(){return w.playbackRate},set speed(p){w.playbackRate=p},get duration(){return Mt(f)},play:()=>{o||(w.play(),Bt(_))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:p}=w;if(p){const x=bo({...s,autoplay:!1});e.setWithVelocity(x.sample(p-ki).value,x.sample(p).value,ki)}y()},complete:()=>{u||w.finish()},cancel:y}}function Yx({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:me,pause:me,stop:me,then:i=>(i(),Promise.resolve()),cancel:me,complete:me});return t?bo({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Zx={type:"spring",stiffness:500,damping:25,restSpeed:10},e1=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),t1={type:"keyframes",duration:.8},n1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r1=(e,{keyframes:t})=>t.length>2?t1:Gn.has(e)?e.startsWith("scale")?e1(t[1]):Zx:n1,Jl=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vn.test(t)||t==="0")&&!t.startsWith("url(")),s1=new Set(["brightness","contrast","saturate","opacity"]);function i1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Jo)||[];if(!r)return e;const s=n.replace(r,"");let i=s1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const o1=/([a-z-]*)\(.*?\)/g,Xl={...vn,getAnimatableNone:e=>{const t=e.match(o1);return t?t.map(i1).join(" "):e}},a1={...Dm,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:Xl,WebkitFilter:Xl},bc=e=>a1[e];function b0(e,t){let n=bc(e);return n!==Xl&&(n=vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const k0=e=>/^0[^.\s]+$/.test(e);function l1(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||k0(e)}function u1(e,t,n,r){const s=Jl(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),l1(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=b0(t,a)}return i}function c1({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function kc(e,t){return e[t]||e.default||e}const d1={skipAnimations:!1},jc=(e,t,n,r={})=>s=>{const i=kc(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Un(o);const l=u1(t,e,n,i),u=l[0],c=l[l.length-1],h=Jl(e,u),f=Jl(e,c);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(c1(i)||(m={...m,...r1(e,m)}),m.duration&&(m.duration=Un(m.duration)),m.repeatDelay&&(m.repeatDelay=Un(m.repeatDelay)),!h||!f||ox.current||i.type===!1||d1.skipAnimations)return Yx(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=Xx(t,e,m);if(v)return v}return bo(m)};function ko(e){return!!(Ke(e)&&e.add)}const j0=e=>/^\-?\d*\.?\d+$/.test(e);function Tc(e,t){e.indexOf(t)===-1&&e.push(t)}function Pc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ec{constructor(){this.subscriptions=[]}add(t){return Tc(this.subscriptions,t),()=>Pc(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const h1=e=>!isNaN(parseFloat(e));class f1{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ce;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,se.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>se.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=h1(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ec);const r=this.events[t].add(n);return t==="change"?()=>{r(),se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?x0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ir(e,t){return new f1(e,t)}const T0=e=>t=>t.test(e),p1={test:e=>e==="auto",parse:e=>e},P0=[Jn,$,Tt,Kt,Sw,_w,p1],Zr=e=>P0.find(T0(e)),m1=[...P0,Le,vn],g1=e=>m1.find(T0(e));function y1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ir(n))}function v1(e,t){const n=Yo(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=Dw(i[o]);y1(e,o,a)}}function w1(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),c!=null&&(typeof c=="string"&&(j0(c)||k0(c))?c=parseFloat(c):!g1(c)&&vn.test(u)&&(c=b0(l,u)),e.addValue(l,Ir(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function x1(e,t){return t?(t[e]||t.default||t).from:void 0}function _1(e,t,n){const r={};for(const s in e){const i=x1(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function S1({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function b1(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function E0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),m=a[h];if(!f||m===void 0||c&&S1(c,h))continue;const v={delay:n,elapsed:0,...kc(i||{},h)};if(window.HandoffAppearAnimations){const y=e.getProps()[Cm];if(y){const g=window.HandoffAppearAnimations(y,h,f,se);g!==null&&(v.elapsed=g,v.isHandoff=!0)}}let w=!v.isHandoff&&!b1(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(jc(h,f,m,e.shouldReduceMotion&&Gn.has(h)?{type:!1}:v));const _=f.animation;ko(l)&&(l.add(h),_.then(()=>l.remove(h))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&v1(e,o)}),u}function Yl(e,t,n={}){const r=Yo(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(E0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=s;return k1(e,t,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function k1(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(j1).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Yl(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function j1(e,t){return e.sortNodePosition(t)}function T1(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Yl(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Yl(e,t,n);else{const s=typeof t=="function"?Yo(e,t,n.custom):t;r=Promise.all(E0(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const P1=[...cc].reverse(),E1=cc.length;function C1(e){return t=>Promise.all(t.map(({animation:n,options:r})=>T1(e,n,r)))}function N1(e){let t=C1(e);const n=R1();let r=!0;const s=(l,u)=>{const c=Yo(e,u);if(c){const{transition:h,transitionEnd:f,...m}=c;l={...l,...m,...f}}return l};function i(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},f=[],m=new Set;let v={},w=1/0;for(let y=0;y<E1;y++){const g=P1[y],p=n[g],x=c[g]!==void 0?c[g]:h[g],b=Fs(x),P=g===u?p.isActive:null;P===!1&&(w=y);let S=x===h[g]&&x!==c[g]&&b;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...v},!p.isActive&&P===null||!x&&!p.prevProp||Qo(x)||typeof x=="boolean")continue;let N=A1(p.prevProp,x)||g===u&&p.isActive&&!S&&b||y>w&&b,R=!1;const I=Array.isArray(x)?x:[x];let D=I.reduce(s,{});P===!1&&(D={});const{prevResolvedValues:J={}}=p,ee={...J,...D},Re=E=>{N=!0,m.has(E)&&(R=!0,m.delete(E)),p.needsAnimating[E]=!0};for(const E in ee){const Q=D[E],A=J[E];if(v.hasOwnProperty(E))continue;let L=!1;wo(Q)&&wo(A)?L=!Xm(Q,A):L=Q!==A,L?Q!==void 0?Re(E):m.add(E):Q!==void 0&&m.has(E)?Re(E):p.protectedKeys[E]=!0}p.prevProp=x,p.prevResolvedValues=D,p.isActive&&(v={...v,...D}),r&&e.blockInitialAnimation&&(N=!1),N&&(!S||R)&&f.push(...I.map(E=>({animation:E,options:{type:g,...l}})))}if(m.size){const y={};m.forEach(g=>{const p=e.getBaseTarget(g);p!==void 0&&(y[g]=p)}),f.push({animation:y})}let _=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function A1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xm(t,e):!1}function jn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R1(){return{animate:jn(!0),whileInView:jn(),whileHover:jn(),whileTap:jn(),whileDrag:jn(),whileFocus:jn(),exit:jn()}}class O1 extends Sn{constructor(t){super(t),t.animationState||(t.animationState=N1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Qo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let L1=0;class I1 extends Sn{constructor(){super(...arguments),this.id=L1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const D1={animation:{Feature:O1},exit:{Feature:I1}},lh=(e,t)=>Math.abs(e-t);function M1(e,t){const n=lh(e.x,t.x),r=lh(e.y,t.y);return Math.sqrt(n**2+r**2)}class C0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ba(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=M1(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:w}=Ce;this.history.push({...v,timestamp:w});const{onStart:_,onMove:y}=this.handlers;f||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=za(f,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ba(h.type==="pointercancel"?this.lastMoveEventInfo:za(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),v&&v(h,_)},!Wm(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Xo(t),a=za(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ce;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Ba(a,this.history)),this.removeListeners=fn(Dt(this.contextWindow,"pointermove",this.handlePointerMove),Dt(this.contextWindow,"pointerup",this.handlePointerUp),Dt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bt(this.updatePoint)}}function za(e,t){return t?{point:t(e.point)}:e}function uh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ba({point:e},t){return{point:e,delta:uh(e,N0(t)),offset:uh(e,$1(t)),velocity:V1(t,.1)}}function $1(e){return e[0]}function N0(e){return e[e.length-1]}function V1(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=N0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Un(t)));)n--;if(!r)return{x:0,y:0};const i=Mt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ye(e){return e.max-e.min}function Zl(e,t=0,n=.01){return Math.abs(e-t)<=n}function ch(e,t,n,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=Ye(n)/Ye(t),(Zl(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(Zl(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){ch(e.x,t.x,n.x,r?r.originX:void 0),ch(e.y,t.y,n.y,r?r.originY:void 0)}function dh(e,t,n){e.min=n.min+t.min,e.max=e.min+Ye(t)}function U1(e,t,n){dh(e.x,t.x,n.x),dh(e.y,t.y,n.y)}function hh(e,t,n){e.min=t.min-n.min,e.max=e.min+Ye(t)}function xs(e,t,n){hh(e.x,t.x,n.x),hh(e.y,t.y,n.y)}function F1(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ce(n,e,r.max):Math.min(e,n)),e}function fh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function z1(e,{top:t,left:n,bottom:r,right:s}){return{x:fh(e.x,n,s),y:fh(e.y,t,r)}}function ph(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function B1(e,t){return{x:ph(e.x,t.x),y:ph(e.y,t.y)}}function q1(e,t){let n=.5;const r=Ye(e),s=Ye(t);return s>r?n=Bs(t.min,t.max-r,e.min):r>s&&(n=Bs(e.min,e.max-s,t.min)),yn(0,1,n)}function H1(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eu=.35;function W1(e=eu){return e===!1?e=0:e===!0&&(e=eu),{x:mh(e,"left","right"),y:mh(e,"top","bottom")}}function mh(e,t,n){return{min:gh(e,t),max:gh(e,n)}}function gh(e,t){return typeof e=="number"?e:e[t]||0}const yh=()=>({translate:0,scale:1,origin:0,originPoint:0}),wr=()=>({x:yh(),y:yh()}),vh=()=>({min:0,max:0}),ge=()=>({x:vh(),y:vh()});function rt(e){return[e("x"),e("y")]}function A0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function K1({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q1(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qa(e){return e===void 0||e===1}function tu({scale:e,scaleX:t,scaleY:n}){return!qa(e)||!qa(t)||!qa(n)}function Cn(e){return tu(e)||R0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function R0(e){return wh(e.x)||wh(e.y)}function wh(e){return e&&e!=="0%"}function jo(e,t,n){const r=e-n,s=t*r;return n+s}function xh(e,t,n,r,s){return s!==void 0&&(e=jo(e,s,r)),jo(e,n,r)+t}function nu(e,t=0,n=1,r,s){e.min=xh(e.min,t,n,r,s),e.max=xh(e.max,t,n,r,s)}function O0(e,{x:t,y:n}){nu(e.x,t.translate,t.scale,t.originPoint),nu(e.y,n.translate,n.scale,n.originPoint)}function G1(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,O0(e,o)),r&&Cn(i.latestValues)&&xr(e,i.latestValues))}t.x=_h(t.x),t.y=_h(t.y)}function _h(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xt(e,t){e.min=e.min+t,e.max=e.max+t}function Sh(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=ce(e.min,e.max,i);nu(e,t[n],t[r],o,t.scale)}const J1=["x","scaleX","originX"],X1=["y","scaleY","originY"];function xr(e,t){Sh(e.x,t,J1),Sh(e.y,t,X1)}function L0(e,t){return A0(Q1(e.getBoundingClientRect(),t))}function Y1(e,t,n){const r=L0(e,n),{scroll:s}=t;return s&&(Xt(r.x,s.offset.x),Xt(r.y,s.offset.y)),r}const I0=({current:e})=>e?e.ownerDocument.defaultView:null,Z1=new WeakMap;class e_{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xo(c,"page").point)},i=(c,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Qm(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rt(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Tt.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const p=g.layout.layoutBox[_];p&&(y=Ye(p)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&se.update(()=>v(c,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=t_(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),w&&w(c,h)},a=(c,h)=>this.stop(c,h),l=()=>rt(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new C0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:I0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&se.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ji(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=F1(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&yr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=z1(s.layoutBox,n):this.constraints=!1,this.elastic=W1(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=H1(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!yr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Y1(r,s.root,this.visualElement.getTransformPagePoint());let o=B1(s.layout.layoutBox,i);if(n){const a=n(K1(o));this.hasMutatedConstraints=!!a,a&&(o=A0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=rt(c=>{if(!ji(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(jc(t,r,0,n))}stopAnimation(){rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rt(n=>{const{drag:r}=this.getProps();if(!ji(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=q1({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rt(o=>{if(!ji(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ce(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Z1.set(this.visualElement,this);const t=this.visualElement.current,n=Dt(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Lt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=eu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ji(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n_ extends Sn{constructor(t){super(t),this.removeGroupControls=me,this.removeListeners=me,this.controls=new e_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||me}unmount(){this.removeGroupControls(),this.removeListeners()}}const bh=e=>(t,n)=>{e&&se.update(()=>e(t,n))};class r_ extends Sn{constructor(){super(...arguments),this.removePointerDownListener=me}onPointerDown(t){this.session=new C0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bh(t),onStart:bh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&se.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Dt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function s_(){const e=k.useContext(Wo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=k.useId();return k.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const qi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const es={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=kh(e,t.target.x),r=kh(e,t.target.y);return`${n}% ${r}%`}},i_={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=vn.parse(e);if(s.length>5)return r;const i=vn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=ce(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class o_ extends Vr.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;pw(a_),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function D0(e){const[t,n]=s_(),r=k.useContext(hc);return Vr.createElement(o_,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(Am),isPresent:t,safeToRemove:n})}const a_={borderRadius:{...es,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:es,borderTopRightRadius:es,borderBottomLeftRadius:es,borderBottomRightRadius:es,boxShadow:i_},M0=["TopLeft","TopRight","BottomLeft","BottomRight"],l_=M0.length,jh=e=>typeof e=="string"?parseFloat(e):e,Th=e=>typeof e=="number"||$.test(e);function u_(e,t,n,r,s,i){s?(e.opacity=ce(0,n.opacity!==void 0?n.opacity:1,c_(r)),e.opacityExit=ce(t.opacity!==void 0?t.opacity:1,0,d_(r))):i&&(e.opacity=ce(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<l_;o++){const a=`border${M0[o]}Radius`;let l=Ph(t,a),u=Ph(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Th(l)===Th(u)?(e[a]=Math.max(ce(jh(l),jh(u),r),0),(Tt.test(u)||Tt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,r))}function Ph(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c_=$0(0,.5,o0),d_=$0(.5,.95,me);function $0(e,t,n){return r=>r<e?0:r>t?1:n(Bs(e,t,r))}function Eh(e,t){e.min=t.min,e.max=t.max}function nt(e,t){Eh(e.x,t.x),Eh(e.y,t.y)}function Ch(e,t,n,r,s){return e-=t,e=jo(e,1/n,r),s!==void 0&&(e=jo(e,1/s,r)),e}function h_(e,t=0,n=1,r=.5,s,i=e,o=e){if(Tt.test(t)&&(t=parseFloat(t),t=ce(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ce(i.min,i.max,r);e===i&&(a-=t),e.min=Ch(e.min,t,n,a,s),e.max=Ch(e.max,t,n,a,s)}function Nh(e,t,[n,r,s],i,o){h_(e,t[n],t[r],t[s],t.scale,i,o)}const f_=["x","scaleX","originX"],p_=["y","scaleY","originY"];function Ah(e,t,n,r){Nh(e.x,t,f_,n?n.x:void 0,r?r.x:void 0),Nh(e.y,t,p_,n?n.y:void 0,r?r.y:void 0)}function Rh(e){return e.translate===0&&e.scale===1}function V0(e){return Rh(e.x)&&Rh(e.y)}function m_(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function U0(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Oh(e){return Ye(e.x)/Ye(e.y)}class g_{constructor(){this.members=[]}add(t){Tc(this.members,t),t.scheduleRender()}remove(t){if(Pc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lh(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const y_=(e,t)=>e.depth-t.depth;class v_{constructor(){this.children=[],this.isDirty=!1}add(t){Tc(this.children,t),this.isDirty=!0}remove(t){Pc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y_),this.isDirty=!1,this.children.forEach(t)}}function w_(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Bt(r),e(i-t))};return se.read(r,!0),()=>Bt(r)}function x_(e){window.MotionDebug&&window.MotionDebug.record(e)}function __(e){return e instanceof SVGElement&&e.tagName!=="svg"}function S_(e,t,n){const r=Ke(e)?e:Ir(e);return r.start(jc("",r,t,n)),r.animation}const Ih=["","X","Y","Z"],b_={visibility:"hidden"},Dh=1e3;let k_=0;const Nn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function F0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=k_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nn.totalNodes=Nn.resolvedTargetDeltas=Nn.recalculatedProjection=0,this.nodes.forEach(P_),this.nodes.forEach(R_),this.nodes.forEach(O_),this.nodes.forEach(E_),x_(Nn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new v_)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ec),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=__(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=w_(f,250),qi.hasAnimatedSinceResize&&(qi.hasAnimatedSinceResize=!1,this.nodes.forEach($h))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||$_,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!U0(this.targetLayout,v)||m,p=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,p);const x={...kc(w,"layout"),onPlay:_,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||$h(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mh);return}this.isUpdating||this.nodes.forEach(N_),this.isUpdating=!1,this.nodes.forEach(A_),this.nodes.forEach(j_),this.nodes.forEach(T_),this.clearAllSnapshots();const a=performance.now();Ce.delta=yn(0,1e3/60,a-Ce.timestamp),Ce.timestamp=a,Ce.isProcessing=!0,La.update.process(Ce),La.preRender.process(Ce),La.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(C_),this.sharedNodes.forEach(I_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!V0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Cn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),V_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ge();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Xt(a.x,l.offset.x),Xt(a.y,l.offset.y)),a}removeElementScroll(o){const a=ge();nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){nt(a,o);const{scroll:f}=this.root;f&&(Xt(a.x,-f.offset.x),Xt(a.y,-f.offset.y))}Xt(a.x,c.offset.x),Xt(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ge();nt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&xr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Cn(c.latestValues)&&xr(l,c.latestValues)}return Cn(this.latestValues)&&xr(l,this.latestValues),l}removeTransform(o){const a=ge();nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Cn(u.latestValues))continue;tu(u.latestValues)&&u.updateSnapshot();const c=ge(),h=u.measurePageBox();nt(c,h),Ah(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Cn(this.latestValues)&&Ah(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),xs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nt(this.target,this.layout.layoutBox),O0(this.target,this.targetDelta)):nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),xs(this.relativeTargetOrigin,this.target,m.target),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tu(this.parent.latestValues)||R0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;nt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;G1(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=wr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wr(),this.projectionDeltaWithTransform=wr());const w=this.projectionTransform;ws(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Lh(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Nn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ge(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,_=this.getStack(),y=!_||_.members.length<=1,g=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(M_));this.animationProgress=0;let p;this.mixTargetDelta=x=>{const b=x/1e3;Vh(h.x,o.x,b),Vh(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D_(this.relativeTarget,this.relativeTargetOrigin,f,b),p&&m_(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=ge()),nt(p,this.relativeTarget)),w&&(this.animationValues=c,u_(c,u,this.latestValues,b,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{qi.hasAnimatedSinceResize=!0,this.currentAnimation=S_(0,Dh,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&z0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ge();const h=Ye(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ye(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nt(a,l),xr(a,c),ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new g_),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Ih.length;c++){const h="rotate"+Ih[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return b_;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Bi(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Bi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Lh(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in yo){if(f[w]===void 0)continue;const{correct:_,applyTo:y}=yo[w],g=u.transform==="none"?f[w]:_(f[w],h);if(y){const p=y.length;for(let x=0;x<p;x++)u[y[x]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Bi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Mh),this.root.sharedNodes.clear()}}}function j_(e){e.updateLayout()}function T_(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=Ye(f);f.min=r[h].min,f.max=f.min+m}):z0(i,n.layoutBox,r)&&rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=Ye(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=wr();ws(a,r,n.layoutBox);const l=wr();o?ws(l,e.applyTransform(s,!0),n.measuredBox):ws(l,r,n.layoutBox);const u=!V0(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=ge();xs(v,n.layoutBox,f.layoutBox);const w=ge();xs(w,r,m.layoutBox),U0(v,w)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function P_(e){Nn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function E_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function C_(e){e.clearSnapshot()}function Mh(e){e.clearMeasurements()}function N_(e){e.isLayoutDirty=!1}function A_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $h(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R_(e){e.resolveTargetDelta()}function O_(e){e.calcProjection()}function L_(e){e.resetRotation()}function I_(e){e.removeLeadSnapshot()}function Vh(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Uh(e,t,n,r){e.min=ce(t.min,n.min,r),e.max=ce(t.max,n.max,r)}function D_(e,t,n,r){Uh(e.x,t.x,n.x,r),Uh(e.y,t.y,n.y,r)}function M_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $_={duration:.45,ease:[.4,0,.1,1]},Fh=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),zh=Fh("applewebkit/")&&!Fh("chrome/")?Math.round:me;function Bh(e){e.min=zh(e.min),e.max=zh(e.max)}function V_(e){Bh(e.x),Bh(e.y)}function z0(e,t,n){return e==="position"||e==="preserve-aspect"&&!Zl(Oh(t),Oh(n),.2)}const U_=F0({attachResizeListener:(e,t)=>Lt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ha={current:void 0},B0=F0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ha.current){const e=new U_({});e.mount(window),e.setOptions({layoutScroll:!0}),Ha.current=e}return Ha.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),F_={pan:{Feature:r_},drag:{Feature:n_,ProjectionNode:B0,MeasureLayout:D0}},z_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function B_(e){const t=z_.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function ru(e,t,n=1){const[r,s]=B_(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return j0(o)?parseFloat(o):o}else return Wl(s)?ru(s,t,n+1):s}function q_(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Wl(i))return;const o=ru(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!Wl(i))continue;const o=ru(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const H_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),q0=e=>H_.has(e),W_=e=>Object.keys(e).some(q0),qh=e=>e===Jn||e===$,Hh=(e,t)=>parseFloat(e.split(", ")[t]),Wh=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Hh(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Hh(i[1],e):0}},K_=new Set(["x","y","z"]),Q_=Ys.filter(e=>!K_.has(e));function G_(e){const t=[];return Q_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Dr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wh(4,13),y:Wh(5,14)};Dr.translateX=Dr.x;Dr.translateY=Dr.y;const J_=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Dr[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Dr[u](l,i)}),e},X_=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(q0);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Zr(c);const f=t[l];let m;if(wo(f)){const v=f.length,w=f[0]===null?1:0;c=f[w],h=Zr(c);for(let _=w;_<v&&f[_]!==null;_++)m?xo(Zr(f[_])===m):m=Zr(f[_])}else m=Zr(f);if(h!==m)if(qh(h)&&qh(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&m===$&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(c===0||f===0)?c===0?u.set(m.transform(c)):t[l]=h.transform(f):(o||(i=G_(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=J_(t,e,a);return i.length&&i.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),Ko&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Y_(e,t,n,r){return W_(t)?X_(e,t,n,r):{target:t,transitionEnd:r}}const Z_=(e,t,n,r)=>{const s=q_(e,t,r);return t=s.target,r=s.transitionEnd,Y_(e,t,n,r)},su={current:null},H0={current:!1};function eS(){if(H0.current=!0,!!Ko)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>su.current=e.matches;e.addListener(t),t()}else su.current=!1}function tS(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Ke(i))e.addValue(s,i),ko(r)&&r.add(s);else if(Ke(o))e.addValue(s,Ir(i,{owner:e})),ko(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Ir(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Kh=new WeakMap,W0=Object.keys(zs),nS=W0.length,Qh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],rS=dc.length;class sS{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>se.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Go(n),this.isVariantNode=Nm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&Ke(f)&&(f.set(a[h],!1),ko(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Kh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),H0.current||eS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:su.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kh.delete(this.current),this.projection&&this.projection.unmount(),Bt(this.notifyUpdate),Bt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Gn.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&se.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<nS;l++){const u=W0[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:m}=zs[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&yr(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qh.length;r++){const s=Qh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=tS(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<rS;r++){const s=dc[r],i=this.props[s];(Fs(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ir(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=wc(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ke(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ec),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class K0 extends sS{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=_1(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){w1(this,r,o);const a=Z_(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function iS(e){return window.getComputedStyle(e)}class oS extends K0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Gn.has(n)){const r=bc(n);return r&&r.default||0}else{const r=iS(t),s=(Lm(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return L0(t,n)}build(t,n,r,s){pc(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return vc(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ke(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Um(t,n,r,s)}}class aS extends K0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Gn.has(n)){const r=bc(n);return r&&r.default||0}return n=Fm.has(n)?n:uc(n),t.getAttribute(n)}measureInstanceViewportBox(){return ge()}scrapeMotionValuesFromProps(t,n){return Bm(t,n)}build(t,n,r,s){gc(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){zm(t,n,r,s)}mount(t){this.isSVGTag=yc(t.tagName),super.mount(t)}}const lS=(e,t)=>fc(e)?new aS(t,{enableHardwareAcceleration:!1}):new oS(t,{enableHardwareAcceleration:!0}),uS={layout:{ProjectionNode:B0,MeasureLayout:D0}},cS={...D1,...rx,...F_,...uS},j=hw((e,t)=>qw(e,t,cS,lS));function Q0(){const e=k.useRef(!1);return lc(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function dS(){const e=Q0(),[t,n]=k.useState(0),r=k.useCallback(()=>{e.current&&n(t+1)},[t]);return[k.useCallback(()=>se.postRender(r),[r]),t]}class hS extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fS({children:e,isPresent:t}){const n=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),k.createElement(hS,{isPresent:t,childRef:r,sizeRef:s},k.cloneElement(e,{ref:r}))}const Wa=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=qm(pS),l=k.useId(),u=k.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return k.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=k.createElement(fS,{isPresent:n},e)),k.createElement(Wo.Provider,{value:u},e)};function pS(){return new Map}function mS(e){return k.useEffect(()=>()=>e(),[])}const An=e=>e.key||"";function gS(e,t){e.forEach(n=>{const r=An(n);t.set(r,n)})}function yS(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const To=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=k.useContext(hc).forceRender||dS()[0],l=Q0(),u=yS(e);let c=u;const h=k.useRef(new Map).current,f=k.useRef(c),m=k.useRef(new Map).current,v=k.useRef(!0);if(lc(()=>{v.current=!1,gS(u,m),f.current=c}),mS(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return k.createElement(k.Fragment,null,c.map(g=>k.createElement(Wa,{key:An(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},g)));c=[...c];const w=f.current.map(An),_=u.map(An),y=w.length;for(let g=0;g<y;g++){const p=w[g];_.indexOf(p)===-1&&!h.has(p)&&h.set(p,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((g,p)=>{if(_.indexOf(p)!==-1)return;const x=m.get(p);if(!x)return;const b=w.indexOf(p);let P=g;if(!P){const S=()=>{h.delete(p);const T=Array.from(m.keys()).filter(N=>!_.includes(N));if(T.forEach(N=>m.delete(N)),f.current=u.filter(N=>{const R=An(N);return R===p||T.includes(R)}),!h.size){if(l.current===!1)return;a(),r&&r()}};P=k.createElement(Wa,{key:An(x),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:i,mode:o},x),h.set(p,P)}c.splice(b,0,P)}),c=c.map(g=>{const p=g.key;return h.has(p)?g:k.createElement(Wa,{key:An(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),k.createElement(k.Fragment,null,h.size?c:c.map(g=>k.cloneElement(g)))},vS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Cc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class wS extends Cc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xS extends Cc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _S extends Cc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iu||(iu={}));var SS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class bS{constructor(t,{headers:n={},customFetch:r,region:s=iu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=vS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return SS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new wS(v)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new xS(c);if(!c.ok)throw new _S(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield c.json():f==="application/octet-stream"?m=yield c.blob():f==="text/event-stream"?m=c:f==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},Nc={},Zo={},ni={},ea={},ta={},kS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mr=kS();const jS=Mr.fetch,G0=Mr.fetch.bind(Mr),J0=Mr.Headers,TS=Mr.Request,PS=Mr.Response,zr=Object.freeze(Object.defineProperty({__proto__:null,Headers:J0,Request:TS,Response:PS,default:G0,fetch:jS},Symbol.toStringTag,{value:"Module"})),ES=Eg(zr);var na={};Object.defineProperty(na,"__esModule",{value:!0});let CS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};na.default=CS;var X0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const NS=X0(ES),AS=X0(na);let RS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,m="OK")}catch{i.status===404&&w===""?(f=204,m="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new AS.default(u)}return{error:u,data:c,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ta.default=RS;var OS=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ea,"__esModule",{value:!0});const LS=OS(ta);let IS=class extends LS.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ea.default=IS;var DS=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ni,"__esModule",{value:!0});const MS=DS(ea);let $S=class extends MS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ni.default=$S;var VS=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const ts=VS(ni);let US=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ts.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ts.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ts.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zo.default=US;var ra={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.version=void 0;sa.version="0.0.0-automated";Object.defineProperty(ra,"__esModule",{value:!0});ra.DEFAULT_HEADERS=void 0;const FS=sa;ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${FS.version}`};var Y0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});const zS=Y0(Zo),BS=Y0(ni),qS=ra;let HS=class Z0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},qS.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new zS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new BS.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Nc.default=HS;var Br=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const eg=Br(Nc);Fe.PostgrestClient=eg.default;const tg=Br(Zo);Fe.PostgrestQueryBuilder=tg.default;const ng=Br(ni);Fe.PostgrestFilterBuilder=ng.default;const rg=Br(ea);Fe.PostgrestTransformBuilder=rg.default;const sg=Br(ta);Fe.PostgrestBuilder=sg.default;const ig=Br(na);Fe.PostgrestError=ig.default;var WS=Fe.default={PostgrestClient:eg.default,PostgrestQueryBuilder:tg.default,PostgrestFilterBuilder:ng.default,PostgrestTransformBuilder:rg.default,PostgrestBuilder:sg.default,PostgrestError:ig.default};const{PostgrestClient:KS,PostgrestQueryBuilder:mj,PostgrestFilterBuilder:gj,PostgrestTransformBuilder:yj,PostgrestBuilder:vj,PostgrestError:wj}=WS;let ou;typeof window>"u"?ou=require("ws"):ou=window.WebSocket;const QS=ou,GS="2.11.10",JS={"X-Client-Info":`realtime-js/${GS}`},XS="1.0.0",og=1e4,YS=1e3;var Pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pr||(Pr={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var gt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gt||(gt={}));var au;(function(e){e.websocket="websocket"})(au||(au={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class ZS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ag{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const Gh=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=eb(o,e,t,s),i),{})},eb=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?lg(i,o):lu(o)},lg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sb(t,n)}switch(e){case ne.bool:return tb(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return nb(t);case ne.json:case ne.jsonb:return rb(t);case ne.timestamp:return ib(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return lu(t);default:return lu(t)}},lu=e=>e,tb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sb=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>lg(t,a))}return e},ib=e=>typeof e=="string"?e.replace(" ","T"):e,ug=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ka{constructor(t,n,r={},s=og){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jh||(Jh={}));class _s{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=_s.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_s.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),v=c.filter(_=>m.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(m=>m.presence_ref),f=c.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xh||(Xh={}));var Yh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yh||(Yh={}));var Nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Ac{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ka(this,gt.join,this.params,this.timeout),this.rejoinTimer=new ag(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _s(this),this.broadcastEndpointURL=ug(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Nt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Nt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(Nt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<m;w++){const _=f[w],{filter:{event:y,schema:g,table:p,filter:x}}=_,b=c&&c[w];if(b&&b.event===y&&b.schema===g&&b.table===p&&b.filter===x)v.push(Object.assign(Object.assign({},_),{id:b.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Nt.SUBSCRIBED);return}}).receive("error",c=>{this.state=Oe.errored,t==null||t(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Ka(this,gt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ka(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=gt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,w,_;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,w,_,y,g,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const x=m.id,b=(v=m.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:_,commit_timestamp:y,type:g,errors:p}=v;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:y,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ac.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gt.close,{},t)}_onError(t){this._on(gt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Gh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Gh(t.columns,t.old_record)),n}}const Zh=()=>{},ob=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ab{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=JS,this.params={},this.timeout=og,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zh,this.ref=0,this.logger=Zh,this.conn=null,this.sendBuffer=[],this.serializer=new ZS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>We(async()=>{const{default:l}=await Promise.resolve().then(()=>zr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${au.websocket}`,this.httpEndpoint=ug(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ag(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=QS),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new lb(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XS}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return On.Connecting;case Pr.open:return On.Open;case Pr.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ac(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(gt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(YS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(gt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ob],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class lb{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Rc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ub extends Rc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uu extends Rc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const cg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},db=()=>cb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield We(()=>Promise.resolve().then(()=>zr),void 0)).Response:Response}),cu=e=>{if(Array.isArray(e))return e.map(n=>cu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=cu(r)}),t};var Xn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hb=(e,t,n)=>Xn(void 0,void 0,void 0,function*(){const r=yield db();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ub(Qa(s),e.status||500))}).catch(s=>{t(new uu(Qa(s),s))}):t(new uu(Qa(e),e))}),fb=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ri(e,t,n,r,s,i){return Xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,fb(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hb(l,a,r))})})}function Po(e,t,n,r){return Xn(this,void 0,void 0,function*(){return ri(e,"GET",t,n,r)})}function Yt(e,t,n,r,s){return Xn(this,void 0,void 0,function*(){return ri(e,"POST",t,r,s,n)})}function pb(e,t,n,r,s){return Xn(this,void 0,void 0,function*(){return ri(e,"PUT",t,r,s,n)})}function mb(e,t,n,r){return Xn(this,void 0,void 0,function*(){return ri(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dg(e,t,n,r,s){return Xn(this,void 0,void 0,function*(){return ri(e,"DELETE",t,r,s,n)})}var Ve=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const gb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ef={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yb{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cg(s)}uploadOrUpdate(t,n,r,s){return Ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ef),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:ef.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Yt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}download(t,n){return Ve(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Po(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}info(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Po(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cu(r),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}exists(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield mb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xe(r)&&r instanceof uu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gb),n),{prefix:t||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vb="2.7.1",wb={"X-Client-Info":`storage-js/${vb}`};var Zn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xb{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},wb),n),this.fetch=cg(r)}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Zn(this,void 0,void 0,function*(){try{return{data:yield pb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield dg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}}class _b extends xb{constructor(t,n={},r){super(t,n,r)}from(t){return new yb(this.url,this.headers,t,this.fetch)}}const Sb="2.50.0";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const bb={"X-Client-Info":`supabase-js-${as}/${Sb}`},kb={headers:bb},jb={schema:"public"},Tb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pb={};var Eb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=G0:t=fetch,(...n)=>t(...n)},Nb=()=>typeof Headers>"u"?J0:Headers,Ab=(e,t,n)=>{const r=Cb(n),s=Nb();return(i,o)=>Eb(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Rb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Ob(e){return e.endsWith("/")?e:e+"/"}function Lb(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Rb(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const hg="2.70.0",sr=30*1e3,du=3,Ga=du*sr,Ib="http://localhost:9999",Db="supabase.auth.token",Mb={"X-Client-Info":`gotrue-js/${hg}`},hu="X-Supabase-Api-Version",fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vb=6e5;class Oc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ub extends Oc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Fb(e){return F(e)&&e.name==="AuthApiError"}class pg extends Oc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bn extends Oc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qt extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zb(e){return F(e)&&e.name==="AuthSessionMissingError"}class Ti extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends bn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ei extends bn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bb(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class tf extends bn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fu extends bn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ja(e){return F(e)&&e.name==="AuthRetryableFetchError"}class nf extends bn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ss extends bn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rf=` 	
\r=`.split(""),qb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rf.length;t+=1)e[rf[t].charCodeAt(0)]=-2;for(let t=0;t<Eo.length;t+=1)e[Eo[t].charCodeAt(0)]=t;return e})();function sf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Eo[r]),t.queuedBits-=6}}function mg(e,t,n){const r=qb[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function of(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Kb(o,r,n)};for(let o=0;o<e.length;o+=1)mg(e.charCodeAt(o),s,i);return t.join("")}function Hb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wb(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Hb(r,t)}}function Kb(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qb(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mg(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Gb(e){const t=[];return Wb(e,n=>t.push(n)),new Uint8Array(t)}function Jb(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>sf(s,n,r)),sf(null,n,r),t.join("")}function Xb(e){return Math.round(Date.now()/1e3)+e}function Yb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},bs=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function Zb(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const gg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>zr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ek=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ni=async(e,t)=>{await e.removeItem(t)};class ia{constructor(){this.promise=new ia.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ia.promiseConstructor=Promise;function Xa(e){const t=e.split(".");if(t.length!==3)throw new Ss("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$b.test(t[r]))throw new Ss("JWT not in base64url format");return{header:JSON.parse(of(t[0])),payload:JSON.parse(of(t[1])),signature:Qb(t[2]),raw:{header:t[0],payload:t[1]}}}async function tk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nk(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function rk(e){return("0"+e.toString(16)).substr(-2)}function sk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,rk).join("")}async function ik(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ok(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ik(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function er(e,t,n=!1){const r=sk();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yg(e,`${t}-code-verifier`,s);const i=await ok(r);return[i,r===i?"plain":"s256"]}const ak=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lk(e){const t=e.headers.get(hu);if(!t||!t.match(ak))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ck(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tr(e){if(!dk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fk=[502,503,504];async function af(e){var t;if(!ek(e))throw new fu(Rn(e),0);if(fk.includes(e.status))throw new fu(Rn(e),e.status);let n;try{n=await e.json()}catch(i){throw new pg(Rn(i),i)}let r;const s=lk(e);if(s&&s.getTime()>=fg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nf(Rn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nf(Rn(n),e.status,n.weak_password.reasons);throw new Ub(Rn(n),e.status||500,r)}const pk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function q(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[hu]||(i[hu]=fg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await mk(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function mk(e,t,n,r,s,i){const o=pk(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new fu(Rn(l),0)}if(a.ok||await af(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await af(l)}}function Et(e){var t;let n=null;wk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Xb(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lf(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function tn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gk(e){return{data:e,error:null}}function yk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vk(e){return e}function wk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ya=["global","local","others"];var xk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _k{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=gg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ya[0]){if(Ya.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ya.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xk(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(F(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:tn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vk});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){tr(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:tn})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){tr(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:tn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){tr(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){tr(t.userId);try{const{data:n,error:r}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteFactor(t){tr(t.userId),tr(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}const Sk={getItem:e=>bs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bs()&&globalThis.localStorage.removeItem(e)}};function uf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function bk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nr={debug:!!(globalThis&&bs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class kk extends vg{}async function jk(e,t,n){nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bk();const Tk={url:Ib,storageKey:Db,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cf(e,t,n){return await n()}class qs{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qs.nextInstanceID,qs.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Tk),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _k({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gg(s.fetch),this.lock=s.lock||cf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jk:this.lock=cf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bs()?this.storage=Sk:(this.memoryStorage={},this.storage=uf(this.memoryStorage)):(this.memoryStorage={},this.storage=uf(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Zb(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bb(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return F(n)?{error:n}:{error:new pg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await er(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Et})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new Pi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lf})}else throw new Pi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ti}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,f,m;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:y,statement:g,options:p}=t;let x;if(ft())if(typeof y=="object")x=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))x=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const b=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const P=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));let S;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")S=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)S=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const P=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:_,error:y}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Jb(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Et});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ti}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(F(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Et});if(await Ni(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ti}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ti}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await er(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Pi("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await er(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gk})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qt;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Pi("You must provide either an email or phone number and a type")}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ga:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:tn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tn})})}catch(n){if(F(n))return zb(n)&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await er(this.storage,this.storageKey));const{data:u,error:c}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:tn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Xa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(F(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ft())throw new Ei("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ei(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ei("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tf("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ei("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const m=f-c;m*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(F(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Fb(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Yb(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await er(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(F(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nk(async s=>(s>0&&await tk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ja(i)&&Date.now()+o-r<sr})}catch(r){if(this._debug(n,"error",r),F(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ci(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ga;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ga}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ja(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ia;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return Ja(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ni(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sr}ms, refresh threshold is ${du} ticks`),s<=du&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await er(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Vb>Date.now()))return r;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ss("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new Ss("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Xa(r);if(uk(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=ck(s.alg),c=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Gb(`${a}.${l}`)))throw new Ss("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}qs.nextInstanceID=0;const Pk=qs;class Ek extends Pk{constructor(t){super(t)}}var Ck=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Nk{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Ob(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:jb,realtime:Pb,auth:Object.assign(Object.assign({},Tb),{storageKey:u}),global:kb},h=Lb(r??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ab(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new KS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new bS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _b(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ck(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ek({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ab(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ak=(e,t,n)=>new Nk(e,t,n),Rk="https://rbidkexibeuznwoeycns.supabase.co",Ok="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJiaWRrZXhpYmV1em53b2V5Y25zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4OTI2MTUsImV4cCI6MjA2NTQ2ODYxNX0.HykdxqGI5v7j7TKAAXGSXRW3SZAwzy_rODkyPbQlJ8U",K=Ak(Rk,Ok),wg=k.createContext(void 0),qr=()=>{const e=k.useContext(wg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Lk=({children:e})=>{const[t,n]=k.useState(null),[r,s]=k.useState(null),[i,o]=k.useState(!0);k.useEffect(()=>{K.auth.getSession().then(({data:{session:w}})=>{s(w),n((w==null?void 0:w.user)??null),o(!1)});const{data:{subscription:v}}=K.auth.onAuthStateChange(async(w,_)=>{s(_),n((_==null?void 0:_.user)??null),o(!1),(w==="SIGNED_OUT"||w==="TOKEN_REFRESHED")&&console.log("Auth state changed:",w)});return()=>v.unsubscribe()},[]);const a=async()=>{const{data:{session:v}}=await K.auth.getSession();v&&(s(v),n(v.user))},m={user:t,session:r,loading:i,signUp:async(v,w,_)=>{try{const{data:y,error:g}=await K.from("users").select("email").eq("email",v.trim()).maybeSingle();return y?{error:null,userExists:!0}:g?{error:g}:{error:null,needsQuiz:!0,tempData:{email:v.trim(),password:w,name:_.trim(),timestamp:new Date().toISOString()}}}catch(y){return{error:y}}},signIn:async(v,w)=>{const{data:_,error:y}=await K.auth.signInWithPassword({email:v,password:w});return!y&&_.user&&(console.log("Login successful, user:",_.user.email),window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,sessionStorage.clear(),localStorage.removeItem("appState")),{error:y}},signOut:async()=>{var v,w,_,y;try{const{data:{session:g}}=await K.auth.getSession();if(s(null),n(null),g){const{error:p}=await K.auth.signOut();if(p){if((v=p.message)!=null&&v.includes("session_not_found")||(w=p.message)!=null&&w.includes("Session from session_id claim in JWT does not exist")||(_=p.message)!=null&&_.includes("Invalid session")||(y=p.message)!=null&&y.includes("Auth session missing!")||p.status===403){console.log("Session already invalidated or expired, user effectively logged out");return}console.error("Logout error (but local state cleared):",p);return}console.log("Successfully logged out")}else console.log("No active session found, user already logged out")}catch(g){console.error("Unexpected logout error (but local state cleared):",g)}},completeSignupQuiz:async(v,w)=>{try{const{data:_,error:y}=await K.auth.signUp({email:v.email,password:v.password,options:{data:{name:v.name}}});if(y)return{error:y};if(!_.user)return{error:new Error("アカウント作成に失敗しました")};console.log("Account created successfully, user:",_.user.email),window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const{error:g}=await K.from("users").insert([{id:_.user.id,name:v.name,email:v.email}]);if(g)return console.error("Error inserting user data:",g),await K.auth.admin.deleteUser(_.user.id),{error:g};const p=w.map(b=>({user_id:_.user.id,question_id:b.question_id,answer_value:b.answer_value})),{error:x}=await K.from("answers").insert(p);return x?(console.error("Error inserting answers:",x),await K.auth.admin.deleteUser(_.user.id),await K.from("users").delete().eq("id",_.user.id),{error:x}):(sessionStorage.clear(),localStorage.removeItem("appState"),{error:null})}catch(_){return{error:_}}},updateUserProfile:async v=>{if(!t)return{error:new Error("ユーザーが認証されていません")};try{const{error:w}=await K.from("users").update({name:v.trim()}).eq("id",t.id);if(w)return{error:w};const{error:_}=await K.auth.updateUser({data:{name:v.trim()}});return _&&console.warn("Auth metadata update failed:",_),await a(),{error:null}}catch(w){return{error:w}}},refreshUser:a};return d.jsx(wg.Provider,{value:m,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ik={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>k.createElement("svg",{ref:c,...Ik,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Dk(e)}`,a].join(" "),...u},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Jk extends Vr.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-100 via-orange-50 to-yellow-100 flex items-center justify-center p-4",children:d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full text-center",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-red-400 to-orange-500 rounded-full mb-6",children:d.jsx(Mk,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"エラーが発生しました"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"アプリケーションでエラーが発生しました。ページを再読み込みしてください。"}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-red-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(kg,{className:"w-5 h-5"}),"ページを再読み込み"]}),this.state.error&&d.jsxs("details",{className:"mt-4 text-left",children:[d.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"エラー詳細"}),d.jsx("pre",{className:"text-xs text-gray-400 mt-2 p-2 bg-gray-100 rounded overflow-auto",children:this.state.error.message})]})]})}):this.props.children}}const Xk=[{id:1,question_text:"休日は家でゆっくり過ごすのが好きですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"人と話すことでエネルギーを得られますか？",category:"communication",created_at:new Date().toISOString()},{id:3,question_text:"計画を立てて行動するのが好きですか？",category:"planning",created_at:new Date().toISOString()},{id:4,question_text:"周りの人の気持ちを察するのが得意ですか？",category:"empathy",created_at:new Date().toISOString()},{id:5,question_text:"お互いの時間を大切にすることは重要ですか？",category:"respect",created_at:new Date().toISOString()},{id:6,question_text:"価値観の違いを受け入れることができますか？",category:"values",created_at:new Date().toISOString()},{id:7,question_text:"デートは事前に計画を立てて楽しみたいですか？",category:"romance",created_at:new Date().toISOString()},{id:8,question_text:"パートナーとは頻繁に連絡を取り合いたいですか？",category:"communication",created_at:new Date().toISOString()},{id:9,question_text:"恋人の前では素の自分を出せるタイプですか？",category:"authenticity",created_at:new Date().toISOString()},{id:10,question_text:"パートナーの趣味や興味に合わせるのが好きですか？",category:"adaptation",created_at:new Date().toISOString()},{id:11,question_text:"恋愛においてロマンチックなサプライズを重視しますか？",category:"romance",created_at:new Date().toISOString()},{id:12,question_text:"恋人とは友達のような関係性を築きたいですか？",category:"relationship",created_at:new Date().toISOString()},{id:13,question_text:"束縛されるより自由な関係を好みますか？",category:"freedom",created_at:new Date().toISOString()},{id:14,question_text:"喧嘩をしたらすぐに仲直りしたいタイプですか？",category:"conflict",created_at:new Date().toISOString()},{id:15,question_text:"長期的な関係を築くことを大切にしたいですか？",category:"commitment",created_at:new Date().toISOString()}],Ws=["強くそう思う","そう思う","どちらでもない","あまりそう思わない","全くそう思わない"],$t=Object.freeze(Object.defineProperty({__proto__:null,answerLabels:Ws,questions:Xk},Symbol.toStringTag,{value:"Module"})),Yk=({userName:e,onComplete:t,onCancel:n})=>{const[r,s]=k.useState(0),[i,o]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState([]),[h,f]=k.useState(!1),[m,v]=k.useState(null),[w,_]=k.useState(!1);Vr.useEffect(()=>{(async()=>{console.log("[SignupQuiz] Starting to fetch questions..."),l(!0);try{const{data:S,error:T}=await K.from("questions").select("*").order("id");if(console.log("[SignupQuiz] Supabase response:",{data:S,error:T}),T){console.log("[SignupQuiz] Error fetching questions from database:",T);const{questions:N}=await We(async()=>{const{questions:R}=await Promise.resolve().then(()=>$t);return{questions:R}},void 0);console.log("[SignupQuiz] Using local questions as fallback:",N),o(N)}else if(S&&S.length>0)console.log("[SignupQuiz] Successfully fetched questions from database:",S),o(S);else{console.log("[SignupQuiz] No questions found in database, using local fallback");const{questions:N}=await We(async()=>{const{questions:R}=await Promise.resolve().then(()=>$t);return{questions:R}},void 0);console.log("[SignupQuiz] Using local questions as fallback:",N),o(N)}}catch(S){console.log("[SignupQuiz] Unexpected error fetching questions:",S);try{const{questions:T}=await We(async()=>{const{questions:N}=await Promise.resolve().then(()=>$t);return{questions:N}},void 0);console.log("[SignupQuiz] Using local questions as fallback after error:",T),o(T)}catch(T){console.log("[SignupQuiz] Failed to import local questions:",T);const N=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];console.log("[SignupQuiz] Using hardcoded questions as final fallback:",N),o(N)}}finally{console.log("[SignupQuiz] Questions loading completed"),l(!1)}})()},[]);const y=async P=>{if(!h){f(!0),v(P);try{await new Promise(N=>setTimeout(N,600));const S={id:r+1,user_id:"",question_id:r+1,answer_value:P,created_at:new Date().toISOString()},T=[...u,S];c(T),r<i.length-1?(s(r+1),f(!1),v(null)):(_(!0),await new Promise(N=>setTimeout(N,800)),t(T))}catch(S){console.error("回答の保存に失敗しました:",S),f(!1),v(null)}}},g=()=>{r>0&&!h&&(s(r-1),c(u.slice(0,-1)),v(null))},p=i[r],x=(r+1)/i.length*100,b=r===i.length-1;return a?d.jsx("div",{className:"max-h-screen overflow-y-auto",children:d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-green-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})})}):i.length===0?d.jsx("div",{className:"max-h-screen overflow-y-auto",children:d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-red-600 mb-4",children:"質問データの読み込みに失敗しました"}),d.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"戻る"})]})})}):d.jsxs("div",{className:"max-h-screen overflow-y-auto",children:[w&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center",children:d.jsxs(j.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center max-w-sm mx-4",children:[d.jsx(j.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-green-200 border-t-green-500 rounded-full mb-4"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"アカウントを作成中"}),d.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"回答内容を保存してアカウントを作成しています..."}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(j.div,{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})]})}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4 ${h||w?"pointer-events-none":""}`,children:[h&&d.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(j.div,{className:"h-full bg-gradient-to-r from-green-400 to-blue-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.6,ease:"easeInOut"}})}),d.jsx("button",{onClick:n,disabled:h||w,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Hs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-3 bg-gradient-to-r from-green-400 to-blue-500 rounded-full mb-3",children:d.jsx(Wn,{className:"w-6 h-6 text-white"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"プロフィール設定"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e,"さん、質問に答えてアカウントを作成しましょう"]}),d.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:d.jsx("p",{className:"text-xs text-blue-700",children:"⚠️ 質問回答完了後にアカウントが作成されます"})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["質問 ",r+1," / ",i.length]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Math.round(x),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(j.div,{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${x}%`},transition:{duration:.5}})})]}),d.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"text-center mb-6",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3 leading-relaxed",children:p.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"あなたの気持ちに最も近いものを選んでください"})]},r),d.jsx("div",{className:"space-y-2 mb-6",children:Ws.map((P,S)=>{const T=m===S+1,N=h||w;return d.jsxs(j.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+S*.05},whileHover:N?{}:{scale:1.02},whileTap:N?{}:{scale:.98},onClick:()=>y(S+1),disabled:N,className:`w-full p-3 rounded-xl border-2 transition-all duration-200 text-left relative ${T?"border-green-400 bg-green-50 shadow-lg":N?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":S===0?"border-red-200 hover:border-red-300 hover:bg-red-50":S===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":S===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":S===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center ${T?"border-green-400 bg-green-400":S===0?"border-red-300":S===1?"border-orange-300":S===2?"border-gray-300":S===3?"border-blue-300":"border-green-300"}`,children:T&&d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(oa,{className:"w-3 h-3 text-white"})})}),d.jsx("span",{className:`font-medium text-gray-700 text-sm ${T?"text-green-700":""}`,children:P})]}),T&&h&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx(pn,{className:"w-4 h-4 text-green-500 animate-spin"})})]},S)})}),h&&d.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(pn,{className:"w-4 h-4 text-green-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-green-700",children:b?"アカウントを作成中...":"回答を保存中..."})]}),d.jsx("p",{className:"text-xs text-green-600 text-center mt-1",children:b?"しばらくお待ちください":"次の質問に進むまでお待ちください"})]}),d.jsxs("div",{className:"flex gap-2",children:[r>0&&d.jsxs(j.button,{initial:{opacity:0},animate:{opacity:1},onClick:g,disabled:h||w,className:"flex-1 bg-gray-100 text-gray-600 font-semibold py-3 px-4 rounded-xl hover:bg-gray-200 transition-all duration-300 flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(xg,{className:"w-4 h-4"}),"前の質問"]}),d.jsx("button",{onClick:n,disabled:h||w,className:"flex-1 bg-red-100 text-red-600 font-semibold py-3 px-4 rounded-xl hover:bg-red-200 transition-all duration-300 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"キャンセル"})]})]})]})},Tg=({isOpen:e,onClose:t,mode:n,onModeChange:r})=>{const[s,i]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[c,h]=k.useState(!1),[f,m]=k.useState(!1),[v,w]=k.useState(""),[_,y]=k.useState(!1),[g,p]=k.useState(null),{signIn:x,signUp:b,completeSignupQuiz:P}=qr(),S=async D=>{D.preventDefault(),m(!0),w("");try{if(n==="signup"){const{error:J,needsQuiz:ee,tempData:Re,userExists:E}=await b(s,o,l);if(E){w("このメールアドレスは既に登録されています。ログインしてください。"),setTimeout(()=>{R("signin")},2e3);return}J?w(J.message):ee&&Re&&(p(Re),y(!0))}else{const{error:J}=await x(s,o);J?w(J.message):(window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,N(),t())}}catch{w("予期しないエラーが発生しました")}finally{m(!1)}},T=async D=>{if(g){m(!0),w("");try{const{error:J}=await P(g,D);J?(w("アカウント作成に失敗しました: "+J.message),y(!1)):(window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,N(),y(!1),t())}catch{w("予期しないエラーが発生しました"),y(!1)}finally{m(!1)}}},N=()=>{i(""),a(""),u(""),w(""),h(!1),y(!1),p(null)},R=D=>{N(),r(D)},I=()=>{N(),t()};return e?_&&g?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsx("div",{className:"w-full max-w-2xl max-h-screen overflow-hidden",children:d.jsx(Yk,{userName:g.name,onComplete:T,onCancel:()=>{y(!1),w("")}})})}):d.jsx(To,{children:d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:I,children:d.jsx("div",{className:"w-full max-w-md max-h-screen overflow-y-auto",children:d.jsxs(j.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl p-6 shadow-2xl relative my-4",onClick:D=>D.stopPropagation(),children:[d.jsx("button",{onClick:I,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(Hs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"inline-block p-3 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full mb-3",children:d.jsx(Wn,{className:"w-6 h-6 text-white"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:n==="signup"?"アカウント作成":"ログイン"}),d.jsx("p",{className:"text-sm text-gray-600",children:n==="signup"?"新しいアカウントを作成して相性診断を始めましょう":"アカウントにログインして相性診断を続けましょう"})]}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n==="signup"&&d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"お名前"}),d.jsxs("div",{className:"relative",children:[d.jsx(Wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例: 田中花子",required:!0})]})]}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.3:.2},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),d.jsxs("div",{className:"relative",children:[d.jsx(bg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",value:s,onChange:D=>i(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例: hanako@example.com",required:!0})]})]}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.4:.3},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード"}),d.jsxs("div",{className:"relative",children:[d.jsx(_g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:c?"text":"password",value:o,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"パスワードを入力",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:c?d.jsx(Uk,{className:"w-4 h-4 text-gray-400"}):d.jsx(Fk,{className:"w-4 h-4 text-gray-400"})})]}),n==="signup"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"パスワードは6文字以上で入力してください"})]}),v&&d.jsx(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3",children:d.jsx("p",{className:"text-sm text-red-600",children:v})}),d.jsx(j.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.6:.4},whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-pink-400 to-purple-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:f?d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"処理中..."]}):n==="signup"?"質問に回答":"ログイン"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[n==="signup"?"すでにアカウントをお持ちですか？":"アカウントをお持ちでない方は",d.jsx("button",{onClick:()=>R(n==="signup"?"signin":"signup"),className:"ml-1 text-purple-600 hover:text-purple-700 font-medium transition-colors",children:n==="signup"?"ログイン":"アカウント作成"})]})}),d.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[d.jsx("h4",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"アカウント作成の特典"}),d.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 text-left",children:[d.jsx("li",{children:"• 診断結果の保存・履歴確認"}),d.jsx("li",{children:"• 複数の相手との相性比較"}),d.jsx("li",{children:"• 詳細な分析レポート"}),d.jsx("li",{children:"• パーソナライズされた提案"})]})]})]})})})}):null},Zk=({isOpen:e,onClose:t,onStartReAnswer:n,onProfileUpdated:r})=>{const{user:s,signOut:i,updateUserProfile:o}=qr(),[a,l]=k.useState(null),[u,c]=k.useState(!1),[h,f]=k.useState(""),[m,v]=k.useState(!1),[w,_]=k.useState("");k.useEffect(()=>{s&&e&&y()},[s,e]);const y=async()=>{var S,T;if(s)try{const{data:N,error:R}=await K.from("users").select("*").eq("id",s.id).maybeSingle();if(R){console.error("Error fetching user data:",R),_("ユーザーデータの取得に失敗しました");return}if(N)l(N),f(N.name);else{console.log("ユーザーデータが見つかりません。認証情報から作成します。");const I={id:s.id,name:((S=s.user_metadata)==null?void 0:S.name)||((T=s.email)==null?void 0:T.split("@")[0])||"ユーザー",email:s.email||"",created_at:s.created_at||new Date().toISOString()},{error:D}=await K.from("users").insert([I]);D?(console.error("Error creating user data:",D),_("ユーザーデータの作成に失敗しました")):(l(I),f(I.name))}}catch(N){console.error("Unexpected error:",N),_("予期しないエラーが発生しました")}},g=async()=>{if(!(!s||!h.trim())){v(!0),_("");try{const{error:S}=await o(h.trim());if(S)_("プロフィールの更新に失敗しました: "+S.message);else{const T={...a,name:h.trim()};l(T),c(!1),_(""),r&&(console.log("Profile updated, notifying parent component"),r())}}catch{_("予期しないエラーが発生しました")}finally{v(!1)}}},p=async()=>{await i(),t()},x=()=>{console.log("handleReAnswer called"),n?(console.log("Calling onStartReAnswer"),n()):console.log("onStartReAnswer is not defined")},b=()=>{u&&a&&(f(a.name),c(!1)),_(""),t()},P=()=>{c(!1),f((a==null?void 0:a.name)||""),_("")};return!e||!s?null:a?d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-3 z-50",onClick:b,children:d.jsxs(j.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm mx-auto relative overflow-hidden",onClick:S=>S.stopPropagation(),style:{maxHeight:"90vh"},children:[d.jsxs("div",{className:"relative p-6 pb-4",children:[d.jsx("button",{onClick:b,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10",style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Hs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center pr-12",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full mb-4",children:d.jsx(Wn,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"プロフィール"})]})]}),d.jsxs("div",{className:"px-6 pb-6 space-y-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お名前"}),u?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",value:h,onChange:S=>f(S.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"お名前を入力",disabled:m,style:{fontSize:"16px"}}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:g,disabled:m||!h.trim()||h.trim()===a.name,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium",children:m?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Wk,{className:"w-4 h-4"}),"保存"]})}),d.jsxs("button",{onClick:P,disabled:m,className:"flex-1 px-4 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors disabled:opacity-50 text-sm font-medium flex items-center justify-center gap-2",children:[d.jsx(Hs,{className:"w-4 h-4"}),"キャンセル"]})]})]}):d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[d.jsx(Wn,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 truncate",children:a.name})]}),d.jsx("button",{onClick:()=>c(!0),className:"p-2 hover:bg-gray-200 rounded-full transition-colors flex-shrink-0 ml-2",children:d.jsx(qk,{className:"w-4 h-4 text-gray-500"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),d.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[d.jsx(bg,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 truncate text-sm",children:a.email})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"登録日"}),d.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[d.jsx($k,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 text-sm",children:new Date(a.created_at).toLocaleDateString("ja-JP")})]})]}),w&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:d.jsx("p",{className:"text-sm text-red-600",children:w})}),d.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,className:"w-full bg-gradient-to-r from-blue-400 to-purple-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 mb-4",children:[d.jsx(Bk,{className:"w-5 h-5"}),"質問に再回答"]}),d.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"w-full bg-gradient-to-r from-red-400 to-red-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(zk,{className:"w-5 h-5"}),"ログアウト"]})]})]})}):d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-3 z-50",onClick:b,children:d.jsx(j.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl p-6 shadow-2xl w-full max-w-sm mx-auto relative",onClick:S=>S.stopPropagation(),children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"プロフィールを読み込み中..."})]})})})},ej=({onHomeClick:e,onProfileUpdated:t})=>{const{user:n,loading:r}=qr(),[s,i]=k.useState(!1),[o,a]=k.useState("signin"),[l,u]=k.useState(!1),[c,h]=k.useState("");k.useEffect(()=>{(async()=>{var g,p,x,b,P,S;if(n)try{const{data:T,error:N}=await K.from("users").select("name").eq("id",n.id).maybeSingle();if(N){console.error("Error fetching user name:",N);const R=((g=n.user_metadata)==null?void 0:g.name)||((p=n.email)==null?void 0:p.split("@")[0])||"ユーザー";h(R)}else if(T)h(T.name);else{const R=((x=n.user_metadata)==null?void 0:x.name)||((b=n.email)==null?void 0:b.split("@")[0])||"ユーザー";h(R)}}catch(T){console.error("Unexpected error fetching user name:",T);const N=((P=n.user_metadata)==null?void 0:P.name)||((S=n.email)==null?void 0:S.split("@")[0])||"ユーザー";h(N)}else h("")})()},[n]);const f=async()=>{if(console.log("Header: Profile updated, refreshing user name"),n)try{const{data:y,error:g}=await K.from("users").select("name").eq("id",n.id).maybeSingle();!g&&y&&(h(y.name),console.log("Header: User name updated to:",y.name))}catch(y){console.error("Error refreshing user name:",y)}t&&t()},m=()=>{a("signin"),i(!0)},v=()=>{a("signup"),i(!0)},w=()=>{e&&e()},_=()=>{u(!0)};return r?d.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"H.MNK"})}),d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})]})})}):d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx(j.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:w,className:"flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"H.MNK"})}),d.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:n?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:_,className:"text-base font-medium transition-colors duration-200 hover:opacity-80",style:{color:"#333333",fontSize:"16px"},children:[c,"さん"]}),d.jsx("button",{onClick:()=>u(!0),className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full hover:shadow-lg transition-all duration-300",children:d.jsx(Wn,{className:"w-5 h-5"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:m,className:"flex items-center justify-center transition-all duration-200 hover:opacity-80",style:{width:"24px",height:"24px"},children:d.jsx(Sg,{className:"text-gray-600",style:{width:"24px",height:"24px"}})}),d.jsx("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full hover:shadow-lg transition-all duration-300",children:d.jsx(Wn,{className:"w-5 h-5"})})]})})]})})}),d.jsx(Tg,{isOpen:s,onClose:()=>i(!1),mode:o,onModeChange:a}),d.jsx(Zk,{isOpen:l,onClose:()=>u(!1),onStartReAnswer:()=>{console.log("Header: onStartReAnswer called"),u(!1),console.log("Header: Dispatching startReAnswer event"),window.dispatchEvent(new CustomEvent("startReAnswer"))},onProfileUpdated:f})]})},rr=({children:e,message:t="この機能を利用するにはログインが必要です"})=>{const{user:n,loading:r}=qr(),[s,i]=k.useState(!1),[o,a]=k.useState("signin");return r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]})}):n?d.jsx(d.Fragment,{children:e}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center p-4",children:d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full text-center",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-orange-400 to-red-500 rounded-full mb-6",children:d.jsx(_g,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"ログインが必要です"}),d.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:t}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{a("signin"),i(!0)},className:"w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(Sg,{className:"w-5 h-5"}),"ログイン"]}),d.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{a("signup"),i(!0)},className:"w-full bg-white border-2 border-purple-400 text-purple-600 font-semibold py-4 px-6 rounded-xl hover:bg-purple-50 transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(Gk,{className:"w-5 h-5"}),"新規登録"]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[d.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"アカウント作成の特典"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[d.jsx("li",{children:"• 診断結果の保存・履歴確認"}),d.jsx("li",{children:"• 複数の相手との相性比較"}),d.jsx("li",{children:"• 詳細な分析レポート"}),d.jsx("li",{children:"• パーソナライズされた提案"})]})]})]})}),d.jsx(Tg,{isOpen:s,onClose:()=>i(!1),mode:o,onModeChange:a})]})},tj=({onStart:e})=>(Vr.useEffect(()=>{const t=()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0};t();const n=setTimeout(t,100);return()=>clearTimeout(n)},[]),d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center p-4",children:d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-md mx-auto",children:[d.jsx(j.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx(Hi,{className:"w-24 h-24 text-pink-400 mx-auto mb-4",fill:"currentColor"}),d.jsx(ae,{className:"w-8 h-8 text-yellow-400 absolute -top-2 -right-2 animate-pulse"})]})}),d.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-4xl font-bold text-gray-800 mb-4",children:"H.MNK"}),d.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-lg text-gray-600 mb-2",children:"あなたとお相手の"}),d.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-xl font-semibold text-purple-600 mb-8",children:"相性をチェックしよう！"}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"space-y-4",children:[d.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"診断について"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left",children:[d.jsx("li",{children:"• 15問の質問に答えるだけ"}),d.jsx("li",{children:"• 5段階評価で簡単回答"}),d.jsx("li",{children:"• 2人の回答を比較して相性スコアを算出"}),d.jsx("li",{children:"• 結果はすぐに確認できます"})]})]}),d.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-full bg-gradient-to-r from-pink-400 to-purple-500 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:"診断を始める"})]})]})})),nj=({onUsersSelected:e,currentUser:t,refreshTrigger:n})=>{const r=(E,Q)=>{console.log(`[UserSelection] ${E}`,Q)};Vr.useEffect(()=>{const E=()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0};E();const Q=setTimeout(E,100);return()=>clearTimeout(Q)},[]);const[s,i]=k.useState([]),[o,a]=k.useState(null),[l,u]=k.useState(null),[c,h]=k.useState(""),[f,m]=k.useState(!0),[v,w]=k.useState(""),[_,y]=k.useState([]),[g,p]=k.useState(!0),[x,b]=k.useState(!1);k.useEffect(()=>{S(),P()},[]),k.useEffect(()=>{n!==void 0&&n>0&&(r("Refresh trigger detected, refetching users",{refreshTrigger:n}),S())},[n]);const P=async()=>{console.log("[UserSelection] Starting to fetch questions..."),p(!0);try{const{data:E,error:Q}=await K.from("questions").select("*").order("id");if(console.log("[UserSelection] Supabase response:",{data:E,error:Q}),Q){console.log("[UserSelection] Error fetching questions from database:",Q);const{questions:A}=await We(async()=>{const{questions:L}=await Promise.resolve().then(()=>$t);return{questions:L}},void 0);console.log("[UserSelection] Using local questions as fallback:",A),y(A)}else if(E&&E.length>0)console.log("[UserSelection] Successfully fetched questions from database:",E),y(E);else{console.log("[UserSelection] No questions found in database, using local fallback");const{questions:A}=await We(async()=>{const{questions:L}=await Promise.resolve().then(()=>$t);return{questions:L}},void 0);console.log("[UserSelection] Using local questions as fallback:",A),y(A)}}catch(E){console.log("[UserSelection] Unexpected error fetching questions:",E);try{const{questions:Q}=await We(async()=>{const{questions:A}=await Promise.resolve().then(()=>$t);return{questions:A}},void 0);console.log("[UserSelection] Using local questions as fallback after error:",Q),y(Q)}catch(Q){console.log("[UserSelection] Failed to import local questions:",Q);const A=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];console.log("[UserSelection] Using hardcoded questions as final fallback:",A),y(A)}}finally{console.log("[UserSelection] Questions loading completed"),p(!1)}},S=async()=>{r("Starting to fetch users..."),m(!0),w("");try{const{data:E,error:Q}=await K.from("users").select("*").order("created_at",{ascending:!1});if(Q){r("Error fetching users:",Q),w("ユーザー一覧の取得に失敗しました");return}r("Fetched users from database:",E);const A=await Promise.all((E||[]).map(async L=>{const{data:M}=await K.from("answers").select("id").eq("user_id",L.id);return{...L,hasAnswers:((M==null?void 0:M.length)||0)===_.length,answerCount:(M==null?void 0:M.length)||0}}));r("Users with answer status:",A),i(A)}catch(E){r("Unexpected error fetching users:",E),w("予期しないエラーが発生しました")}finally{m(!1),r("User fetching completed")}},T=s.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())),N=(E,Q)=>{Q===1?(a(E),(l==null?void 0:l.id)===E.id&&u(null)):(u(E),(o==null?void 0:o.id)===E.id&&a(null))},R=async()=>{if(o&&l){b(!0);try{await new Promise(E=>setTimeout(E,2500)),b(!1),e(o,l)}catch(E){b(!1),console.error("診断処理でエラーが発生しました:",E)}}},I=E=>(o==null?void 0:o.id)===E.id||(l==null?void 0:l.id)===E.id,D=E=>(o==null?void 0:o.id)===E.id?"1人目":(l==null?void 0:l.id)===E.id?"2人目":null,J=E=>E.hasAnswers?d.jsx(hf,{className:"w-4 h-4 text-green-500"}):E.answerCount>0?d.jsx(df,{className:"w-4 h-4 text-yellow-500"}):null,ee=E=>E.hasAnswers?"回答済み":E.answerCount>0?`${E.answerCount}/${_.length}問回答済み`:"未回答",Re=()=>!o||!l?"2人のユーザーを選択してください":o.hasAnswers&&l.hasAnswers?`${o.name} と ${l.name} の相性診断結果を表示`:`${o.name} と ${l.name} の相性診断を開始`;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:[d.jsx(To,{children:x&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs(j.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-sm w-full mx-auto text-center",children:[d.jsx(j.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full mx-auto mb-6"}),d.jsx(j.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl font-bold text-gray-800 mb-2",children:"診断中です..."}),d.jsxs(j.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-sm mb-4",children:[o==null?void 0:o.name,"さんと",l==null?void 0:l.name,"さんの",d.jsx("br",{}),"相性を分析しています"]}),d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:d.jsx(j.div,{className:"h-full bg-gradient-to-r from-purple-400 to-pink-500 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5,ease:"easeInOut"}})}),d.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-xs text-gray-500",children:"しばらくお待ちください..."})]})})}),d.jsxs("div",{className:"max-w-4xl mx-auto pt-20",children:[d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full mb-4",children:d.jsx(jg,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ユーザー選択"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"相性診断を行う2人のユーザーを選択してください"})]}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"選択状況"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl",children:[d.jsx("div",{className:"w-3 h-3 bg-pink-400 rounded-full mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"1人目"}),d.jsx("p",{className:"text-gray-800",children:o?o.name:"未選択"}),o&&d.jsxs("div",{className:"flex items-center mt-1",children:[J(o),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:ee(o)})]})]})]}),d.jsxs("div",{className:"flex items-center p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"2人目"}),d.jsx("p",{className:"text-gray-800",children:l?l.name:"未選択"}),l&&d.jsxs("div",{className:"flex items-center mt-1",children:[J(l),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:ee(l)})]})]})]})]})]}),d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(Kk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",value:c,onChange:E=>h(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"名前またはメールアドレスで検索..."}),d.jsx("button",{onClick:S,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(kg,{className:"w-4 h-4 text-gray-500"})})]})}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["登録ユーザ一覧 (",T.length,"人)"]}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(hf,{className:"w-3 h-3 text-green-500 mr-1"}),"回答済み"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(df,{className:"w-3 h-3 text-yellow-500 mr-1"}),"部分回答"]})]})]}),f?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]}):v?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-600 mb-4",children:v}),d.jsx("button",{onClick:S,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"再試行"})]}):T.length===0?d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-600",children:c?"検索条件に一致するユーザーが見つかりません":"ユーザーが登録されていません"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:d.jsx(To,{children:T.map((E,Q)=>d.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:Q*.05},className:`relative p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${I(E)?(o==null?void 0:o.id)===E.id?"border-pink-400 bg-pink-50":"border-blue-400 bg-blue-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-50"}`,children:[I(E)&&d.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ${(o==null?void 0:o.id)===E.id?"bg-pink-400":"bg-blue-400"}`,children:d.jsx(oa,{className:"w-4 h-4"})}),d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-semibold text-gray-800",children:E.name}),J(E)]}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:E.email}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["登録日: ",new Date(E.created_at).toLocaleDateString("ja-JP")]}),d.jsx("p",{className:"text-xs text-gray-500",children:ee(E)})]}),D(E)&&d.jsxs("div",{className:`text-xs font-medium mb-2 ${(o==null?void 0:o.id)===E.id?"text-pink-600":"text-blue-600"}`,children:[D(E),"として選択中"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>N(E,1),disabled:(l==null?void 0:l.id)===E.id,className:`flex-1 py-2 px-3 text-xs font-medium rounded-lg transition-colors ${(o==null?void 0:o.id)===E.id?"bg-pink-400 text-white":(l==null?void 0:l.id)===E.id?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-600 hover:bg-pink-200"}`,children:"1人目に選択"}),d.jsx("button",{onClick:()=>N(E,2),disabled:(o==null?void 0:o.id)===E.id,className:`flex-1 py-2 px-3 text-xs font-medium rounded-lg transition-colors ${(l==null?void 0:l.id)===E.id?"bg-blue-400 text-white":(o==null?void 0:o.id)===E.id?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:"2人目に選択"})]})]},E.id))})})]}),d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"text-center",children:d.jsx("button",{onClick:R,disabled:!o||!l||x,className:`px-8 py-4 font-semibold rounded-2xl shadow-lg transition-all duration-300 ${o&&l&&!x?"bg-gradient-to-r from-purple-400 to-pink-500 text-white hover:shadow-xl hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:x?"診断中...":Re()})})]})]})},ff=({question:e,questionNumber:t,totalQuestions:n,onAnswer:r,userName:s})=>{const[i,o]=k.useState(!1),[a,l]=k.useState(null),u=async c=>{if(!i){o(!0),l(c);try{await new Promise(h=>setTimeout(h,800)),await r(c)}catch(h){console.error("回答の送信に失敗しました:",h),o(!1),l(null)}}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center p-4",children:[i&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:d.jsxs(j.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 shadow-2xl flex flex-col items-center",children:[d.jsx(pn,{className:"w-8 h-8 text-purple-500 animate-spin mb-3"}),d.jsx("p",{className:"text-gray-700 font-medium",children:"回答を保存中..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"しばらくお待ちください"})]})}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:`bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full relative ${i?"pointer-events-none":""}`,children:[i&&d.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(j.div,{className:"h-full bg-gradient-to-r from-purple-400 to-pink-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.8,ease:"easeInOut"}})}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s,"の回答"]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[t," / ",n]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(j.div,{className:"bg-gradient-to-r from-pink-400 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:`${t/n*100}%`},transition:{duration:.5}})})]}),d.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 leading-relaxed",children:e.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"あなたの気持ちに最も近いものを選んでください"})]}),d.jsx("div",{className:"space-y-3",children:Ws.map((c,h)=>{const f=a===h+1,m=i;return d.jsxs(j.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+h*.1},whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},onClick:()=>u(h+1),disabled:m,className:`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${f?"border-purple-400 bg-purple-50 shadow-lg":m?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":h===0?"border-red-200 hover:border-red-300 hover:bg-red-50":h===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":h===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":h===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${f?"border-purple-400 bg-purple-400":h===0?"border-red-300":h===1?"border-orange-300":h===2?"border-gray-300":h===3?"border-blue-300":"border-green-300"}`,children:f&&d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(oa,{className:"w-4 h-4 text-white"})})}),d.jsx("span",{className:`font-medium ${f?"text-purple-700":"text-gray-700"}`,children:c})]}),f&&i&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:d.jsx(pn,{className:"w-5 h-5 text-purple-500 animate-spin"})})]},h)})}),i&&d.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(pn,{className:"w-4 h-4 text-purple-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-purple-700",children:"回答を保存しています..."})]}),d.jsx("p",{className:"text-xs text-purple-600 text-center mt-1",children:"次の質問に進むまでお待ちください"})]})]})]})},rj=({user1Name:e,user2Name:t,compatibilityScore:n,onRestart:r,isSpecialCouple:s=!1})=>{const i=c=>c>=90?"from-pink-400 to-red-400":c>=80?"from-purple-400 to-pink-400":c>=70?"from-blue-400 to-purple-400":c>=60?"from-green-400 to-blue-400":"from-yellow-400 to-green-400",l=s?{title:"奇跡の相性！",message:"運命的な出会いです！",description:`${e}さんと${t}さんは、まさに理想的なパートナーシップを築くことができる組み合わせです。

お二人の相性の素晴らしさ：
• 価値観と人生観が驚くほど一致している
• お互いの長所を最大限に引き出し合える関係
• コミュニケーションが自然で心地よい
• 困難な時も支え合い、乗り越えていける強い絆

仕事面での相乗効果：
• 異なる専門性を活かした最強のチームワーク
• お互いの創造性を刺激し合い、革新的なアイデアを生み出す
• 目標に向かって共に成長し続けられる関係
• プロフェッショナルとしても人生のパートナーとしても理想的

将来への可能性：
お二人が歩む未来は、きっと多くの人に希望と勇気を与える素晴らしいものになるでしょう。互いを深く理解し、尊重し合いながら、共に夢を実現していく姿は、真の愛の形そのものです。

この出会いは偶然ではなく、必然だったのかもしれません。お二人の幸せな未来を心から応援しています！`}:(c=>c>=90?{title:"運命の相手！",message:"完璧な相性です！",description:"お二人は価値観や考え方が非常に似ており、自然体でいられる理想的な関係です。お互いの気持ちを直感的に理解し合えるため、深いコミュニケーションが可能です。この素晴らしい相性を活かして、共通の目標に向かって歩んでいくことで、さらに絆を深めることができるでしょう。定期的にお互いの成長について話し合い、感謝の気持ちを伝え合うことを心がけてください。"}:c>=80?{title:"最高の相性！",message:"とても素晴らしい関係です！",description:"お二人は多くの面で価値観が一致しており、お互いを深く理解し合える関係です。時には意見の違いもありますが、それがお互いの成長につながる良い刺激となっています。相手の意見に耳を傾け、違いを受け入れることで、より豊かな関係を築けます。お互いの趣味や興味を共有し、新しいことに一緒にチャレンジすることで、関係がさらに発展するでしょう。"}:c>=70?{title:"良い相性！",message:"お互いを理解し合えます！",description:"お二人は基本的な価値観が合っており、良好な関係を築ける相性です。時には考え方の違いを感じることもありますが、それは成長の機会でもあります。お互いの違いを認め合い、相手の立場に立って考えることを意識してください。定期的に心を開いて話し合う時間を作り、お互いの気持ちや考えを共有することで、理解がより深まります。小さな感謝の気持ちを日常的に表現することも大切です。"}:c>=60?{title:"まあまあの相性",message:"努力次第で良い関係に！",description:"お二人にはいくつかの違いがありますが、それは決して悪いことではありません。お互いの個性を尊重し、違いを学び合うことで、より豊かな関係を築くことができます。相手の考えを理解しようとする姿勢を大切にし、積極的にコミュニケーションを取ることが重要です。共通の趣味や活動を見つけて一緒に楽しむ時間を増やし、お互いの良いところを見つけて褒め合うことを心がけてください。忍耐と理解があれば、素晴らしい関係に発展する可能性があります。"}:{title:"異なる個性",message:"お互いから学ぶことがたくさん！",description:"お二人は異なる価値観や考え方を持っていますが、それは新しい発見と成長の機会に満ちています。相手の視点から物事を見ることで、自分では気づかなかった新しい世界が広がります。お互いの違いを批判するのではなく、学びの機会として捉えることが大切です。相手の良いところを積極的に見つけて認め合い、小さな共通点から関係を築いていきましょう。時間をかけてゆっくりとお互いを理解し合うことで、予想以上に深い絆を育むことができるかもしれません。"})(n),u=()=>d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:[[...Array(20)].map((c,h)=>d.jsx(j.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:Math.random()*(typeof window<"u"?window.innerHeight:800)},animate:{opacity:[0,.8,0],scale:[0,1.5,0],rotate:[0,360]},transition:{duration:3,delay:h*.2,repeat:1/0,repeatDelay:5},children:d.jsx(Qk,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"})},h)),[...Array(15)].map((c,h)=>d.jsx(j.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:typeof window<"u"?window.innerHeight+50:850},animate:{opacity:[0,.8,0],scale:[0,1,0],y:-100},transition:{duration:4,delay:h*.3,repeat:1/0,repeatDelay:6},children:d.jsx(Hi,{className:"w-8 h-8 text-pink-400",fill:"currentColor"})},`heart-${h}`)),[...Array(25)].map((c,h)=>d.jsx(j.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:typeof window<"u"?window.innerHeight+30:830},animate:{opacity:[0,.8,0],scale:[0,1.2,0],y:-80,rotate:[0,180,360]},transition:{duration:5,delay:h*.15,repeat:1/0,repeatDelay:7},children:d.jsx(ae,{className:"w-4 h-4 text-yellow-300"})},`sparkle-${h}`))]});return d.jsxs("div",{className:`min-h-screen flex items-center justify-center p-4 relative ${s?"bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100":"bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100"}`,children:[s&&d.jsx(u,{}),d.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:`backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-2xl w-full text-center relative z-10 ${s?"bg-white/90 border-4 border-yellow-300":"bg-white/80"}`,children:[s&&d.jsx(j.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5,type:"spring",stiffness:200},className:"absolute -top-8 left-1/2 transform -translate-x-1/2 z-20",children:d.jsx(Vk,{className:"w-16 h-16 text-yellow-500",fill:"currentColor"})}),d.jsxs(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"relative mb-6 z-20",children:[d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(Hi,{className:`w-16 h-16 mx-2 ${s?"text-yellow-400":"text-pink-400"}`,fill:"currentColor"}),d.jsx(jg,{className:`w-12 h-12 mx-2 ${s?"text-yellow-500":"text-purple-400"}`}),d.jsx(Hi,{className:`w-16 h-16 mx-2 ${s?"text-yellow-400":"text-pink-400"}`,fill:"currentColor"})]}),d.jsx(ae,{className:"w-6 h-6 absolute top-0 right-8 animate-pulse text-yellow-400"}),d.jsx(ae,{className:"w-4 h-4 absolute bottom-2 left-8 animate-pulse text-yellow-400"})]}),d.jsx(j.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:`text-2xl font-bold mb-2 relative z-20 ${s?"text-yellow-800":"text-gray-800"}`,children:"相性診断結果"}),d.jsxs(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:`text-lg mb-6 relative z-20 ${s?"text-yellow-700 font-semibold":"text-gray-600"}`,children:[e," × ",t]}),d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring",stiffness:150},className:"relative mb-6 z-20",children:d.jsx("div",{className:`w-32 h-32 rounded-full flex items-center justify-center mx-auto shadow-lg ${s?"bg-gradient-to-r from-yellow-400 to-yellow-500 border-4 border-yellow-300":`bg-gradient-to-r ${i(n)}`}`,children:d.jsxs(j.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-3xl font-bold text-white",children:[n,"%"]})})}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mb-6 relative z-20",children:[d.jsx("h3",{className:`text-xl font-bold mb-2 ${s?"text-yellow-800":"text-gray-800"}`,children:l.title}),d.jsx("p",{className:`${s?"text-yellow-700":"text-gray-600"}`,children:l.message})]}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:`rounded-2xl p-6 mb-6 relative z-20 ${s?"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200":"bg-gradient-to-r from-purple-50 to-pink-50"}`,children:[d.jsx("h4",{className:`font-semibold mb-3 ${s?"text-yellow-800":"text-gray-800"}`,children:"詳細な診断結果"}),d.jsx("div",{className:`text-sm leading-relaxed ${s?"text-yellow-700":"text-gray-600"}`,children:s?d.jsx("div",{className:"whitespace-pre-line text-left",children:l.description}):d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"mb-3",children:l.description}),d.jsx("p",{className:"text-xs text-gray-500",children:"※この診断結果は、制作者の独断と偏見によって分析されています。あくまで参考程度に。"})]})})]}),s&&d.jsxs(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.5},className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-2xl p-6 mb-6 relative z-20",children:[d.jsx("h4",{className:"font-bold text-lg mb-2",children:"🎉 26歳は強運の年 🎉"}),d.jsxs("p",{className:"text-sm text-left",children:["26歳はとても良い1年になります。",d.jsx("br",{}),"仕事もプライベートも順調で、相乗効果で肌ツヤも良くなることでしょう。",d.jsx("br",{}),"「若くなった？」と周りから言われますが、それは社交辞令ではなく、事実なのでありがたく受け取りましょう。"]})]}),d.jsxs(j.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:`w-full font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 relative z-20 ${s?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-400 to-pink-500 text-white"}`,children:[d.jsx(Hk,{className:"w-5 h-5"}),"もう一度診断する"]})]})]})};function sj({title:e="Hand Written",subtitle:t="Optional subtitle"}){const n={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:1,transition:{pathLength:{duration:2.5,ease:[.43,.13,.23,.96]},opacity:{duration:.5}}}};return d.jsxs("div",{className:"relative w-full max-w-7xl mx-auto py-40",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs(j.svg,{width:"600",height:"400",viewBox:"0 0 600 400",initial:"hidden",animate:"visible",className:"w-full h-full max-w-2xl",children:[d.jsx("title",{children:"H.MNK"}),d.jsx(j.ellipse,{cx:"300",cy:"200",rx:"280",ry:"180",fill:"none",strokeWidth:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",variants:n,className:"text-pink-400 opacity-70"})]})}),d.jsxs("div",{className:"relative text-center z-10 flex flex-col items-center justify-center px-12",children:[d.jsx(j.h1,{className:"text-6xl md:text-8xl text-gray-800 tracking-tighter flex items-center gap-2 font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:e}),t&&d.jsx(j.p,{className:"text-2xl md:text-3xl text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.8},children:t})]})]})}const ij=({onComplete:e})=>(k.useEffect(()=>{const t=setTimeout(()=>{e()},4e3);return()=>clearTimeout(t)},[e]),d.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center z-50 overflow-hidden",children:[d.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:1},className:"absolute inset-0",children:[d.jsx(j.div,{animate:{rotate:[0,15,-15,0],scale:[1,1.2,1],y:[0,-10,0]},transition:{duration:3,repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute top-8 left-8",children:d.jsx(ae,{className:"w-6 h-6 text-yellow-400"})}),d.jsx(j.div,{animate:{rotate:[0,-12,12,0],scale:[1,1.1,1],x:[0,5,0]},transition:{duration:2.5,repeat:1/0,repeatType:"reverse",delay:1},className:"absolute top-20 left-32",children:d.jsx(ae,{className:"w-4 h-4 text-purple-400"})}),d.jsx(j.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.15,1]},transition:{duration:2.8,repeat:1/0,repeatType:"reverse",delay:1.5},className:"absolute top-32 left-16",children:d.jsx(ae,{className:"w-5 h-5 text-pink-400"})}),d.jsx(j.div,{animate:{rotate:[0,-18,18,0],scale:[1,1.3,1],y:[0,-8,0]},transition:{duration:2.2,repeat:1/0,repeatType:"reverse",delay:.8},className:"absolute top-12 right-12",children:d.jsx(ae,{className:"w-7 h-7 text-blue-400"})}),d.jsx(j.div,{animate:{rotate:[0,8,-8,0],scale:[1,1.1,1],x:[0,-5,0]},transition:{duration:2.6,repeat:1/0,repeatType:"reverse",delay:1.2},className:"absolute top-24 right-28",children:d.jsx(ae,{className:"w-5 h-5 text-green-400"})}),d.jsx(j.div,{animate:{rotate:[0,-14,14,0],scale:[1,1.2,1]},transition:{duration:3.2,repeat:1/0,repeatType:"reverse",delay:2},className:"absolute top-40 right-20",children:d.jsx(ae,{className:"w-6 h-6 text-orange-400"})}),d.jsx(j.div,{animate:{rotate:[0,12,-12,0],scale:[1,1.25,1],y:[0,8,0]},transition:{duration:2.4,repeat:1/0,repeatType:"reverse",delay:1.8},className:"absolute bottom-16 left-10",children:d.jsx(ae,{className:"w-6 h-6 text-indigo-400"})}),d.jsx(j.div,{animate:{rotate:[0,-10,10,0],scale:[1,1.1,1],x:[0,8,0]},transition:{duration:2.7,repeat:1/0,repeatType:"reverse",delay:2.2},className:"absolute bottom-32 left-24",children:d.jsx(ae,{className:"w-4 h-4 text-teal-400"})}),d.jsx(j.div,{animate:{rotate:[0,16,-16,0],scale:[1,1.15,1]},transition:{duration:2.9,repeat:1/0,repeatType:"reverse",delay:2.5},className:"absolute bottom-8 left-40",children:d.jsx(ae,{className:"w-5 h-5 text-red-400"})}),d.jsx(j.div,{animate:{rotate:[0,-20,20,0],scale:[1,1.3,1],y:[0,10,0]},transition:{duration:2.1,repeat:1/0,repeatType:"reverse",delay:1.3},className:"absolute bottom-12 right-16",children:d.jsx(ae,{className:"w-7 h-7 text-cyan-400"})}),d.jsx(j.div,{animate:{rotate:[0,9,-9,0],scale:[1,1.1,1],x:[0,-6,0]},transition:{duration:2.8,repeat:1/0,repeatType:"reverse",delay:1.7},className:"absolute bottom-28 right-32",children:d.jsx(ae,{className:"w-5 h-5 text-lime-400"})}),d.jsx(j.div,{animate:{rotate:[0,-11,11,0],scale:[1,1.2,1]},transition:{duration:3.1,repeat:1/0,repeatType:"reverse",delay:2.8},className:"absolute bottom-40 right-8",children:d.jsx(ae,{className:"w-6 h-6 text-violet-400"})}),d.jsx(j.div,{animate:{rotate:[0,13,-13,0],scale:[1,1.4,1],y:[0,-12,0]},transition:{duration:2.3,repeat:1/0,repeatType:"reverse",delay:.7},className:"absolute top-6 left-1/2 transform -translate-x-1/2",children:d.jsx(ae,{className:"w-8 h-8 text-rose-400"})}),d.jsx(j.div,{animate:{rotate:[0,-17,17,0],scale:[1,1.35,1],y:[0,12,0]},transition:{duration:2.6,repeat:1/0,repeatType:"reverse",delay:2.3},className:"absolute bottom-6 left-1/2 transform -translate-x-1/2",children:d.jsx(ae,{className:"w-8 h-8 text-emerald-400"})}),d.jsx(j.div,{animate:{rotate:[0,14,-14,0],scale:[1,1.25,1],x:[0,10,0]},transition:{duration:2.4,repeat:1/0,repeatType:"reverse",delay:1.6},className:"absolute top-1/2 left-4 transform -translate-y-1/2",children:d.jsx(ae,{className:"w-7 h-7 text-amber-400"})}),d.jsx(j.div,{animate:{rotate:[0,-16,16,0],scale:[1,1.3,1],x:[0,-10,0]},transition:{duration:2.5,repeat:1/0,repeatType:"reverse",delay:1.9},className:"absolute top-1/2 right-4 transform -translate-y-1/2",children:d.jsx(ae,{className:"w-7 h-7 text-fuchsia-400"})}),d.jsx(j.div,{animate:{rotate:[0,25,-25,0],scale:[1,1.5,1],opacity:[.6,1,.6]},transition:{duration:4,repeat:1/0,repeatType:"reverse",delay:3},className:"absolute top-1/4 left-1/4",children:d.jsx(ae,{className:"w-3 h-3 text-sky-400"})}),d.jsx(j.div,{animate:{rotate:[0,-22,22,0],scale:[1,1.4,1],opacity:[.7,1,.7]},transition:{duration:3.5,repeat:1/0,repeatType:"reverse",delay:3.5},className:"absolute top-1/3 right-1/4",children:d.jsx(ae,{className:"w-3 h-3 text-slate-400"})}),d.jsx(j.div,{animate:{rotate:[0,18,-18,0],scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{duration:3.8,repeat:1/0,repeatType:"reverse",delay:4},className:"absolute bottom-1/4 left-1/3",children:d.jsx(ae,{className:"w-3 h-3 text-stone-400"})}),d.jsx(j.div,{animate:{rotate:[0,-24,24,0],scale:[1,1.6,1],opacity:[.6,1,.6]},transition:{duration:3.3,repeat:1/0,repeatType:"reverse",delay:4.2},className:"absolute bottom-1/3 right-1/3",children:d.jsx(ae,{className:"w-3 h-3 text-zinc-400"})})]}),d.jsxs("div",{className:"text-center max-w-7xl mx-auto px-4 relative z-10",children:[d.jsx(j.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:d.jsx(sj,{title:"H.MNK",subtitle:"Happy Birthday 26 years"})}),d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.5},className:"flex justify-center items-center gap-2 mt-8",children:[0,1,2].map(t=>d.jsx(j.div,{className:"w-3 h-3 bg-pink-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:t*.2}},t))}),d.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5,duration:.8},className:"text-gray-500 text-sm mt-6",children:"読み込み中..."})]})]})),oj=({question:e,questionNumber:t,totalQuestions:n,onAnswer:r,currentAnswer:s,onCancel:i})=>{const{user:o}=qr(),[a,l]=k.useState(!1),[u,c]=k.useState(null),h=async m=>{if(!a){l(!0),c(m);try{await new Promise(v=>setTimeout(v,800)),await r(m),l(!1),c(null)}catch(v){console.error("回答の保存に失敗しました:",v),l(!1),c(null)}}},f=()=>{var m;return(m=o==null?void 0:o.user_metadata)!=null&&m.name?o.user_metadata.name:o!=null&&o.email?o.email.split("@")[0]:"あなた"};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:[a&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:d.jsxs(j.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 shadow-2xl flex flex-col items-center",children:[d.jsx(pn,{className:"w-8 h-8 text-blue-500 animate-spin mb-3"}),d.jsx("p",{className:"text-gray-700 font-medium",children:t===n?"全ての回答を保存中...":"回答を記録中..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t===n?"データベースに保存しています":"しばらくお待ちください"})]})}),d.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:`bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full relative ${a?"pointer-events-none":""}`,children:[d.jsx("button",{onClick:i,disabled:a,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Hs,{className:"w-5 h-5 text-gray-500"})}),a&&d.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(j.div,{className:"h-full bg-gradient-to-r from-blue-400 to-purple-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.8,ease:"easeInOut"}})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"質問の再回答"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[f(),"さんの回答を編集できます"]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["質問 ",t," / ",n]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Math.round(t/n*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(j.div,{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:`${t/n*100}%`},transition:{duration:.5}})})]}),d.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 leading-relaxed",children:e.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"回答を選択してください（変更は全問回答後に保存されます）"}),s&&d.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:d.jsxs("p",{className:"text-sm text-blue-700",children:["元の回答: ",d.jsx("span",{className:"font-medium",children:Ws[s-1]})]})})]}),d.jsx("div",{className:"space-y-3",children:Ws.map((m,v)=>{const w=s===v+1,_=u===v+1,y=a;return d.jsxs(j.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+v*.1},whileHover:y?{}:{scale:1.02},whileTap:y?{}:{scale:.98},onClick:()=>h(v+1),disabled:y,className:`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${_?"border-blue-400 bg-blue-50 shadow-lg":w?"border-blue-300 bg-blue-25 shadow-md":y?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":v===0?"border-red-200 hover:border-red-300 hover:bg-red-50":v===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":v===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":v===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${_?"border-blue-400 bg-blue-400":w?"border-blue-300 bg-blue-100":v===0?"border-red-300":v===1?"border-orange-300":v===2?"border-gray-300":v===3?"border-blue-300":"border-green-300"}`,children:[_&&d.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(oa,{className:"w-4 h-4 text-white"})}),w&&!_&&d.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"})]}),d.jsx("span",{className:`font-medium ${_?"text-blue-700":w?"text-blue-600":"text-gray-700"}`,children:m}),w&&!_&&d.jsx("span",{className:"ml-auto text-xs text-blue-600 font-medium",children:"元の回答"})]}),_&&a&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:d.jsx(pn,{className:"w-5 h-5 text-blue-500 animate-spin"})})]},v)})}),a&&d.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(pn,{className:"w-4 h-4 text-blue-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-blue-700",children:t===n?"全ての回答を保存中...":"回答を記録中..."})]}),d.jsx("p",{className:"text-xs text-blue-600 text-center mt-1",children:t===n?"データベースに保存中です":"次の質問に進むまでお待ちください"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:i,disabled:a,className:"w-full bg-gray-100 text-gray-600 font-semibold py-3 px-6 rounded-xl hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(xg,{className:"w-4 h-4"}),"再回答をキャンセル"]})})]})]})},Za=(e,t)=>{if(e.length!==t.length)throw new Error("両方のユーザーの回答数が一致しません");let n=0,r=0;for(let i=0;i<e.length;i++){const o=e.find(l=>l.question_id===i+1),a=t.find(l=>l.question_id===i+1);if(o&&a){const l=6-o.answer_value,u=6-a.answer_value,h=4-Math.abs(l-u);n+=h,r+=4}}return Math.round(n/r*100)};function aj(){var Te;const{user:e}=qr(),[t,n]=k.useState("splash"),[r,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(0),[u,c]=k.useState([]),[h,f]=k.useState([]),[m,v]=k.useState(0),[w,_]=k.useState([]),[y,g]=k.useState(!0),[p,x]=k.useState([]),[b,P]=k.useState(0),[S,T]=k.useState([]),[N,R]=k.useState(0),I=(U,B)=>{console.log(`[DEBUG] ${U}`,B)};k.useEffect(()=>{(async()=>{I("Starting to fetch questions..."),g(!0);try{const{data:B,error:z}=await K.from("questions").select("*").order("id");if(I("Supabase response:",{data:B,error:z}),z){I("Error fetching questions from database:",z);const{questions:W}=await We(async()=>{const{questions:X}=await Promise.resolve().then(()=>$t);return{questions:X}},void 0);I("Using local questions as fallback:",W),_(W)}else if(B&&B.length>0)I("Successfully fetched questions from database:",B),_(B);else{I("No questions found in database, using local fallback");const{questions:W}=await We(async()=>{const{questions:X}=await Promise.resolve().then(()=>$t);return{questions:X}},void 0);I("Using local questions as fallback:",W),_(W)}}catch(B){I("Unexpected error fetching questions:",B);try{const{questions:z}=await We(async()=>{const{questions:W}=await Promise.resolve().then(()=>$t);return{questions:W}},void 0);I("Using local questions as fallback after error:",z),_(z)}catch(z){I("Failed to import local questions:",z);const W=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];I("Using hardcoded questions as final fallback:",W),_(W)}}finally{I("Questions loading completed"),g(!1)}})()},[]),k.useEffect(()=>{const{data:{subscription:U}}=K.auth.onAuthStateChange(async(B,z)=>{var X;console.log("Auth state change event:",B,"User:",(X=z==null?void 0:z.user)==null?void 0:X.email);const W=()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0};B==="SIGNED_IN"&&(z!=null&&z.user)&&(console.log("User signed in, redirecting to home"),W(),M(),setTimeout(()=>{W(),t==="splash"&&n("start")},100)),(B==="SIGNED_OUT"||B==="TOKEN_REFRESHED")&&console.log("Auth state changed:",B)});return()=>U.unsubscribe()},[t]),k.useEffect(()=>{const U=()=>{console.log("App: handleReAnswerEvent triggered"),Q()};return console.log("App: Setting up startReAnswer event listener"),window.addEventListener("startReAnswer",U),()=>{console.log("App: Removing startReAnswer event listener"),window.removeEventListener("startReAnswer",U)}},[e,w]);const D=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},100)},J=()=>{console.log("App: Profile updated, triggering user list refresh"),R(U=>U+1)},ee=()=>{D(),n("start")},Re=()=>{D(),n("userSelection")},E=()=>{console.log("Home button clicked, resetting to start state"),D(),M(),n("userSelection"),s(null),o(null),l(0),c([]),f([]),v(0)},Q=async()=>{if(console.log("App: handleStartReAnswer called",{user:e,questionsLength:w.length}),!!e)try{console.log("App: Fetching current answers for user:",e.id);const{data:U,error:B}=await K.from("answers").select("*").eq("user_id",e.id).order("question_id");if(B){console.error("Error fetching current answers:",B);return}console.log("App: Current answers fetched:",U),x(U||[]),T(U||[]),P(0),console.log("App: Scrolling to top and transitioning to reAnswer state"),D(),setTimeout(()=>{console.log("App: Setting state to reAnswer"),n("reAnswer")},200)}catch(U){console.error("Unexpected error starting re-answer:",U)}},A=async U=>{if(!e)return;const B=b+1;console.log("App: Submitting re-answer",{questionId:B,value:U,userId:e.id});const z=[...S],W=z.findIndex(X=>X.question_id===B);if(W>=0?z[W]={...z[W],answer_value:U}:z.push({id:B,user_id:e.id,question_id:B,answer_value:U,created_at:new Date().toISOString()}),T(z),console.log("App: Temporary data updated, checking next step",{currentIndex:b,totalQuestions:w.length,isLastQuestion:b>=w.length-1}),b<w.length-1)console.log("App: Moving to next question"),P(b+1);else{console.log("App: All questions answered, saving to database");try{const X=z.map(kn=>({user_id:e.id,question_id:kn.question_id,answer_value:kn.answer_value})),{error:dt}=await K.from("answers").upsert(X,{onConflict:"user_id,question_id"});if(dt)throw console.error("Error batch updating answers:",dt),dt;console.log("App: All answers saved successfully"),D(),setTimeout(()=>{n("start"),x([]),T([]),P(0)},200)}catch(X){console.error("Error saving answers to database:",X),D(),setTimeout(()=>{n("start"),x([]),T([]),P(0)},200)}}},L=()=>{console.log("App: Re-answer cancelled, discarding temporary data"),D(),setTimeout(()=>{n("start"),x([]),T([]),P(0)},200)},M=()=>{console.log("Resetting all application states"),s(null),o(null),l(0),c([]),f([]),v(0),x([]),T([]),P(0),sessionStorage.removeItem("loginRedirect"),sessionStorage.removeItem("appState"),localStorage.removeItem("appState")},V=(U,B)=>{const z=["畑中美菜子","阿知良憲"];return U.name===z[0]&&B.name===z[1]||U.name===z[1]&&B.name===z[0]},te=async(U,B)=>{if(I("handleUsersSelected called",{user1:U.name,user2:B.name}),s(U),o(B),V(U,B)){I("Special user combination detected"),v(100),D(),setTimeout(()=>{n("result")},200);return}I("Fetching existing answers for both users");const[z,W]=await Promise.all([K.from("answers").select("*").eq("user_id",U.id).order("question_id"),K.from("answers").select("*").eq("user_id",B.id).order("question_id")]);I("User1 answers data:",z),I("User2 answers data:",W);const X=z.data||[],dt=W.data||[],kn=X.length===w.length,si=dt.length===w.length;if(I("Answer status check:",{user1HasAllAnswers:kn,user2HasAllAnswers:si,user1AnswerCount:X.length,user2AnswerCount:dt.length,totalQuestions:w.length}),kn&&si){I("Both users have all answers, calculating compatibility"),c(X),f(dt);const aa=Za(X,dt);I("Calculated compatibility score:",aa),v(aa);const{error:Lc}=await K.from("compatibility_results").upsert([{user1_id:U.id,user2_id:B.id,compatibility_score:aa}],{onConflict:"user1_id,user2_id"});Lc?I("Error saving compatibility result:",Lc):I("Compatibility result saved successfully"),D(),setTimeout(()=>{I("Transitioning to result screen"),n("result")},200)}else kn&&!si?(I("User1 has answers, User2 needs to answer"),c(X),f([]),l(0),n("quiz2")):!kn&&si?(I("User1 needs to answer, User2 has answers"),c([]),f(dt),l(0),n("quiz1")):(I("Both users need to answer or have partial answers"),c(X),f(dt),l(X.length),n("quiz1"))},Pt=async U=>{if(!r)return;const B={id:a+1,user_id:r.id,question_id:a+1,answer_value:U,created_at:new Date().toISOString()};await K.from("answers").upsert([{user_id:r.id,question_id:a+1,answer_value:U}],{onConflict:"user_id,question_id"});const z=[...u,B];if(c(z),a<w.length-1)l(a+1);else{const{data:W}=await K.from("answers").select("*").eq("user_id",i.id).order("question_id");if(W&&W.length===w.length){f(W);const X=Za(z,W);v(X),await K.from("compatibility_results").upsert([{user1_id:r.id,user2_id:i.id,compatibility_score:X}],{onConflict:"user1_id,user2_id"}),D(),setTimeout(()=>{n("result")},200)}else l((W==null?void 0:W.length)||0),n("quiz2")}},tt=async U=>{if(!i)return;const B={id:a+1,user_id:i.id,question_id:a+1,answer_value:U,created_at:new Date().toISOString()};await K.from("answers").upsert([{user_id:i.id,question_id:a+1,answer_value:U}],{onConflict:"user_id,question_id"});const z=[...h,B];if(f(z),a<w.length-1)l(a+1);else{const W=Za(u,z);v(W),r&&i&&await K.from("compatibility_results").upsert([{user1_id:r.id,user2_id:i.id,compatibility_score:W}],{onConflict:"user1_id,user2_id"}),D(),setTimeout(()=>{n("result")},200)}},Ht=()=>{D(),setTimeout(()=>{n("userSelection")},100),l(0),c([]),f([]),v(0)};return k.useEffect(()=>{(t==="result"||t==="start")&&(setTimeout(()=>{D()},50),setTimeout(()=>{D()},200))},[t]),d.jsx("div",{className:"app",children:d.jsxs(To,{mode:"wait",children:[t==="splash"&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(ij,{onComplete:ee})},"splash"),t!=="splash"&&d.jsxs(d.Fragment,{children:[d.jsx(ej,{onHomeClick:E,onProfileUpdated:J}),d.jsxs("div",{className:"pt-3",children:[t==="start"&&d.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(rr,{message:"",children:d.jsx(tj,{onStart:Re})})},"start"),t==="userSelection"&&d.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:d.jsx(rr,{children:d.jsx(nj,{onUsersSelected:te,currentUser:r,refreshTrigger:N})})},"userSelection"),t==="quiz1"&&d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:d.jsx(rr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):w.length>0?d.jsx(ff,{question:w[a],questionNumber:a+1,totalQuestions:w.length,onAnswer:Pt,userName:(r==null?void 0:r.name)||"ユーザー1"}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"quiz1"),t==="quiz2"&&d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:d.jsx(rr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):w.length>0?d.jsx(ff,{question:w[a],questionNumber:a+1,totalQuestions:w.length,onAnswer:tt,userName:(i==null?void 0:i.name)||"ユーザー2"}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"quiz2"),t==="reAnswer"&&d.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"pt-16",children:d.jsx(rr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):w.length>0?d.jsx(oj,{question:w[b],questionNumber:b+1,totalQuestions:w.length,onAnswer:A,currentAnswer:(Te=S.find(U=>U.question_id===b+1))==null?void 0:Te.answer_value,onCancel:L}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"reAnswer"),t==="result"&&d.jsx(j.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},className:"pt-16",children:d.jsx(rr,{children:d.jsx(rj,{user1Name:(r==null?void 0:r.name)||"ユーザー1",user2Name:(i==null?void 0:i.name)||"ユーザー2",compatibilityScore:m,onRestart:Ht,isSpecialCouple:r&&i?V(r,i):!1})})},"result")]})]})]})})}function lj(){return d.jsx(Jk,{children:d.jsx(Lk,{children:d.jsx(aj,{})})})}Tm(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(lj,{})}));
