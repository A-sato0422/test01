(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var df={exports:{}},To={},hf={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),Tg=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),Ng=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Ig=Symbol.for("react.lazy"),Rc=Symbol.iterator;function Dg(e){return e===null||typeof e!="object"?null:(e=Rc&&e[Rc]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||ff}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gf(){}gf.prototype=Dr.prototype;function du(e,t,n){this.props=e,this.context=t,this.refs=mf,this.updater=n||ff}var hu=du.prototype=new gf;hu.constructor=du;pf(hu,Dr.prototype);hu.isPureReactComponent=!0;var Oc=Array.isArray,yf=Object.prototype.hasOwnProperty,fu={current:null},vf={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yf.call(t,r)&&!vf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qs,type:e,key:i,ref:o,props:s,_owner:fu.current}}function Mg(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function $g(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lc=/\/+/g;function ia(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$g(""+e.key):t.toString(36)}function Ei(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case Tg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ia(o,0):r,Oc(s)?(n="",e!=null&&(n=e.replace(Lc,"$&/")+"/"),Ei(s,t,n,"",function(u){return u})):s!=null&&(pu(s)&&(s=Mg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Oc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ia(i,a);o+=Ei(i,t,n,l,s)}else if(l=Dg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ia(i,a++),o+=Ei(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(e,t,n){if(e==null)return e;var r=[],s=0;return Ei(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Vg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},Ci={transition:null},Ug={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:fu};function xf(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ni,forEach:function(e,t,n){ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Dr;W.Fragment=Pg;W.Profiler=Cg;W.PureComponent=du;W.StrictMode=Eg;W.Suspense=Og;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ug;W.act=xf;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=fu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yf.call(t,l)&&!vf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qs,type:e.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:Ag,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ng,_context:e},e.Consumer=e};W.createElement=wf;W.createFactory=function(e){var t=wf.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Rg,render:e}};W.isValidElement=pu;W.lazy=function(e){return{$$typeof:Ig,_payload:{_status:-1,_result:e},_init:Vg}};W.memo=function(e,t){return{$$typeof:Lg,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Ci.transition;Ci.transition={};try{e()}finally{Ci.transition=t}};W.unstable_act=xf;W.useCallback=function(e,t){return De.current.useCallback(e,t)};W.useContext=function(e){return De.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return De.current.useDeferredValue(e)};W.useEffect=function(e,t){return De.current.useEffect(e,t)};W.useId=function(){return De.current.useId()};W.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return De.current.useMemo(e,t)};W.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};W.useRef=function(e){return De.current.useRef(e)};W.useState=function(e){return De.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return De.current.useTransition()};W.version="18.3.1";hf.exports=W;var k=hf.exports;const Po=bg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=k,zg=Symbol.for("react.element"),Bg=Symbol.for("react.fragment"),qg=Object.prototype.hasOwnProperty,Hg=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function _f(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qg.call(t,r)&&!Wg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:zg,type:e,key:i,ref:o,props:s,_owner:Hg.current}}To.Fragment=Bg;To.jsx=_f;To.jsxs=_f;df.exports=To;var d=df.exports,Sf={exports:{}},Ze={},kf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var V=A.length;A.push(L);e:for(;0<V;){var M=V-1>>>1,ee=A[M];if(0<s(ee,L))A[M]=L,A[V]=ee,V=M;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],V=A.pop();if(V!==L){A[0]=V;e:for(var M=0,ee=A.length,_t=ee>>>1;M<_t;){var $=2*(M+1)-1,U=A[$],I=$+1,z=A[I];if(0>s(U,V))I<ee&&0>s(z,U)?(A[M]=z,A[I]=V,M=I):(A[M]=U,A[$]=V,M=$);else if(I<ee&&0>s(z,V))A[M]=z,A[I]=V,M=I;else break e}}return L}function s(A,L){var V=A.sortIndex-L.sortIndex;return V!==0?V:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=A)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function x(A){if(v=!1,m(A),!w)if(n(l)!==null)w=!0,B(S);else{var L=n(u);L!==null&&he(x,L.startTime-A)}}function S(A,L){w=!1,v&&(v=!1,y(P),P=-1),g=!0;var V=f;try{for(m(L),h=n(l);h!==null&&(!(h.expirationTime>L)||A&&!G());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var ee=M(h.expirationTime<=L);L=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),m(L)}else r(l);h=n(l)}if(h!==null)var _t=!0;else{var $=n(u);$!==null&&he(x,$.startTime-L),_t=!1}return _t}finally{h=null,f=V,g=!1}}var b=!1,j=null,P=-1,E=5,R=-1;function G(){return!(e.unstable_now()-R<E)}function q(){if(j!==null){var A=e.unstable_now();R=A;var L=!0;try{L=j(!0,A)}finally{L?J():(b=!1,j=null)}}else b=!1}var J;if(typeof p=="function")J=function(){p(q)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Y=N.port2;N.port1.onmessage=q,J=function(){Y.postMessage(null)}}else J=function(){_(q,0)};function B(A){j=A,b||(b=!0,J())}function he(A,L){P=_(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,B(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var V=f;f=L;try{return A()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=f;f=A;try{return L()}finally{f=V}},e.unstable_scheduleCallback=function(A,L,V){var M=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?M+V:M):V=M,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,A={id:c++,callback:L,priorityLevel:A,startTime:V,expirationTime:ee,sortIndex:-1},V>M?(A.sortIndex=V,t(u,A),n(l)===null&&A===n(u)&&(v?(y(P),P=-1):v=!0,he(x,V-M))):(A.sortIndex=ee,t(l,A),w||g||(w=!0,B(S))),A},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(A){var L=f;return function(){var V=f;f=L;try{return A.apply(this,arguments)}finally{f=V}}}})(bf);kf.exports=bf;var Kg=kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=k,Xe=Kg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,_s={};function Hn(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(_s[e]=t,e=0;e<t.length;e++)jf.add(t[e])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,Gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Dc={};function Jg(e){return Xa.call(Dc,e)?!0:Xa.call(Ic,e)?!1:Gg.test(e)?Dc[e]=!0:(Ic[e]=!0,!1)}function Xg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yg(e,t,n,r){if(t===null||typeof t>"u"||Xg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var mu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function yu(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yg(t,n,s,r)&&(n=null),r||s===null?Jg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qt=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),rr=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),Tf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),Za=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),xu=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Ef=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function zr(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,oa;function Zr(e){if(oa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oa=t&&t[1]||""}return`
`+oa+e}var aa=!1;function la(e,t){if(!e||aa)return"";aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{aa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zr(e):""}function Zg(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=la(e.type,!1),e;case 11:return e=la(e.type.render,!1),e;case 1:return e=la(e.type,!0),e;default:return""}}function tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case rr:return"Portal";case Ya:return"Profiler";case vu:return"StrictMode";case Za:return"Suspense";case el:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pf:return(e.displayName||"Context")+".Consumer";case Tf:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xu:return t=e.displayName||null,t!==null?t:tl(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return tl(e(t))}catch{}}return null}function ey(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tl(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ty(e){var t=Cf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function si(e){e._valueTracker||(e._valueTracker=ty(e))}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nl(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $c(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Af(e,t){t=t.checked,t!=null&&yu(e,"checked",t,!1)}function rl(e,t){Af(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&sl(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sl(e,t,n){(t!=="number"||Bi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var es=Array.isArray;function wr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(es(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Rf(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ol(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Lf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ny=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(e){ny.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),is[t]=is[e]})});function If(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||is.hasOwnProperty(e)&&is[e]?(""+t).trim():t+"px"}function Df(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=If(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ry=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,t){if(t){if(ry[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,xr=null,_r=null;function zc(e){if(e=Ks(e)){if(typeof cl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ro(t),cl(e.stateNode,e.type,t))}}function Mf(e){xr?_r?_r.push(e):_r=[e]:xr=e}function $f(){if(xr){var e=xr,t=_r;if(_r=xr=null,zc(e),t)for(e=0;e<t.length;e++)zc(t[e])}}function Vf(e,t){return e(t)}function Uf(){}var ua=!1;function Ff(e,t,n){if(ua)return e(t,n);ua=!0;try{return Vf(e,t,n)}finally{ua=!1,(xr!==null||_r!==null)&&(Uf(),$f())}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var dl=!1;if(Vt)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{dl=!1}function sy(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var os=!1,qi=null,Hi=!1,hl=null,iy={onError:function(e){os=!0,qi=e}};function oy(e,t,n,r,s,i,o,a,l){os=!1,qi=null,sy.apply(iy,arguments)}function ay(e,t,n,r,s,i,o,a,l){if(oy.apply(this,arguments),os){if(os){var u=qi;os=!1,qi=null}else throw Error(C(198));Hi||(Hi=!0,hl=u)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bc(e){if(Wn(e)!==e)throw Error(C(188))}function ly(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bc(s),e;if(i===r)return Bc(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Bf(e){return e=ly(e),e!==null?qf(e):null}function qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qf(e);if(t!==null)return t;e=e.sibling}return null}var Hf=Xe.unstable_scheduleCallback,qc=Xe.unstable_cancelCallback,uy=Xe.unstable_shouldYield,cy=Xe.unstable_requestPaint,me=Xe.unstable_now,dy=Xe.unstable_getCurrentPriorityLevel,Su=Xe.unstable_ImmediatePriority,Wf=Xe.unstable_UserBlockingPriority,Wi=Xe.unstable_NormalPriority,hy=Xe.unstable_LowPriority,Kf=Xe.unstable_IdlePriority,Eo=null,jt=null;function fy(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Eo,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:gy,py=Math.log,my=Math.LN2;function gy(e){return e>>>=0,e===0?32:31-(py(e)/my|0)|0}var oi=64,ai=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ki(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ts(a):(i&=o,i!==0&&(r=ts(i)))}else o=n&~s,o!==0?r=ts(o):i!==0&&(r=ts(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vt(t),s=1<<n,r|=e[n],t&=~s;return r}function yy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yy(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qf(){var e=oi;return oi<<=1,!(oi&4194240)&&(oi=64),e}function ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function wy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ku(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jf,bu,Xf,Yf,Zf,pl=!1,li=[],rn=null,sn=null,on=null,bs=new Map,js=new Map,Yt=[],xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function qr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ks(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _y(e,t,n,r,s){switch(t){case"focusin":return rn=qr(rn,e,t,n,r,s),!0;case"dragenter":return sn=qr(sn,e,t,n,r,s),!0;case"mouseover":return on=qr(on,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return bs.set(i,qr(bs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,js.set(i,qr(js.get(i)||null,e,t,n,r,s)),!0}return!1}function ep(e){var t=Rn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=zf(n),t!==null){e.blockedOn=t,Zf(e.priority,function(){Xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ul=r,n.target.dispatchEvent(r),ul=null}else return t=Ks(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function Wc(e,t,n){Ni(e)&&n.delete(t)}function Sy(){pl=!1,rn!==null&&Ni(rn)&&(rn=null),sn!==null&&Ni(sn)&&(sn=null),on!==null&&Ni(on)&&(on=null),bs.forEach(Wc),js.forEach(Wc)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,pl||(pl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Sy)))}function Ts(e){function t(s){return Hr(s,e)}if(0<li.length){Hr(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&Hr(rn,e),sn!==null&&Hr(sn,e),on!==null&&Hr(on,e),bs.forEach(t),js.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)ep(n),n.blockedOn===null&&Yt.shift()}var Sr=qt.ReactCurrentBatchConfig,Qi=!0;function ky(e,t,n,r){var s=X,i=Sr.transition;Sr.transition=null;try{X=1,ju(e,t,n,r)}finally{X=s,Sr.transition=i}}function by(e,t,n,r){var s=X,i=Sr.transition;Sr.transition=null;try{X=4,ju(e,t,n,r)}finally{X=s,Sr.transition=i}}function ju(e,t,n,r){if(Qi){var s=ml(e,t,n,r);if(s===null)xa(e,t,r,Gi,n),Hc(e,r);else if(_y(s,e,t,n,r))r.stopPropagation();else if(Hc(e,r),t&4&&-1<xy.indexOf(e)){for(;s!==null;){var i=Ks(s);if(i!==null&&Jf(i),i=ml(e,t,n,r),i===null&&xa(e,t,r,Gi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xa(e,t,r,null,n)}}var Gi=null;function ml(e,t,n,r){if(Gi=null,e=_u(r),e=Rn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dy()){case Su:return 1;case Wf:return 4;case Wi:case hy:return 16;case Kf:return 536870912;default:return 16}default:return 16}}var tn=null,Tu=null,Ai=null;function np(){if(Ai)return Ai;var e,t=Tu,n=t.length,r,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ai=s.slice(e,1<r?1-r:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function Kc(){return!1}function et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ui:Kc,this.isPropagationStopped=Kc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=et(Mr),Ws=de({},Mr,{view:0,detail:0}),jy=et(Ws),da,ha,Wr,Co=de({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(da=e.screenX-Wr.screenX,ha=e.screenY-Wr.screenY):ha=da=0,Wr=e),da)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Qc=et(Co),Ty=de({},Co,{dataTransfer:0}),Py=et(Ty),Ey=de({},Ws,{relatedTarget:0}),fa=et(Ey),Cy=de({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ny=et(Cy),Ay=de({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ry=et(Ay),Oy=de({},Mr,{data:0}),Gc=et(Oy),Ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dy[e])?!!t[e]:!1}function Eu(){return My}var $y=de({},Ws,{key:function(e){if(e.key){var t=Ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vy=et($y),Uy=de({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=et(Uy),Fy=de({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),zy=et(Fy),By=de({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=et(By),Hy=de({},Co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=et(Hy),Ky=[9,13,27,32],Cu=Vt&&"CompositionEvent"in window,as=null;Vt&&"documentMode"in document&&(as=document.documentMode);var Qy=Vt&&"TextEvent"in window&&!as,rp=Vt&&(!Cu||as&&8<as&&11>=as),Xc=" ",Yc=!1;function sp(e,t){switch(e){case"keyup":return Ky.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Gy(e,t){switch(e){case"compositionend":return ip(t);case"keypress":return t.which!==32?null:(Yc=!0,Xc);case"textInput":return e=t.data,e===Xc&&Yc?null:e;default:return null}}function Jy(e,t){if(ir)return e==="compositionend"||!Cu&&sp(e,t)?(e=np(),Ai=Tu=tn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rp&&t.locale!=="ko"?null:t.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xy[e.type]:t==="textarea"}function op(e,t,n,r){Mf(r),t=Ji(t,"onChange"),0<t.length&&(n=new Pu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ls=null,Ps=null;function Yy(e){yp(e,0)}function No(e){var t=lr(e);if(Nf(t))return e}function Zy(e,t){if(e==="change")return t}var ap=!1;if(Vt){var pa;if(Vt){var ma="oninput"in document;if(!ma){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),ma=typeof ed.oninput=="function"}pa=ma}else pa=!1;ap=pa&&(!document.documentMode||9<document.documentMode)}function td(){ls&&(ls.detachEvent("onpropertychange",lp),Ps=ls=null)}function lp(e){if(e.propertyName==="value"&&No(Ps)){var t=[];op(t,Ps,e,_u(e)),Ff(Yy,t)}}function ev(e,t,n){e==="focusin"?(td(),ls=t,Ps=n,ls.attachEvent("onpropertychange",lp)):e==="focusout"&&td()}function tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(Ps)}function nv(e,t){if(e==="click")return No(t)}function rv(e,t){if(e==="input"||e==="change")return No(t)}function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:sv;function Es(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xa.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=nd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nd(n)}}function up(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?up(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cp(){for(var e=window,t=Bi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bi(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iv(e){var t=cp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&up(n.ownerDocument.documentElement,n)){if(r!==null&&Nu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=rd(n,i);var o=rd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ov=Vt&&"documentMode"in document&&11>=document.documentMode,or=null,gl=null,us=null,yl=!1;function sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yl||or==null||or!==Bi(r)||(r=or,"selectionStart"in r&&Nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Es(us,r)||(us=r,r=Ji(gl,"onSelect"),0<r.length&&(t=new Pu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},ga={},dp={};Vt&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Ao(e){if(ga[e])return ga[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dp)return ga[e]=t[n];return e}var hp=Ao("animationend"),fp=Ao("animationiteration"),pp=Ao("animationstart"),mp=Ao("transitionend"),gp=new Map,id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){gp.set(e,t),Hn(t,[e])}for(var ya=0;ya<id.length;ya++){var va=id[ya],av=va.toLowerCase(),lv=va[0].toUpperCase()+va.slice(1);vn(av,"on"+lv)}vn(hp,"onAnimationEnd");vn(fp,"onAnimationIteration");vn(pp,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(mp,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function od(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ay(r,t,void 0,e),e.currentTarget=null}function yp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;od(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;od(s,a,u),i=l}}}if(Hi)throw e=hl,Hi=!1,hl=null,e}function se(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var r=e+"__bubble";n.has(r)||(vp(t,e,2,!1),n.add(r))}function wa(e,t,n){var r=0;t&&(r|=4),vp(n,e,r,t)}var di="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[di]){e[di]=!0,jf.forEach(function(n){n!=="selectionchange"&&(uv.has(n)||wa(n,!1,e),wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[di]||(t[di]=!0,wa("selectionchange",!1,t))}}function vp(e,t,n,r){switch(tp(t)){case 1:var s=ky;break;case 4:s=by;break;default:s=ju}n=s.bind(null,t,n,e),s=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Rn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ff(function(){var u=i,c=_u(n),h=[];e:{var f=gp.get(e);if(f!==void 0){var g=Pu,w=e;switch(e){case"keypress":if(Ri(n)===0)break e;case"keydown":case"keyup":g=Vy;break;case"focusin":w="focus",g=fa;break;case"focusout":w="blur",g=fa;break;case"beforeblur":case"afterblur":g=fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zy;break;case hp:case fp:case pp:g=Ny;break;case mp:g=qy;break;case"scroll":g=jy;break;case"wheel":g=Wy;break;case"copy":case"cut":case"paste":g=Ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jc}var v=(t&4)!==0,_=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,y!==null&&(x=ks(p,y),x!=null&&v.push(Ns(p,x,m)))),_)break;p=p.return}0<v.length&&(f=new g(f,w,null,n,c),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==ul&&(w=n.relatedTarget||n.fromElement)&&(Rn(w)||w[Ut]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Rn(w):null,w!==null&&(_=Wn(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(v=Qc,x="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Jc,x="onPointerLeave",y="onPointerEnter",p="pointer"),_=g==null?f:lr(g),m=w==null?f:lr(w),f=new v(x,p+"leave",g,n,c),f.target=_,f.relatedTarget=m,x=null,Rn(c)===u&&(v=new v(y,p+"enter",w,n,c),v.target=m,v.relatedTarget=_,x=v),_=x,g&&w)t:{for(v=g,y=w,p=0,m=v;m;m=Jn(m))p++;for(m=0,x=y;x;x=Jn(x))m++;for(;0<p-m;)v=Jn(v),p--;for(;0<m-p;)y=Jn(y),m--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Jn(v),y=Jn(y)}v=null}else v=null;g!==null&&ad(h,f,g,v,!1),w!==null&&_!==null&&ad(h,_,w,v,!0)}}e:{if(f=u?lr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Zy;else if(Zc(f))if(ap)S=rv;else{S=tv;var b=ev}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=nv);if(S&&(S=S(e,u))){op(h,S,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&sl(f,"number",f.value)}switch(b=u?lr(u):window,e){case"focusin":(Zc(b)||b.contentEditable==="true")&&(or=b,gl=u,us=null);break;case"focusout":us=gl=or=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,sd(h,n,c);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":sd(h,n,c)}var j;if(Cu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ir?sp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rp&&n.locale!=="ko"&&(ir||P!=="onCompositionStart"?P==="onCompositionEnd"&&ir&&(j=np()):(tn=c,Tu="value"in tn?tn.value:tn.textContent,ir=!0)),b=Ji(u,P),0<b.length&&(P=new Gc(P,e,null,n,c),h.push({event:P,listeners:b}),j?P.data=j:(j=ip(n),j!==null&&(P.data=j)))),(j=Qy?Gy(e,n):Jy(e,n))&&(u=Ji(u,"onBeforeInput"),0<u.length&&(c=new Gc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=j))}yp(h,t)})}function Ns(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ks(e,n),i!=null&&r.unshift(Ns(e,i,s)),i=ks(e,t),i!=null&&r.push(Ns(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ks(n,i),l!=null&&o.unshift(Ns(n,l,a))):s||(l=ks(n,i),l!=null&&o.push(Ns(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var cv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(cv,`
`).replace(dv,"")}function hi(e,t,n){if(t=ld(t),ld(e)!==t&&n)throw Error(C(425))}function Xi(){}var vl=null,wl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _l=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(pv)}:_l;function pv(e){setTimeout(function(){throw e})}function _a(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ts(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),bt="__reactFiber$"+$r,As="__reactProps$"+$r,Ut="__reactContainer$"+$r,Sl="__reactEvents$"+$r,mv="__reactListeners$"+$r,gv="__reactHandles$"+$r;function Rn(e){var t=e[bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[bt])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function Ks(e){return e=e[bt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ro(e){return e[As]||null}var kl=[],ur=-1;function wn(e){return{current:e}}function ie(e){0>ur||(e.current=kl[ur],kl[ur]=null,ur--)}function ne(e,t){ur++,kl[ur]=e.current,e.current=t}var mn={},Ae=wn(mn),Be=wn(!1),Vn=mn;function Pr(e,t){var n=e.type.contextTypes;if(!n)return mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function Yi(){ie(Be),ie(Ae)}function dd(e,t,n){if(Ae.current!==mn)throw Error(C(168));ne(Ae,t),ne(Be,n)}function wp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,ey(e)||"Unknown",s));return de({},n,r)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Vn=Ae.current,ne(Ae,e),ne(Be,Be.current),!0}function hd(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=wp(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,ie(Be),ie(Ae),ne(Ae,e)):ie(Be),ne(Be,n)}var At=null,Oo=!1,Sa=!1;function xp(e){At===null?At=[e]:At.push(e)}function yv(e){Oo=!0,xp(e)}function xn(){if(!Sa&&At!==null){Sa=!0;var e=0,t=X;try{var n=At;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}At=null,Oo=!1}catch(s){throw At!==null&&(At=At.slice(e+1)),Hf(Su,xn),s}finally{X=t,Sa=!1}}return null}var cr=[],dr=0,eo=null,to=0,it=[],ot=0,Un=null,Rt=1,Ot="";function jn(e,t){cr[dr++]=to,cr[dr++]=eo,eo=e,to=t}function _p(e,t,n){it[ot++]=Rt,it[ot++]=Ot,it[ot++]=Un,Un=e;var r=Rt;e=Ot;var s=32-vt(r)-1;r&=~(1<<s),n+=1;var i=32-vt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-vt(t)+s|n<<s|r,Ot=i+e}else Rt=1<<i|n<<s|r,Ot=e}function Au(e){e.return!==null&&(jn(e,1),_p(e,1,0))}function Ru(e){for(;e===eo;)eo=cr[--dr],cr[dr]=null,to=cr[--dr],cr[dr]=null;for(;e===Un;)Un=it[--ot],it[ot]=null,Ot=it[--ot],it[ot]=null,Rt=it[--ot],it[ot]=null}var Je=null,Ge=null,ae=!1,yt=null;function Sp(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ge=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Un!==null?{id:Rt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ge=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(ae){var t=Ge;if(t){var n=t;if(!fd(e,t)){if(bl(e))throw Error(C(418));t=an(n.nextSibling);var r=Je;t&&fd(e,t)?Sp(r,n):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(bl(e))throw Error(C(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function fi(e){if(e!==Je)return!1;if(!ae)return pd(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Ge)){if(bl(e))throw kp(),Error(C(418));for(;t;)Sp(e,t),t=an(t.nextSibling)}if(pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Je?an(e.stateNode.nextSibling):null;return!0}function kp(){for(var e=Ge;e;)e=an(e.nextSibling)}function Er(){Ge=Je=null,ae=!1}function Ou(e){yt===null?yt=[e]:yt.push(e)}var vv=qt.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function bp(e){function t(y,p){if(e){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=dn(y,p),y.index=0,y.sibling=null,y}function i(y,p,m){return y.index=m,e?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,p,m,x){return p===null||p.tag!==6?(p=Ca(m,y.mode,x),p.return=y,p):(p=s(p,m),p.return=y,p)}function l(y,p,m,x){var S=m.type;return S===sr?c(y,p,m.props.children,x,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qt&&md(S)===p.type)?(x=s(p,m.props),x.ref=Kr(y,p,m),x.return=y,x):(x=Vi(m.type,m.key,m.props,null,y.mode,x),x.ref=Kr(y,p,m),x.return=y,x)}function u(y,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Na(m,y.mode,x),p.return=y,p):(p=s(p,m.children||[]),p.return=y,p)}function c(y,p,m,x,S){return p===null||p.tag!==7?(p=Mn(m,y.mode,x,S),p.return=y,p):(p=s(p,m),p.return=y,p)}function h(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ca(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ri:return m=Vi(p.type,p.key,p.props,null,y.mode,m),m.ref=Kr(y,null,p),m.return=y,m;case rr:return p=Na(p,y.mode,m),p.return=y,p;case Qt:var x=p._init;return h(y,x(p._payload),m)}if(es(p)||zr(p))return p=Mn(p,y.mode,m,null),p.return=y,p;pi(y,p)}return null}function f(y,p,m,x){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(y,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:return m.key===S?l(y,p,m,x):null;case rr:return m.key===S?u(y,p,m,x):null;case Qt:return S=m._init,f(y,p,S(m._payload),x)}if(es(m)||zr(m))return S!==null?null:c(y,p,m,x,null);pi(y,m)}return null}function g(y,p,m,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(m)||null,a(p,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ri:return y=y.get(x.key===null?m:x.key)||null,l(p,y,x,S);case rr:return y=y.get(x.key===null?m:x.key)||null,u(p,y,x,S);case Qt:var b=x._init;return g(y,p,m,b(x._payload),S)}if(es(x)||zr(x))return y=y.get(m)||null,c(p,y,x,S,null);pi(p,x)}return null}function w(y,p,m,x){for(var S=null,b=null,j=p,P=p=0,E=null;j!==null&&P<m.length;P++){j.index>P?(E=j,j=null):E=j.sibling;var R=f(y,j,m[P],x);if(R===null){j===null&&(j=E);break}e&&j&&R.alternate===null&&t(y,j),p=i(R,p,P),b===null?S=R:b.sibling=R,b=R,j=E}if(P===m.length)return n(y,j),ae&&jn(y,P),S;if(j===null){for(;P<m.length;P++)j=h(y,m[P],x),j!==null&&(p=i(j,p,P),b===null?S=j:b.sibling=j,b=j);return ae&&jn(y,P),S}for(j=r(y,j);P<m.length;P++)E=g(j,y,P,m[P],x),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?P:E.key),p=i(E,p,P),b===null?S=E:b.sibling=E,b=E);return e&&j.forEach(function(G){return t(y,G)}),ae&&jn(y,P),S}function v(y,p,m,x){var S=zr(m);if(typeof S!="function")throw Error(C(150));if(m=S.call(m),m==null)throw Error(C(151));for(var b=S=null,j=p,P=p=0,E=null,R=m.next();j!==null&&!R.done;P++,R=m.next()){j.index>P?(E=j,j=null):E=j.sibling;var G=f(y,j,R.value,x);if(G===null){j===null&&(j=E);break}e&&j&&G.alternate===null&&t(y,j),p=i(G,p,P),b===null?S=G:b.sibling=G,b=G,j=E}if(R.done)return n(y,j),ae&&jn(y,P),S;if(j===null){for(;!R.done;P++,R=m.next())R=h(y,R.value,x),R!==null&&(p=i(R,p,P),b===null?S=R:b.sibling=R,b=R);return ae&&jn(y,P),S}for(j=r(y,j);!R.done;P++,R=m.next())R=g(j,y,P,R.value,x),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?P:R.key),p=i(R,p,P),b===null?S=R:b.sibling=R,b=R);return e&&j.forEach(function(q){return t(y,q)}),ae&&jn(y,P),S}function _(y,p,m,x){if(typeof m=="object"&&m!==null&&m.type===sr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:e:{for(var S=m.key,b=p;b!==null;){if(b.key===S){if(S=m.type,S===sr){if(b.tag===7){n(y,b.sibling),p=s(b,m.props.children),p.return=y,y=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qt&&md(S)===b.type){n(y,b.sibling),p=s(b,m.props),p.ref=Kr(y,b,m),p.return=y,y=p;break e}n(y,b);break}else t(y,b);b=b.sibling}m.type===sr?(p=Mn(m.props.children,y.mode,x,m.key),p.return=y,y=p):(x=Vi(m.type,m.key,m.props,null,y.mode,x),x.ref=Kr(y,p,m),x.return=y,y=x)}return o(y);case rr:e:{for(b=m.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(y,p.sibling),p=s(p,m.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=Na(m,y.mode,x),p.return=y,y=p}return o(y);case Qt:return b=m._init,_(y,p,b(m._payload),x)}if(es(m))return w(y,p,m,x);if(zr(m))return v(y,p,m,x);pi(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,m),p.return=y,y=p):(n(y,p),p=Ca(m,y.mode,x),p.return=y,y=p),o(y)):n(y,p)}return _}var Cr=bp(!0),jp=bp(!1),no=wn(null),ro=null,hr=null,Lu=null;function Iu(){Lu=hr=ro=null}function Du(e){var t=no.current;ie(no),e._currentValue=t}function Tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){ro=e,Lu=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Lu!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(ro===null)throw Error(C(308));hr=e,ro.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var On=null;function Mu(e){On===null?On=[e]:On.push(e)}function Tp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ft(e,n)}return s=r.interleaved,s===null?(t.next=t,Mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ft(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}function gd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function so(e,t,n,r){var s=e.updateQueue;Gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(f=t,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=de({},h,f);break e;case 2:Gt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);zn|=o,e.lanes=o,e.memoizedState=h}}function yd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Qs={},Tt=wn(Qs),Rs=wn(Qs),Os=wn(Qs);function Ln(e){if(e===Qs)throw Error(C(174));return e}function Vu(e,t){switch(ne(Os,t),ne(Rs,e),ne(Tt,Qs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ol(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ol(t,e)}ie(Tt),ne(Tt,t)}function Nr(){ie(Tt),ie(Rs),ie(Os)}function Ep(e){Ln(Os.current);var t=Ln(Tt.current),n=ol(t,e.type);t!==n&&(ne(Rs,e),ne(Tt,n))}function Uu(e){Rs.current===e&&(ie(Tt),ie(Rs))}var le=wn(0);function io(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function Fu(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var Li=qt.ReactCurrentDispatcher,ba=qt.ReactCurrentBatchConfig,Fn=0,ce=null,we=null,Se=null,oo=!1,cs=!1,Ls=0,wv=0;function Pe(){throw Error(C(321))}function zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Bu(e,t,n,r,s,i){if(Fn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Li.current=e===null||e.memoizedState===null?kv:bv,e=n(r,s),cs){i=0;do{if(cs=!1,Ls=0,25<=i)throw Error(C(301));i+=1,Se=we=null,t.updateQueue=null,Li.current=jv,e=n(r,s)}while(cs)}if(Li.current=ao,t=we!==null&&we.next!==null,Fn=0,Se=we=ce=null,oo=!1,t)throw Error(C(300));return e}function qu(){var e=Ls!==0;return Ls=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ce.memoizedState=Se=e:Se=Se.next=e,Se}function dt(){if(we===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Se===null?ce.memoizedState:Se.next;if(t!==null)Se=t,we=e;else{if(e===null)throw Error(C(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?ce.memoizedState=Se=e:Se=Se.next=e}return Se}function Is(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=dt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Fn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ce.lanes|=c,zn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,xt(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,zn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=dt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Cp(){}function Np(e,t){var n=ce,r=dt(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Hu(Op.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Rp.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(C(349));Fn&30||Ap(n,t,s)}return s}function Ap(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rp(e,t,n,r){t.value=n,t.getSnapshot=r,Lp(t)&&Ip(e)}function Op(e,t,n){return n(function(){Lp(t)&&Ip(e)})}function Lp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Ip(e){var t=Ft(e,1);t!==null&&wt(t,e,1,-1)}function vd(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=Sv.bind(null,ce,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dp(){return dt().memoizedState}function Ii(e,t,n,r){var s=kt();ce.flags|=e,s.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function Lo(e,t,n,r){var s=dt();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&zu(r,o.deps)){s.memoizedState=Ds(t,n,i,r);return}}ce.flags|=e,s.memoizedState=Ds(1|t,n,i,r)}function wd(e,t){return Ii(8390656,8,e,t)}function Hu(e,t){return Lo(2048,8,e,t)}function Mp(e,t){return Lo(4,2,e,t)}function $p(e,t){return Lo(4,4,e,t)}function Vp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Up(e,t,n){return n=n!=null?n.concat([e]):null,Lo(4,4,Vp.bind(null,t,e),n)}function Wu(){}function Fp(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zp(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bp(e,t,n){return Fn&21?(xt(n,t)||(n=Qf(),ce.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function xv(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=ba.transition;ba.transition={};try{e(!1),t()}finally{X=n,ba.transition=r}}function qp(){return dt().memoizedState}function _v(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hp(e))Wp(t,n);else if(n=Tp(e,t,n,r),n!==null){var s=Ie();wt(n,e,r,s),Kp(n,t,r)}}function Sv(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hp(e))Wp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(s.next=s,Mu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Tp(e,t,s,r),n!==null&&(s=Ie(),wt(n,e,r,s),Kp(n,t,r))}}function Hp(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Wp(e,t){cs=oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}var ao={readContext:ct,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},kv={readContext:ct,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4194308,4,Vp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_v.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:vd,useDebugValue:Wu,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=vd(!1),t=e[0];return e=xv.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=kt();if(ae){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ke===null)throw Error(C(349));Fn&30||Ap(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,wd(Op.bind(null,r,i,e),[e]),r.flags|=2048,Ds(9,Rp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kt(),t=ke.identifierPrefix;if(ae){var n=Ot,r=Rt;n=(r&~(1<<32-vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ls++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bv={readContext:ct,useCallback:Fp,useContext:ct,useEffect:Hu,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:$p,useMemo:zp,useReducer:ja,useRef:Dp,useState:function(){return ja(Is)},useDebugValue:Wu,useDeferredValue:function(e){var t=dt();return Bp(t,we.memoizedState,e)},useTransition:function(){var e=ja(Is)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Cp,useSyncExternalStore:Np,useId:qp,unstable_isNewReconciler:!1},jv={readContext:ct,useCallback:Fp,useContext:ct,useEffect:Hu,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:$p,useMemo:zp,useReducer:Ta,useRef:Dp,useState:function(){return Ta(Is)},useDebugValue:Wu,useDeferredValue:function(e){var t=dt();return we===null?t.memoizedState=e:Bp(t,we.memoizedState,e)},useTransition:function(){var e=Ta(Is)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Cp,useSyncExternalStore:Np,useId:qp,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Io={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(wt(t,e,s,r),Oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(wt(t,e,s,r),Oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=cn(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(wt(t,e,r,n),Oi(t,e,r))}};function xd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(s,i):!0}function Qp(e,t,n){var r=!1,s=mn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=qe(t)?Vn:Ae.current,r=t.contextTypes,i=(r=r!=null)?Pr(e,s):mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function El(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$u(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=qe(t)?Vn:Ae.current,s.context=Pr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Io.enqueueReplaceState(s,s.state,null),so(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var n="",r=t;do n+=Zg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tv=typeof WeakMap=="function"?WeakMap:Map;function Gp(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,Vl=r),Cl(e,t)},n}function Jp(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cl(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Uv.bind(null,e,t,n),t.then(e,e))}function kd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Pv=qt.ReactCurrentOwner,ze=!1;function Le(e,t,n,r){t.child=e===null?jp(t,null,n,r):Cr(t,e.child,n,r)}function jd(e,t,n,r,s){n=n.render;var i=t.ref;return kr(t,s),r=Bu(e,t,n,r,i,s),n=qu(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ae&&n&&Au(t),t.flags|=1,Le(e,t,r,s),t.child)}function Td(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ec(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Xp(e,t,i,r,s)):(e=Vi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Xp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Es(i,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,zt(e,t,s)}return Nl(e,t,n,r,s)}function Yp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(pr,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(pr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(pr,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(pr,Qe),Qe|=r;return Le(e,t,s,n),t.child}function Zp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,s){var i=qe(n)?Vn:Ae.current;return i=Pr(t,i),kr(t,s),n=Bu(e,t,n,r,i,s),r=qu(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ae&&r&&Au(t),t.flags|=1,Le(e,t,n,s),t.child)}function Pd(e,t,n,r,s){if(qe(n)){var i=!0;Zi(t)}else i=!1;if(kr(t,s),t.stateNode===null)Di(e,t),Qp(t,n,r),El(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=qe(n)?Vn:Ae.current,u=Pr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_d(t,o,r,u),Gt=!1;var f=t.memoizedState;o.state=f,so(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Be.current||Gt?(typeof c=="function"&&(Pl(t,n,c,r),l=t.memoizedState),(a=Gt||xd(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=qe(n)?Vn:Ae.current,l=Pr(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&_d(t,o,r,l),Gt=!1,f=t.memoizedState,o.state=f,so(t,r,o,s);var w=t.memoizedState;a!==h||f!==w||Be.current||Gt?(typeof g=="function"&&(Pl(t,n,g,r),w=t.memoizedState),(u=Gt||xd(t,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,i,s)}function Al(e,t,n,r,s,i){Zp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hd(t,n,!1),zt(e,t,i);r=t.stateNode,Pv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cr(t,e.child,null,i),t.child=Cr(t,null,a,i)):Le(e,t,a,i),t.memoizedState=r.state,s&&hd(t,n,!0),t.child}function em(e){var t=e.stateNode;t.pendingContext?dd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dd(e,t.context,!1),Vu(e,t.containerInfo)}function Ed(e,t,n,r,s){return Er(),Ou(s),t.flags|=256,Le(e,t,n,r),t.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function tm(e,t,n){var r=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(le,s&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ol(n),t.memoizedState=Rl,e):Ku(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ev(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rl,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mi(e,t,n,r){return r!==null&&Ou(r),Cr(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ev(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Pa(Error(C(422))),mi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cr(t,e.child,null,o),t.child.memoizedState=Ol(o),t.memoizedState=Rl,i);if(!(t.mode&1))return mi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=Pa(i,r,void 0),mi(e,t,o,r)}if(a=(o&e.childLanes)!==0,ze||a){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ft(e,s),wt(r,e,s,-1))}return Zu(),r=Pa(Error(C(421))),mi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Fv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ge=an(s.nextSibling),Je=t,ae=!0,yt=null,e!==null&&(it[ot++]=Rt,it[ot++]=Ot,it[ot++]=Un,Rt=e.id,Ot=e.overflow,Un=t),t=Ku(t,r.children),t.flags|=4096,t)}function Cd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tl(e.return,t,n)}function Ea(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Le(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,n,t);else if(e.tag===19)Cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&io(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ea(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&io(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ea(t,!0,n,null,i);break;case"together":Ea(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cv(e,t,n){switch(t.tag){case 3:em(t),Er();break;case 5:Ep(t);break;case 1:qe(t.type)&&Zi(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne(no,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?tm(e,t,n):(ne(le,le.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ne(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Yp(e,t,n)}return zt(e,t,n)}var rm,Ll,sm,im;rm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ll=function(){};sm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ln(Tt.current);var i=null;switch(n){case"input":s=nl(e,s),r=nl(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=il(e,s),r=il(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xi)}al(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&se("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};im=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nv(e,t,n){var r=t.pendingProps;switch(Ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return qe(t.type)&&Yi(),Ee(t),null;case 3:return r=t.stateNode,Nr(),ie(Be),ie(Ae),Fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(zl(yt),yt=null))),Ll(e,t),Ee(t),null;case 5:Uu(t);var s=Ln(Os.current);if(n=t.type,e!==null&&t.stateNode!=null)sm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ee(t),null}if(e=Ln(Tt.current),fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[bt]=t,r[As]=i,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(s=0;s<ns.length;s++)se(ns[s],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":$c(r,i),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},se("invalid",r);break;case"textarea":Uc(r,i),se("invalid",r)}al(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hi(r.textContent,a,e),s=["children",""+a]):_s.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&se("scroll",r)}switch(n){case"input":si(r),Vc(r,i,!0);break;case"textarea":si(r),Fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Of(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[bt]=t,e[As]=r,rm(e,t,!1,!1),t.stateNode=e;e:{switch(o=ll(n,r),n){case"dialog":se("cancel",e),se("close",e),s=r;break;case"iframe":case"object":case"embed":se("load",e),s=r;break;case"video":case"audio":for(s=0;s<ns.length;s++)se(ns[s],e);s=r;break;case"source":se("error",e),s=r;break;case"img":case"image":case"link":se("error",e),se("load",e),s=r;break;case"details":se("toggle",e),s=r;break;case"input":$c(e,r),s=nl(e,r),se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),se("invalid",e);break;case"textarea":Uc(e,r),s=il(e,r),se("invalid",e);break;default:s=r}al(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Df(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ss(e,l):typeof l=="number"&&Ss(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_s.hasOwnProperty(i)?l!=null&&i==="onScroll"&&se("scroll",e):l!=null&&yu(e,i,l,o))}switch(n){case"input":si(e),Vc(e,r,!1);break;case"textarea":si(e),Fc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?wr(e,!!r.multiple,i,!1):r.defaultValue!=null&&wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)im(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Ln(Os.current),Ln(Tt.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[bt]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:hi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=t,t.stateNode=r}return Ee(t),null;case 13:if(ie(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ge!==null&&t.mode&1&&!(t.flags&128))kp(),Er(),t.flags|=98560,i=!1;else if(i=fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[bt]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else yt!==null&&(zl(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?xe===0&&(xe=3):Zu())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Nr(),Ll(e,t),e===null&&Cs(t.stateNode.containerInfo),Ee(t),null;case 10:return Du(t.type._context),Ee(t),null;case 17:return qe(t.type)&&Yi(),Ee(t),null;case 19:if(ie(le),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Qr(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=io(e),o!==null){for(t.flags|=128,Qr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>Rr&&(t.flags|=128,r=!0,Qr(i,!1),t.lanes=4194304)}else{if(!r)if(e=io(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Ee(t),null}else 2*me()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Qr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=le.current,ne(le,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Yu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Av(e,t){switch(Ru(t),t.tag){case 1:return qe(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nr(),ie(Be),ie(Ae),Fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uu(t),null;case 13:if(ie(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(le),null;case 4:return Nr(),null;case 10:return Du(t.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var gi=!1,Ne=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,O=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Nd=!1;function Ov(e,t){if(vl=Qi,e=cp(),Nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wl={focusedElem:e,selectionRange:n},Qi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:pt(t.type,v),_);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){pe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return w=Nd,Nd=!1,w}function ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Il(t,n,i)}s=s.next}while(s!==r)}}function Do(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function om(e){var t=e.alternate;t!==null&&(e.alternate=null,om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[As],delete t[Sl],delete t[mv],delete t[gv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function am(e){return e.tag===5||e.tag===3||e.tag===4}function Ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xi));else if(r!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}function $l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}var be=null,mt=!1;function Ht(e,t,n){for(n=n.child;n!==null;)lm(e,t,n),n=n.sibling}function lm(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Eo,n)}catch{}switch(n.tag){case 5:Ne||fr(n,t);case 6:var r=be,s=mt;be=null,Ht(e,t,n),be=r,mt=s,be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(mt?(e=be,n=n.stateNode,e.nodeType===8?_a(e.parentNode,n):e.nodeType===1&&_a(e,n),Ts(e)):_a(be,n.stateNode));break;case 4:r=be,s=mt,be=n.stateNode.containerInfo,mt=!0,Ht(e,t,n),be=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Il(n,t,o),s=s.next}while(s!==r)}Ht(e,t,n);break;case 1:if(!Ne&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pe(n,t,a)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Ht(e,t,n),Ne=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function Rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rv),t.forEach(function(r){var s=zv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,mt=!1;break e;case 3:be=a.stateNode.containerInfo,mt=!0;break e;case 4:be=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(be===null)throw Error(C(160));lm(i,o,s),be=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){pe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)um(t,e),t=t.sibling}function um(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),St(e),r&4){try{ds(3,e,e.return),Do(3,e)}catch(v){pe(e,e.return,v)}try{ds(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:ht(t,e),St(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(ht(t,e),St(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var s=e.stateNode;try{Ss(s,"")}catch(v){pe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Af(s,i),ll(a,o);var u=ll(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Df(s,h):c==="dangerouslySetInnerHTML"?Lf(s,h):c==="children"?Ss(s,h):yu(s,c,h,u)}switch(a){case"input":rl(s,i);break;case"textarea":Rf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?wr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?wr(s,!!i.multiple,i.defaultValue,!0):wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[As]=i}catch(v){pe(e,e.return,v)}}break;case 6:if(ht(t,e),St(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){pe(e,e.return,v)}}break;case 3:if(ht(t,e),St(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:ht(t,e),St(e);break;case 13:ht(t,e),St(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ju=me())),r&4&&Rd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||c,ht(t,e),Ne=u):ht(t,e),St(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,g=f.child,f.tag){case 0:case 11:case 14:case 15:ds(4,f,f.return);break;case 1:fr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){pe(r,n,v)}}break;case 5:fr(f,f.return);break;case 22:if(f.memoizedState!==null){Ld(h);continue}}g!==null?(g.return=f,O=g):Ld(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=If("display",o))}catch(v){pe(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){pe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),St(e),r&4&&Rd(e);break;case 21:break;default:ht(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(am(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ss(s,""),r.flags&=-33);var i=Ad(e);$l(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ad(e);Ml(e,a,o);break;default:throw Error(C(161))}}catch(l){pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lv(e,t,n){O=e,cm(e)}function cm(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ne;a=gi;var u=Ne;if(gi=o,(Ne=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?Id(s):l!==null?(l.return=o,O=l):Id(s);for(;i!==null;)O=i,cm(i),i=i.sibling;O=s,gi=a,Ne=u}Od(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Od(e)}}function Od(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||Do(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ts(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ne||t.flags&512&&Dl(t)}catch(f){pe(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Ld(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Id(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Do(4,t)}catch(l){pe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){pe(t,s,l)}}var i=t.return;try{Dl(t)}catch(l){pe(t,i,l)}break;case 5:var o=t.return;try{Dl(t)}catch(l){pe(t,o,l)}}}catch(l){pe(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var Iv=Math.ceil,lo=qt.ReactCurrentDispatcher,Qu=qt.ReactCurrentOwner,lt=qt.ReactCurrentBatchConfig,Q=0,ke=null,ve=null,je=0,Qe=0,pr=wn(0),xe=0,Ms=null,zn=0,Mo=0,Gu=0,hs=null,Ue=null,Ju=0,Rr=1/0,Ct=null,uo=!1,Vl=null,un=null,yi=!1,nn=null,co=0,fs=0,Ul=null,Mi=-1,$i=0;function Ie(){return Q&6?me():Mi!==-1?Mi:Mi=me()}function cn(e){return e.mode&1?Q&2&&je!==0?je&-je:vv.transition!==null?($i===0&&($i=Qf()),$i):(e=X,e!==0||(e=window.event,e=e===void 0?16:tp(e.type)),e):1}function wt(e,t,n,r){if(50<fs)throw fs=0,Ul=null,Error(C(185));Hs(e,n,r),(!(Q&2)||e!==ke)&&(e===ke&&(!(Q&2)&&(Mo|=n),xe===4&&Zt(e,je)),He(e,r),n===1&&Q===0&&!(t.mode&1)&&(Rr=me()+500,Oo&&xn()))}function He(e,t){var n=e.callbackNode;vy(e,t);var r=Ki(e,e===ke?je:0);if(r===0)n!==null&&qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qc(n),t===1)e.tag===0?yv(Dd.bind(null,e)):xp(Dd.bind(null,e)),fv(function(){!(Q&6)&&xn()}),n=null;else{switch(Gf(r)){case 1:n=Su;break;case 4:n=Wf;break;case 16:n=Wi;break;case 536870912:n=Kf;break;default:n=Wi}n=vm(n,dm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dm(e,t){if(Mi=-1,$i=0,Q&6)throw Error(C(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var r=Ki(e,e===ke?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ho(e,r);else{t=r;var s=Q;Q|=2;var i=fm();(ke!==e||je!==t)&&(Ct=null,Rr=me()+500,Dn(e,t));do try{$v();break}catch(a){hm(e,a)}while(!0);Iu(),lo.current=i,Q=s,ve!==null?t=0:(ke=null,je=0,t=xe)}if(t!==0){if(t===2&&(s=fl(e),s!==0&&(r=s,t=Fl(e,s))),t===1)throw n=Ms,Dn(e,0),Zt(e,r),He(e,me()),n;if(t===6)Zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Dv(s)&&(t=ho(e,r),t===2&&(i=fl(e),i!==0&&(r=i,t=Fl(e,i))),t===1))throw n=Ms,Dn(e,0),Zt(e,r),He(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Tn(e,Ue,Ct);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Ju+500-me(),10<t)){if(Ki(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_l(Tn.bind(null,e,Ue,Ct),t);break}Tn(e,Ue,Ct);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-vt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iv(r/1960))-r,10<r){e.timeoutHandle=_l(Tn.bind(null,e,Ue,Ct),r);break}Tn(e,Ue,Ct);break;case 5:Tn(e,Ue,Ct);break;default:throw Error(C(329))}}}return He(e,me()),e.callbackNode===n?dm.bind(null,e):null}function Fl(e,t){var n=hs;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=ho(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&zl(t)),e}function zl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Dv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Gu,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),r=1<<n;e[n]=-1,t&=~r}}function Dd(e){if(Q&6)throw Error(C(327));br();var t=Ki(e,0);if(!(t&1))return He(e,me()),null;var n=ho(e,t);if(e.tag!==0&&n===2){var r=fl(e);r!==0&&(t=r,n=Fl(e,r))}if(n===1)throw n=Ms,Dn(e,0),Zt(e,t),He(e,me()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,Ue,Ct),He(e,me()),null}function Xu(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Rr=me()+500,Oo&&xn())}}function Bn(e){nn!==null&&nn.tag===0&&!(Q&6)&&br();var t=Q;Q|=1;var n=lt.transition,r=X;try{if(lt.transition=null,X=1,e)return e()}finally{X=r,lt.transition=n,Q=t,!(Q&6)&&xn()}}function Yu(){Qe=pr.current,ie(pr)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hv(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yi();break;case 3:Nr(),ie(Be),ie(Ae),Fu();break;case 5:Uu(r);break;case 4:Nr();break;case 13:ie(le);break;case 19:ie(le);break;case 10:Du(r.type._context);break;case 22:case 23:Yu()}n=n.return}if(ke=e,ve=e=dn(e.current,null),je=Qe=t,xe=0,Ms=null,Gu=Mo=zn=0,Ue=hs=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return e}function hm(e,t){do{var n=ve;try{if(Iu(),Li.current=ao,oo){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oo=!1}if(Fn=0,Se=we=ce=null,cs=!1,Ls=0,Qu.current=null,n===null||n.return===null){xe=1,Ms=t,ve=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=kd(o);if(g!==null){g.flags&=-257,bd(g,o,a,i,t),g.mode&1&&Sd(i,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){Sd(i,u,t),Zu();break e}l=Error(C(426))}}else if(ae&&a.mode&1){var _=kd(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),bd(_,o,a,i,t),Ou(Ar(l,a));break e}}i=l=Ar(l,a),xe!==4&&(xe=2),hs===null?hs=[i]:hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Gp(i,l,t);gd(i,y);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(un===null||!un.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Jp(i,a,t);gd(i,x);break e}}i=i.return}while(i!==null)}mm(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function fm(){var e=lo.current;return lo.current=ao,e===null?ao:e}function Zu(){(xe===0||xe===3||xe===2)&&(xe=4),ke===null||!(zn&268435455)&&!(Mo&268435455)||Zt(ke,je)}function ho(e,t){var n=Q;Q|=2;var r=fm();(ke!==e||je!==t)&&(Ct=null,Dn(e,t));do try{Mv();break}catch(s){hm(e,s)}while(!0);if(Iu(),Q=n,lo.current=r,ve!==null)throw Error(C(261));return ke=null,je=0,xe}function Mv(){for(;ve!==null;)pm(ve)}function $v(){for(;ve!==null&&!uy();)pm(ve)}function pm(e){var t=ym(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?mm(e):ve=t,Qu.current=null}function mm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Av(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ve=null;return}}else if(n=Nv(n,t,Qe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);xe===0&&(xe=5)}function Tn(e,t,n){var r=X,s=lt.transition;try{lt.transition=null,X=1,Vv(e,t,n,r)}finally{lt.transition=s,X=r}return null}function Vv(e,t,n,r){do br();while(nn!==null);if(Q&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(wy(e,i),e===ke&&(ve=ke=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,vm(Wi,function(){return br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=X;X=1;var a=Q;Q|=4,Qu.current=null,Ov(e,n),um(n,e),iv(wl),Qi=!!vl,wl=vl=null,e.current=n,Lv(n),cy(),Q=a,X=o,lt.transition=i}else e.current=n;if(yi&&(yi=!1,nn=e,co=s),i=e.pendingLanes,i===0&&(un=null),fy(n.stateNode),He(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uo)throw uo=!1,e=Vl,Vl=null,e;return co&1&&e.tag!==0&&br(),i=e.pendingLanes,i&1?e===Ul?fs++:(fs=0,Ul=e):fs=0,xn(),null}function br(){if(nn!==null){var e=Gf(co),t=lt.transition,n=X;try{if(lt.transition=null,X=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,co=0,Q&6)throw Error(C(331));var s=Q;for(Q|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ds(8,c,i)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,g=c.return;if(om(c),c===u){O=null;break}if(f!==null){f.return=g,O=f;break}O=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ds(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,O=y;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){o=O;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,O=m;else e:for(o=p;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Do(9,a)}}catch(S){pe(a,a.return,S)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(Q=s,xn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Eo,e)}catch{}r=!0}return r}finally{X=n,lt.transition=t}}return!1}function Md(e,t,n){t=Ar(n,t),t=Gp(e,t,1),e=ln(e,t,1),t=Ie(),e!==null&&(Hs(e,1,t),He(e,t))}function pe(e,t,n){if(e.tag===3)Md(e,e,n);else for(;t!==null;){if(t.tag===3){Md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Ar(n,e),e=Jp(t,e,1),t=ln(t,e,1),e=Ie(),t!==null&&(Hs(t,1,e),He(t,e));break}}t=t.return}}function Uv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(je&n)===n&&(xe===4||xe===3&&(je&130023424)===je&&500>me()-Ju?Dn(e,0):Gu|=n),He(e,t)}function gm(e,t){t===0&&(e.mode&1?(t=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):t=1);var n=Ie();e=Ft(e,t),e!==null&&(Hs(e,t,n),He(e,n))}function Fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gm(e,n)}function zv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),gm(e,n)}var ym;ym=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Cv(e,t,n);ze=!!(e.flags&131072)}else ze=!1,ae&&t.flags&1048576&&_p(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Di(e,t),e=t.pendingProps;var s=Pr(t,Ae.current);kr(t,n),s=Bu(null,t,r,e,s,n);var i=qu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(i=!0,Zi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$u(t),s.updater=Io,t.stateNode=s,s._reactInternals=t,El(t,r,e,n),t=Al(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&Au(t),Le(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=qv(r),e=pt(r,e),s){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=Pd(null,t,r,e,n);break e;case 11:t=jd(null,t,r,e,n);break e;case 14:t=Td(null,t,r,pt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Nl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Pd(e,t,r,s,n);case 3:e:{if(em(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Pp(e,t),so(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ar(Error(C(423)),t),t=Ed(e,t,r,n,s);break e}else if(r!==s){s=Ar(Error(C(424)),t),t=Ed(e,t,r,n,s);break e}else for(Ge=an(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,yt=null,n=jp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===s){t=zt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Ep(t),e===null&&jl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xl(r,s)?o=null:i!==null&&xl(r,i)&&(t.flags|=32),Zp(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&jl(t),null;case 13:return tm(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cr(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),jd(e,t,r,s,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ne(no,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!Be.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,kr(t,n),s=ct(s),r=r(s),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,s=pt(r,t.pendingProps),s=pt(r.type,s),Td(e,t,r,s,n);case 15:return Xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Di(e,t),t.tag=1,qe(r)?(e=!0,Zi(t)):e=!1,kr(t,n),Qp(t,r,s),El(t,r,s,n),Al(null,t,r,!0,e,n);case 19:return nm(e,t,n);case 22:return Yp(e,t,n)}throw Error(C(156,t.tag))};function vm(e,t){return Hf(e,t)}function Bv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new Bv(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qv(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===xu)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ec(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sr:return Mn(n.children,s,i,t);case vu:o=8,s|=8;break;case Ya:return e=at(12,n,t,s|2),e.elementType=Ya,e.lanes=i,e;case Za:return e=at(13,n,t,s),e.elementType=Za,e.lanes=i,e;case el:return e=at(19,n,t,s),e.elementType=el,e.lanes=i,e;case Ef:return $o(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tf:o=10;break e;case Pf:o=9;break e;case wu:o=11;break e;case xu:o=14;break e;case Qt:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=at(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=at(22,e,r,t),e.elementType=Ef,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,s,i,o,a,l){return e=new Hv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(i),e}function Wv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wm(e){if(!e)return mn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(qe(n))return wp(e,n,t)}return t}function xm(e,t,n,r,s,i,o,a,l){return e=tc(n,r,!0,e,s,i,o,a,l),e.context=wm(null),n=e.current,r=Ie(),s=cn(n),i=It(r,s),i.callback=t??null,ln(n,i,s),e.current.lanes=s,Hs(e,s,r),He(e,r),e}function Vo(e,t,n,r){var s=t.current,i=Ie(),o=cn(s);return n=wm(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,o),e!==null&&(wt(e,s,o,i),Oi(e,s,o)),o}function fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){$d(e,t),(e=e.alternate)&&$d(e,t)}function Kv(){return null}var _m=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}Uo.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Vo(e,t,null,null)};Uo.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){Vo(null,e,null,null)}),t[Ut]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&ep(e)}};function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vd(){}function Qv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=fo(o);i.call(u)}}var o=xm(t,r,e,0,null,!1,!1,"",Vd);return e._reactRootContainer=o,e[Ut]=o.current,Cs(e.nodeType===8?e.parentNode:e),Bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=fo(l);a.call(u)}}var l=tc(e,0,!1,null,null,!1,!1,"",Vd);return e._reactRootContainer=l,e[Ut]=l.current,Cs(e.nodeType===8?e.parentNode:e),Bn(function(){Vo(t,l,n,r)}),l}function zo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fo(o);a.call(l)}}Vo(t,o,e,s)}else o=Qv(n,t,e,s,r);return fo(o)}Jf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ts(t.pendingLanes);n!==0&&(ku(t,n|1),He(t,me()),!(Q&6)&&(Rr=me()+500,xn()))}break;case 13:Bn(function(){var r=Ft(e,1);if(r!==null){var s=Ie();wt(r,e,1,s)}}),nc(e,1)}};bu=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ie();wt(t,e,134217728,n)}nc(e,134217728)}};Xf=function(e){if(e.tag===13){var t=cn(e),n=Ft(e,t);if(n!==null){var r=Ie();wt(n,e,t,r)}nc(e,t)}};Yf=function(){return X};Zf=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};cl=function(e,t,n){switch(t){case"input":if(rl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ro(r);if(!s)throw Error(C(90));Nf(r),rl(r,s)}}}break;case"textarea":Rf(e,n);break;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}};Vf=Xu;Uf=Bn;var Gv={usingClientEntryPoint:!1,Events:[Ks,lr,Ro,Mf,$f,Xu]},Gr={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jv={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bf(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||Kv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Eo=vi.inject(Jv),jt=vi}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gv;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sc(t))throw Error(C(200));return Wv(e,t,null,n)};Ze.createRoot=function(e,t){if(!sc(e))throw Error(C(299));var n=!1,r="",s=_m;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,s),e[Ut]=t.current,Cs(e.nodeType===8?e.parentNode:e),new rc(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Bf(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Bn(e)};Ze.hydrate=function(e,t,n){if(!Fo(t))throw Error(C(200));return zo(null,e,t,!0,n)};Ze.hydrateRoot=function(e,t,n){if(!sc(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_m;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=xm(t,null,e,1,n??null,s,!1,i,o),e[Ut]=t.current,Cs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Uo(t)};Ze.render=function(e,t,n){if(!Fo(t))throw Error(C(200));return zo(null,e,t,!1,n)};Ze.unmountComponentAtNode=function(e){if(!Fo(e))throw Error(C(40));return e._reactRootContainer?(Bn(function(){zo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};Ze.unstable_batchedUpdates=Xu;Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fo(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return zo(e,t,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function Sm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sm)}catch(e){console.error(e)}}Sm(),Sf.exports=Ze;var Xv=Sf.exports,km,Ud=Xv;km=Ud.createRoot,Ud.hydrateRoot;const Yv="modulepreload",Zv=function(e){return"/"+e},Fd={},We=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Zv(l),l in Fd)return;Fd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Yv,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},bm=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Bo=k.createContext({}),qo=k.createContext(null),Ho=typeof document<"u",ic=Ho?k.useLayoutEffect:k.useEffect,jm=k.createContext({strict:!1}),oc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ew="framerAppearId",Tm="data-"+oc(ew);function tw(e,t,n,r){const{visualElement:s}=k.useContext(Bo),i=k.useContext(jm),o=k.useContext(qo),a=k.useContext(bm).reducedMotion,l=k.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;k.useInsertionEffect(()=>{u&&u.update(n,o)});const c=k.useRef(!!(n[Tm]&&!window.HandoffComplete));return ic(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function mr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nw(e,t,n){return k.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):mr(n)&&(n.current=r))},[t])}function $s(e){return typeof e=="string"||Array.isArray(e)}function Wo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ac=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lc=["initial",...ac];function Ko(e){return Wo(e.animate)||lc.some(t=>$s(e[t]))}function Pm(e){return!!(Ko(e)||e.variants)}function rw(e,t){if(Ko(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$s(n)?n:void 0,animate:$s(r)?r:void 0}}return e.inherit!==!1?t:{}}function sw(e){const{initial:t,animate:n}=rw(e,k.useContext(Bo));return k.useMemo(()=>({initial:t,animate:n}),[zd(t),zd(n)])}function zd(e){return Array.isArray(e)?e.join(" "):e}const Bd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const e in Bd)Vs[e]={isEnabled:t=>Bd[e].some(n=>!!t[n])};function iw(e){for(const t in e)Vs[t]={...Vs[t],...e[t]}}const uc=k.createContext({}),Em=k.createContext({}),ow=Symbol.for("motionComponentSymbol");function aw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&iw(e);function i(a,l){let u;const c={...k.useContext(bm),...a,layoutId:lw(a)},{isStatic:h}=c,f=sw(a),g=r(a,h);if(!h&&Ho){f.visualElement=tw(s,g,c,t);const w=k.useContext(Em),v=k.useContext(jm).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,v,e,w))}return k.createElement(Bo.Provider,{value:f},u&&f.visualElement?k.createElement(u,{visualElement:f.visualElement,...c}):null,n(s,a,nw(g,f.visualElement,l),g,h,f.visualElement))}const o=k.forwardRef(i);return o[ow]=s,o}function lw({layoutId:e}){const t=k.useContext(uc).id;return t&&e!==void 0?t+"-"+e:e}function uw(e){function t(r,s={}){return aw(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const cw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cc(e){return typeof e!="string"||e.includes("-")?!1:!!(cw.indexOf(e)>-1||/[A-Z]/.test(e))}const po={};function dw(e){Object.assign(po,e)}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kn=new Set(Gs);function Cm(e,{layout:t,layoutId:n}){return Kn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!po[e]||e==="opacity")}const Ke=e=>!!(e&&e.getVelocity),hw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fw=Gs.length;function pw(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<fw;o++){const a=Gs[o];if(e[a]!==void 0){const l=hw[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Nm=e=>t=>typeof t=="string"&&t.startsWith(e),Am=Nm("--"),Bl=Nm("var(--"),mw=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,gw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gn=(e,t,n)=>Math.min(Math.max(n,e),t),Qn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ps={...Qn,transform:e=>gn(0,1,e)},wi={...Qn,default:1},ms=e=>Math.round(e*1e5)/1e5,Qo=/(-)?([\d]*\.?[\d])+/g,Rm=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Js(e){return typeof e=="string"}const Xs=e=>({test:t=>Js(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wt=Xs("deg"),Pt=Xs("%"),D=Xs("px"),vw=Xs("vh"),ww=Xs("vw"),qd={...Pt,parse:e=>Pt.parse(e)/100,transform:e=>Pt.transform(e*100)},Hd={...Qn,transform:Math.round},Om={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:Wt,rotateX:Wt,rotateY:Wt,rotateZ:Wt,scale:wi,scaleX:wi,scaleY:wi,scaleZ:wi,skew:Wt,skewX:Wt,skewY:Wt,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:ps,originX:qd,originY:qd,originZ:D,zIndex:Hd,fillOpacity:ps,strokeOpacity:ps,numOctaves:Hd};function dc(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const f=t[h];if(Am(h)){i[h]=f;continue}const g=Om[h],w=gw(f,g);if(Kn.has(h)){if(l=!0,o[h]=w,!c)continue;f!==(g.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=w):s[h]=w}if(t.transform||(l||r?s.transform=pw(e.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:g=0}=a;s.transformOrigin=`${h} ${f} ${g}`}}const hc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lm(e,t,n){for(const r in t)!Ke(t[r])&&!Cm(r,n)&&(e[r]=t[r])}function xw({transformTemplate:e},t,n){return k.useMemo(()=>{const r=hc();return dc(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function _w(e,t,n){const r=e.style||{},s={};return Lm(s,r,e),Object.assign(s,xw(e,t,n)),e.transformValues?e.transformValues(s):s}function Sw(e,t,n){const r={},s=_w(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const kw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kw.has(e)}let Im=e=>!mo(e);function bw(e){e&&(Im=t=>t.startsWith("on")?!mo(t):e(t))}try{bw(require("@emotion/is-prop-valid").default)}catch{}function jw(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Im(s)||n===!0&&mo(s)||!t&&!mo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Wd(e,t,n){return typeof e=="string"?e:D.transform(t+n*e)}function Tw(e,t,n){const r=Wd(t,e.x,e.width),s=Wd(n,e.y,e.height);return`${r} ${s}`}const Pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ew={offset:"strokeDashoffset",array:"strokeDasharray"};function Cw(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Pw:Ew;e[i.offset]=D.transform(-r);const o=D.transform(t),a=D.transform(n);e[i.array]=`${o} ${a}`}function fc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(dc(e,u,c,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:w,dimensions:v}=e;g.transform&&(v&&(w.transform=g.transform),delete g.transform),v&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=Tw(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&Cw(g,o,a,l,!1)}const Dm=()=>({...hc(),attrs:{}}),pc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Nw(e,t,n,r){const s=k.useMemo(()=>{const i=Dm();return fc(i,t,{enableHardwareAcceleration:!1},pc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Lm(i,e.style,e),s.style={...i,...s.style}}return s}function Aw(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(cc(n)?Nw:Sw)(r,i,o,n),c={...jw(r,typeof n=="string",e),...l,ref:s},{children:h}=r,f=k.useMemo(()=>Ke(h)?h.get():h,[h]);return k.createElement(n,{...c,children:f})}}function Mm(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const $m=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vm(e,t,n,r){Mm(e,t,void 0,r);for(const s in t.attrs)e.setAttribute($m.has(s)?s:oc(s),t.attrs[s])}function mc(e,t){const{style:n}=e,r={};for(const s in n)(Ke(n[s])||t.style&&Ke(t.style[s])||Cm(s,e))&&(r[s]=n[s]);return r}function Um(e,t){const n=mc(e,t);for(const r in e)if(Ke(e[r])||Ke(t[r])){const s=Gs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function gc(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function Fm(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const go=e=>Array.isArray(e),Rw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ow=e=>go(e)?e[e.length-1]||0:e;function Ui(e){const t=Ke(e)?e.get():e;return Rw(t)?t.toValue():t}function Lw({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:Iw(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const zm=e=>(t,n)=>{const r=k.useContext(Bo),s=k.useContext(qo),i=()=>Lw(e,t,r,s);return n?i():Fm(i)};function Iw(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Ui(i[f]);let{initial:o,animate:a}=e;const l=Ko(e),u=Pm(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Wo(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const w=gc(e,g);if(!w)return;const{transitionEnd:v,transition:_,...y}=w;for(const p in y){let m=y[p];if(Array.isArray(m)){const x=c?m.length-1:0;m=m[x]}m!==null&&(s[p]=m)}for(const p in v)s[p]=v[p]}),s}const ge=e=>e;class Kd{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Dw(e){let t=new Kd,n=new Kd,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&s,f=h?t:n;return u&&o.add(l),f.add(l)&&h&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(a.schedule(c),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const xi=["prepare","read","update","preRender","render","postRender"],Mw=40;function $w(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=xi.reduce((h,f)=>(h[f]=Dw(()=>n=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,Mw),1),s.timestamp=h,s.isProcessing=!0,xi.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:xi.reduce((h,f)=>{const g=i[f];return h[f]=(w,v=!1,_=!1)=>(n||l(),g.schedule(w,v,_)),h},{}),cancel:h=>xi.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:re,cancel:Bt,state:Ce,steps:Aa}=$w(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),Vw={useVisualState:zm({scrapeMotionValuesFromProps:Um,createRenderState:Dm,onMount:(e,t,{renderState:n,latestValues:r})=>{re.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{fc(n,r,{enableHardwareAcceleration:!1},pc(t.tagName),e.transformTemplate),Vm(t,n)})}})},Uw={useVisualState:zm({scrapeMotionValuesFromProps:mc,createRenderState:hc})};function Fw(e,{forwardMotionProps:t=!1},n,r){return{...cc(e)?Vw:Uw,preloadedFeatures:n,useRender:Aw(t),createVisualElement:r,Component:e}}function Lt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Bm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Go(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const zw=e=>t=>Bm(t)&&e(t,Go(t));function Dt(e,t,n,r){return Lt(e,t,zw(n),r)}const Bw=(e,t)=>n=>t(e(n)),hn=(...e)=>e.reduce(Bw);function qm(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Qd=qm("dragHorizontal"),Gd=qm("dragVertical");function Hm(e){let t=!1;if(e==="y")t=Gd();else if(e==="x")t=Qd();else{const n=Qd(),r=Gd();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Wm(){const e=Hm(!0);return e?(e(),!1):!0}class _n{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jd(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Wm())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&re.update(()=>a[r](i,o))};return Dt(e.current,n,s,{passive:!e.getProps()[r]})}class qw extends _n{mount(){this.unmount=hn(Jd(this.node,!0),Jd(this.node,!1))}unmount(){}}class Hw extends _n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hn(Lt(this.node.current,"focus",()=>this.onFocus()),Lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Km=(e,t)=>t?e===t?!0:Km(e,t.parentElement):!1;function Ra(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Go(n))}class Ww extends _n{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps();re.update(()=>{!h&&!Km(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Dt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=hn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ra("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&re.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Lt(this.node.current,"keyup",o),Ra("down",(a,l)=>{this.startPress(a,l)})},n=Lt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ra("cancel",(i,o)=>this.cancelPress(i,o))},s=Lt(this.node.current,"blur",r);this.removeAccessibleListeners=hn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&re.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Wm()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&re.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Dt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Lt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ql=new WeakMap,Oa=new WeakMap,Kw=e=>{const t=ql.get(e.target);t&&t(e)},Qw=e=>{e.forEach(Kw)};function Gw({root:e,...t}){const n=e||document;Oa.has(n)||Oa.set(n,{});const r=Oa.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Qw,{root:e,...t})),r[s]}function Jw(e,t,n){const r=Gw(t);return ql.set(e,n),r.observe(e),()=>{ql.delete(e),r.unobserve(e)}}const Xw={some:0,all:1};class Yw extends _n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Xw[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return Jw(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Zw(t,n))&&this.startObserver()}unmount(){}}function Zw({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ex={inView:{Feature:Yw},tap:{Feature:Ww},focus:{Feature:Hw},hover:{Feature:qw}};function Qm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function tx(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function nx(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Jo(e,t,n){const r=e.getProps();return gc(r,t,n!==void 0?n:r.custom,tx(e),nx(e))}let yo=ge;const $n=e=>e*1e3,Mt=e=>e/1e3,rx={current:!1},Gm=e=>Array.isArray(e)&&typeof e[0]=="number";function Jm(e){return!!(!e||typeof e=="string"&&Xm[e]||Gm(e)||Array.isArray(e)&&e.every(Jm))}const rs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rs([0,.65,.55,1]),circOut:rs([.55,0,1,.45]),backIn:rs([.31,.01,.66,-.59]),backOut:rs([.33,1.53,.69,.99])};function Ym(e){if(e)return Gm(e)?rs(e):Array.isArray(e)?e.map(Ym):Xm[e]}function sx(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Ym(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ix(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Zm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ox=1e-7,ax=12;function lx(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Zm(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>ox&&++a<ax);return o}function Ys(e,t,n,r){if(e===t&&n===r)return ge;const s=i=>lx(i,0,1,e,n);return i=>i===0||i===1?i:Zm(s(i),t,r)}const ux=Ys(.42,0,1,1),cx=Ys(0,0,.58,1),e0=Ys(.42,0,.58,1),dx=e=>Array.isArray(e)&&typeof e[0]!="number",t0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,n0=e=>t=>1-e(1-t),yc=e=>1-Math.sin(Math.acos(e)),r0=n0(yc),hx=t0(yc),s0=Ys(.33,1.53,.69,.99),vc=n0(s0),fx=t0(vc),px=e=>(e*=2)<1?.5*vc(e):.5*(2-Math.pow(2,-10*(e-1))),Xd={linear:ge,easeIn:ux,easeInOut:e0,easeOut:cx,circIn:yc,circInOut:hx,circOut:r0,backIn:vc,backInOut:fx,backOut:s0,anticipate:px},Yd=e=>{if(Array.isArray(e)){yo(e.length===4);const[t,n,r,s]=e;return Ys(t,n,r,s)}else if(typeof e=="string")return yo(Xd[e]!==void 0),Xd[e];return e},wc=(e,t)=>n=>!!(Js(n)&&yw.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),i0=(e,t,n)=>r=>{if(!Js(r))return r;const[s,i,o,a]=r.match(Qo);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mx=e=>gn(0,255,e),La={...Qn,transform:e=>Math.round(mx(e))},In={test:wc("rgb","red"),parse:i0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+La.transform(e)+", "+La.transform(t)+", "+La.transform(n)+", "+ms(ps.transform(r))+")"};function gx(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hl={test:wc("#"),parse:gx,transform:In.transform},gr={test:wc("hsl","hue"),parse:i0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pt.transform(ms(t))+", "+Pt.transform(ms(n))+", "+ms(ps.transform(r))+")"},Oe={test:e=>In.test(e)||Hl.test(e)||gr.test(e),parse:e=>In.test(e)?In.parse(e):gr.test(e)?gr.parse(e):Hl.parse(e),transform:e=>Js(e)?e:e.hasOwnProperty("red")?In.transform(e):gr.transform(e)},ue=(e,t,n)=>-n*e+n*t+e;function Ia(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yx({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Ia(l,a,e+1/3),i=Ia(l,a,e),o=Ia(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Da=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},vx=[Hl,In,gr],wx=e=>vx.find(t=>t.test(e));function Zd(e){const t=wx(e);let n=t.parse(e);return t===gr&&(n=yx(n)),n}const o0=(e,t)=>{const n=Zd(e),r=Zd(t),s={...n};return i=>(s.red=Da(n.red,r.red,i),s.green=Da(n.green,r.green,i),s.blue=Da(n.blue,r.blue,i),s.alpha=ue(n.alpha,r.alpha,i),In.transform(s))};function xx(e){var t,n;return isNaN(e)&&Js(e)&&(((t=e.match(Qo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Rm))===null||n===void 0?void 0:n.length)||0)>0}const a0={regex:mw,countKey:"Vars",token:"${v}",parse:ge},l0={regex:Rm,countKey:"Colors",token:"${c}",parse:Oe.parse},u0={regex:Qo,countKey:"Numbers",token:"${n}",parse:Qn.parse};function Ma(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function vo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ma(n,a0),Ma(n,l0),Ma(n,u0),n}function c0(e){return vo(e).values}function d0(e){const{values:t,numColors:n,numVars:r,tokenised:s}=vo(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(a0.token,o[l]):l<r+n?a=a.replace(l0.token,Oe.transform(o[l])):a=a.replace(u0.token,ms(o[l]));return a}}const _x=e=>typeof e=="number"?0:e;function Sx(e){const t=c0(e);return d0(e)(t.map(_x))}const yn={test:xx,parse:c0,createTransformer:d0,getAnimatableNone:Sx},h0=(e,t)=>n=>`${n>0?t:e}`;function f0(e,t){return typeof e=="number"?n=>ue(e,t,n):Oe.test(e)?o0(e,t):e.startsWith("var(")?h0(e,t):m0(e,t)}const p0=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>f0(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},kx=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=f0(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},m0=(e,t)=>{const n=yn.createTransformer(t),r=vo(e),s=vo(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?hn(p0(r.values,s.values),n):h0(e,t)},Us=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},eh=(e,t)=>n=>ue(e,t,n);function bx(e){return typeof e=="number"?eh:typeof e=="string"?Oe.test(e)?o0:m0:Array.isArray(e)?p0:typeof e=="object"?kx:eh}function jx(e,t,n){const r=[],s=n||bx(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ge:t;a=hn(l,a)}r.push(a)}return r}function g0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(yo(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=jx(t,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=Us(e[c],e[c+1],u);return o[c](h)};return n?u=>l(gn(e[0],e[i-1],u)):l}function Tx(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Us(0,t,r);e.push(ue(n,1,s))}}function Px(e){const t=[0];return Tx(t,e.length-1),t}function Ex(e,t){return e.map(n=>n*t)}function Cx(e,t){return e.map(()=>t||e0).splice(0,e.length-1)}function wo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=dx(r)?r.map(Yd):Yd(r),i={done:!1,value:t[0]},o=Ex(n&&n.length===t.length?n:Px(t),e),a=g0(o,t,{ease:Array.isArray(s)?s:Cx(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function y0(e,t){return t?e*(1e3/t):0}const Nx=5;function v0(e,t,n){const r=Math.max(t-Nx,0);return y0(n-e(r),t-r)}const $a=.001,Ax=.01,Rx=10,Ox=.05,Lx=1;function Ix({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=gn(Ox,Lx,o),e=gn(Ax,Rx,Mt(e)),o<1?(s=u=>{const c=u*o,h=c*e,f=c-n,g=Wl(u,o),w=Math.exp(-h);return $a-f/g*w},i=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),v=Wl(Math.pow(u,2),o);return(-s(u)+$a>0?-1:1)*((f-g)*w)/v}):(s=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-$a+c*h},i=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=Mx(s,i,a);if(e=$n(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Dx=12;function Mx(e,t,n){let r=n;for(let s=1;s<Dx;s++)r=r-e(r)/t(r);return r}function Wl(e,t){return e*Math.sqrt(1-t*t)}const $x=["duration","bounce"],Vx=["stiffness","damping","mass"];function th(e,t){return t.some(n=>e[n]!==void 0)}function Ux(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!th(e,Vx)&&th(e,$x)){const n=Ix(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function w0({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:f}=Ux({...r,velocity:-Mt(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*u)),v=i-s,_=Mt(Math.sqrt(a/u)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let p;if(w<1){const m=Wl(_,w);p=x=>{const S=Math.exp(-w*_*x);return i-S*((g+w*_*v)/m*Math.sin(m*x)+v*Math.cos(m*x))}}else if(w===1)p=m=>i-Math.exp(-_*m)*(v+(g+_*v)*m);else{const m=_*Math.sqrt(w*w-1);p=x=>{const S=Math.exp(-w*_*x),b=Math.min(m*x,300);return i-S*((g+w*_*v)*Math.sinh(b)+m*v*Math.cosh(b))/m}}return{calculatedDuration:f&&c||null,next:m=>{const x=p(m);if(f)o.done=m>=c;else{let S=g;m!==0&&(w<1?S=v0(p,m,x):S=0);const b=Math.abs(S)<=n,j=Math.abs(i-x)<=t;o.done=b&&j}return o.value=o.done?i:x,o}}}function nh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},g=P=>a!==void 0&&P<a||l!==void 0&&P>l,w=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let v=n*t;const _=h+v,y=o===void 0?_:o(_);y!==_&&(v=y-h);const p=P=>-v*Math.exp(-P/r),m=P=>y+p(P),x=P=>{const E=p(P),R=m(P);f.done=Math.abs(E)<=u,f.value=f.done?y:R};let S,b;const j=P=>{g(f.value)&&(S=P,b=w0({keyframes:[f.value,w(f.value)],velocity:v0(m,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return j(0),{calculatedDuration:null,next:P=>{let E=!1;return!b&&S===void 0&&(E=!0,x(P),j(P)),S!==void 0&&P>S?b.next(P-S):(!E&&x(P),f)}}}const Fx=e=>{const t=({timestamp:n})=>e(n);return{start:()=>re.update(t,!0),stop:()=>Bt(t),now:()=>Ce.isProcessing?Ce.timestamp:performance.now()}},rh=2e4;function sh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<rh;)t+=n,r=e.next(t);return t>=rh?1/0:t}const zx={decay:nh,inertia:nh,tween:wo,keyframes:wo,spring:w0};function xo({autoplay:e=!0,delay:t=0,driver:n=Fx,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let g=1,w=!1,v,_;const y=()=>{_=new Promise(M=>{v=M})};y();let p;const m=zx[s]||wo;let x;m!==wo&&typeof r[0]!="number"&&(x=g0([0,100],r,{clamp:!1}),r=[0,100]);const S=m({...f,keyframes:r});let b;a==="mirror"&&(b=m({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let j="idle",P=null,E=null,R=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=sh(S));const{calculatedDuration:G}=S;let q=1/0,J=1/0;G!==null&&(q=G+o,J=q*(i+1)-o);let N=0;const Y=M=>{if(E===null)return;g>0&&(E=Math.min(E,M)),g<0&&(E=Math.min(M-J/g,E)),P!==null?N=P:N=Math.round(M-E)*g;const ee=N-t*(g>=0?1:-1),_t=g>=0?ee<0:ee>J;N=Math.max(ee,0),j==="finished"&&P===null&&(N=J);let $=N,U=S;if(i){const $e=Math.min(N,J)/q;let tt=Math.floor($e),nt=$e%1;!nt&&$e>=1&&(nt=1),nt===1&&tt--,tt=Math.min(tt,i+1),!!(tt%2)&&(a==="reverse"?(nt=1-nt,o&&(nt-=o/q)):a==="mirror"&&(U=b)),$=gn(0,1,nt)*q}const I=_t?{done:!1,value:r[0]}:U.next($);x&&(I.value=x(I.value));let{done:z}=I;!_t&&G!==null&&(z=g>=0?N>=J:N<=0);const fe=P===null&&(j==="finished"||j==="running"&&z);return h&&h(I.value),fe&&A(),I},B=()=>{p&&p.stop(),p=void 0},he=()=>{j="idle",B(),v(),y(),E=R=null},A=()=>{j="finished",c&&c(),B(),v()},L=()=>{if(w)return;p||(p=n(Y));const M=p.now();l&&l(),P!==null?E=M-P:(!E||j==="finished")&&(E=M),j==="finished"&&y(),R=E,P=null,j="running",p.start()};e&&L();const V={then(M,ee){return _.then(M,ee)},get time(){return Mt(N)},set time(M){M=$n(M),N=M,P!==null||!p||g===0?P=M:E=p.now()-M/g},get duration(){const M=S.calculatedDuration===null?sh(S):S.calculatedDuration;return Mt(M)},get speed(){return g},set speed(M){M===g||!p||(g=M,V.time=Mt(N))},get state(){return j},play:L,pause:()=>{j="paused",P=N},stop:()=>{w=!0,j!=="idle"&&(j="idle",u&&u(),he())},cancel:()=>{R!==null&&Y(R),he()},complete:()=>{j="finished"},sample:M=>(E=0,Y(M))};return V}function Bx(e){let t;return()=>(t===void 0&&(t=e()),t)}const qx=Bx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hx=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_i=10,Wx=2e4,Kx=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Jm(t.ease);function Qx(e,t,{onUpdate:n,onComplete:r,...s}){if(!(qx()&&Hx.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(m=>{a=m})};c();let{keyframes:h,duration:f=300,ease:g,times:w}=s;if(Kx(t,s)){const m=xo({...s,repeat:0,delay:0});let x={done:!1,value:h[0]};const S=[];let b=0;for(;!x.done&&b<Wx;)x=m.sample(b),S.push(x.value),b+=_i;w=void 0,h=S,f=b-_i,g="linear"}const v=sx(e.owner.current,t,h,{...s,duration:f,ease:g,times:w}),_=()=>{u=!1,v.cancel()},y=()=>{u=!0,re.update(_),a(),c()};return v.onfinish=()=>{u||(e.set(ix(h,s)),r&&r(),y())},{then(m,x){return l.then(m,x)},attachTimeline(m){return v.timeline=m,v.onfinish=null,ge},get time(){return Mt(v.currentTime||0)},set time(m){v.currentTime=$n(m)},get speed(){return v.playbackRate},set speed(m){v.playbackRate=m},get duration(){return Mt(f)},play:()=>{o||(v.play(),Bt(_))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:m}=v;if(m){const x=xo({...s,autoplay:!1});e.setWithVelocity(x.sample(m-_i).value,x.sample(m).value,_i)}y()},complete:()=>{u||v.finish()},cancel:y}}function Gx({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:i=>(i(),Promise.resolve()),cancel:ge,complete:ge});return t?xo({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Jx={type:"spring",stiffness:500,damping:25,restSpeed:10},Xx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Yx={type:"keyframes",duration:.8},Zx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e1=(e,{keyframes:t})=>t.length>2?Yx:Kn.has(e)?e.startsWith("scale")?Xx(t[1]):Jx:Zx,Kl=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yn.test(t)||t==="0")&&!t.startsWith("url(")),t1=new Set(["brightness","contrast","saturate","opacity"]);function n1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Qo)||[];if(!r)return e;const s=n.replace(r,"");let i=t1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const r1=/([a-z-]*)\(.*?\)/g,Ql={...yn,getAnimatableNone:e=>{const t=e.match(r1);return t?t.map(n1).join(" "):e}},s1={...Om,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Ql,WebkitFilter:Ql},xc=e=>s1[e];function x0(e,t){let n=xc(e);return n!==Ql&&(n=yn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _0=e=>/^0[^.\s]+$/.test(e);function i1(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_0(e)}function o1(e,t,n,r){const s=Kl(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),i1(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=x0(t,a)}return i}function a1({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function _c(e,t){return e[t]||e.default||e}const l1={skipAnimations:!1},Sc=(e,t,n,r={})=>s=>{const i=_c(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-$n(o);const l=o1(t,e,n,i),u=l[0],c=l[l.length-1],h=Kl(e,u),f=Kl(e,c);let g={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(a1(i)||(g={...g,...e1(e,g)}),g.duration&&(g.duration=$n(g.duration)),g.repeatDelay&&(g.repeatDelay=$n(g.repeatDelay)),!h||!f||rx.current||i.type===!1||l1.skipAnimations)return Gx(g);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=Qx(t,e,g);if(w)return w}return xo(g)};function _o(e){return!!(Ke(e)&&e.add)}const S0=e=>/^\-?\d*\.?\d+$/.test(e);function kc(e,t){e.indexOf(t)===-1&&e.push(t)}function bc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jc{constructor(){this.subscriptions=[]}add(t){return kc(this.subscriptions,t),()=>bc(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const u1=e=>!isNaN(parseFloat(e));class c1{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ce;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=u1(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jc);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?y0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Or(e,t){return new c1(e,t)}const k0=e=>t=>t.test(e),d1={test:e=>e==="auto",parse:e=>e},b0=[Qn,D,Pt,Wt,ww,vw,d1],Jr=e=>b0.find(k0(e)),h1=[...b0,Oe,yn],f1=e=>h1.find(k0(e));function p1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Or(n))}function m1(e,t){const n=Jo(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=Ow(i[o]);p1(e,o,a)}}function g1(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),c!=null&&(typeof c=="string"&&(S0(c)||_0(c))?c=parseFloat(c):!f1(c)&&yn.test(u)&&(c=x0(l,u)),e.addValue(l,Or(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function y1(e,t){return t?(t[e]||t.default||t).from:void 0}function v1(e,t,n){const r={};for(const s in e){const i=y1(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function w1({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function x1(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function j0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const f=e.getValue(h),g=a[h];if(!f||g===void 0||c&&w1(c,h))continue;const w={delay:n,elapsed:0,..._c(i||{},h)};if(window.HandoffAppearAnimations){const y=e.getProps()[Tm];if(y){const p=window.HandoffAppearAnimations(y,h,f,re);p!==null&&(w.elapsed=p,w.isHandoff=!0)}}let v=!w.isHandoff&&!x1(f,g);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(Sc(h,f,g,e.shouldReduceMotion&&Kn.has(h)?{type:!1}:w));const _=f.animation;_o(l)&&(l.add(h),_.then(()=>l.remove(h))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&m1(e,o)}),u}function Gl(e,t,n={}){const r=Jo(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(j0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=s;return _1(e,t,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function _1(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(S1).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Gl(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function S1(e,t){return e.sortNodePosition(t)}function k1(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Gl(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Gl(e,t,n);else{const s=typeof t=="function"?Jo(e,t,n.custom):t;r=Promise.all(j0(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const b1=[...ac].reverse(),j1=ac.length;function T1(e){return t=>Promise.all(t.map(({animation:n,options:r})=>k1(e,n,r)))}function P1(e){let t=T1(e);const n=C1();let r=!0;const s=(l,u)=>{const c=Jo(e,u);if(c){const{transition:h,transitionEnd:f,...g}=c;l={...l,...g,...f}}return l};function i(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},f=[],g=new Set;let w={},v=1/0;for(let y=0;y<j1;y++){const p=b1[y],m=n[p],x=c[p]!==void 0?c[p]:h[p],S=$s(x),b=p===u?m.isActive:null;b===!1&&(v=y);let j=x===h[p]&&x!==c[p]&&S;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...w},!m.isActive&&b===null||!x&&!m.prevProp||Wo(x)||typeof x=="boolean")continue;let E=E1(m.prevProp,x)||p===u&&m.isActive&&!j&&S||y>v&&S,R=!1;const G=Array.isArray(x)?x:[x];let q=G.reduce(s,{});b===!1&&(q={});const{prevResolvedValues:J={}}=m,N={...J,...q},Y=B=>{E=!0,g.has(B)&&(R=!0,g.delete(B)),m.needsAnimating[B]=!0};for(const B in N){const he=q[B],A=J[B];if(w.hasOwnProperty(B))continue;let L=!1;go(he)&&go(A)?L=!Qm(he,A):L=he!==A,L?he!==void 0?Y(B):g.add(B):he!==void 0&&g.has(B)?Y(B):m.protectedKeys[B]=!0}m.prevProp=x,m.prevResolvedValues=q,m.isActive&&(w={...w,...q}),r&&e.blockInitialAnimation&&(E=!1),E&&(!j||R)&&f.push(...G.map(B=>({animation:B,options:{type:p,...l}})))}if(g.size){const y={};g.forEach(p=>{const m=e.getBaseTarget(p);m!==void 0&&(y[p]=m)}),f.push({animation:y})}let _=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function E1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qm(t,e):!1}function kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C1(){return{animate:kn(!0),whileInView:kn(),whileHover:kn(),whileTap:kn(),whileDrag:kn(),whileFocus:kn(),exit:kn()}}class N1 extends _n{constructor(t){super(t),t.animationState||(t.animationState=P1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Wo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let A1=0;class R1 extends _n{constructor(){super(...arguments),this.id=A1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const O1={animation:{Feature:N1},exit:{Feature:R1}},ih=(e,t)=>Math.abs(e-t);function L1(e,t){const n=ih(e.x,t.x),r=ih(e.y,t.y);return Math.sqrt(n**2+r**2)}class T0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ua(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=L1(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:w}=h,{timestamp:v}=Ce;this.history.push({...w,timestamp:v});const{onStart:_,onMove:y}=this.handlers;f||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Va(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ua(h.type==="pointercancel"?this.lastMoveEventInfo:Va(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,_),w&&w(h,_)},!Bm(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Go(t),a=Va(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ce;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Ua(a,this.history)),this.removeListeners=hn(Dt(this.contextWindow,"pointermove",this.handlePointerMove),Dt(this.contextWindow,"pointerup",this.handlePointerUp),Dt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bt(this.updatePoint)}}function Va(e,t){return t?{point:t(e.point)}:e}function oh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ua({point:e},t){return{point:e,delta:oh(e,P0(t)),offset:oh(e,I1(t)),velocity:D1(t,.1)}}function I1(e){return e[0]}function P0(e){return e[e.length-1]}function D1(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=P0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>$n(t)));)n--;if(!r)return{x:0,y:0};const i=Mt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ye(e){return e.max-e.min}function Jl(e,t=0,n=.01){return Math.abs(e-t)<=n}function ah(e,t,n,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=Ye(n)/Ye(t),(Jl(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(Jl(e.translate)||isNaN(e.translate))&&(e.translate=0)}function gs(e,t,n,r){ah(e.x,t.x,n.x,r?r.originX:void 0),ah(e.y,t.y,n.y,r?r.originY:void 0)}function lh(e,t,n){e.min=n.min+t.min,e.max=e.min+Ye(t)}function M1(e,t,n){lh(e.x,t.x,n.x),lh(e.y,t.y,n.y)}function uh(e,t,n){e.min=t.min-n.min,e.max=e.min+Ye(t)}function ys(e,t,n){uh(e.x,t.x,n.x),uh(e.y,t.y,n.y)}function $1(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ue(n,e,r.max):Math.min(e,n)),e}function ch(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function V1(e,{top:t,left:n,bottom:r,right:s}){return{x:ch(e.x,n,s),y:ch(e.y,t,r)}}function dh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function U1(e,t){return{x:dh(e.x,t.x),y:dh(e.y,t.y)}}function F1(e,t){let n=.5;const r=Ye(e),s=Ye(t);return s>r?n=Us(t.min,t.max-r,e.min):r>s&&(n=Us(e.min,e.max-s,t.min)),gn(0,1,n)}function z1(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xl=.35;function B1(e=Xl){return e===!1?e=0:e===!0&&(e=Xl),{x:hh(e,"left","right"),y:hh(e,"top","bottom")}}function hh(e,t,n){return{min:fh(e,t),max:fh(e,n)}}function fh(e,t){return typeof e=="number"?e:e[t]||0}const ph=()=>({translate:0,scale:1,origin:0,originPoint:0}),yr=()=>({x:ph(),y:ph()}),mh=()=>({min:0,max:0}),ye=()=>({x:mh(),y:mh()});function st(e){return[e("x"),e("y")]}function E0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function q1({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function H1(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fa(e){return e===void 0||e===1}function Yl({scale:e,scaleX:t,scaleY:n}){return!Fa(e)||!Fa(t)||!Fa(n)}function Pn(e){return Yl(e)||C0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function C0(e){return gh(e.x)||gh(e.y)}function gh(e){return e&&e!=="0%"}function So(e,t,n){const r=e-n,s=t*r;return n+s}function yh(e,t,n,r,s){return s!==void 0&&(e=So(e,s,r)),So(e,n,r)+t}function Zl(e,t=0,n=1,r,s){e.min=yh(e.min,t,n,r,s),e.max=yh(e.max,t,n,r,s)}function N0(e,{x:t,y:n}){Zl(e.x,t.translate,t.scale,t.originPoint),Zl(e.y,n.translate,n.scale,n.originPoint)}function W1(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,N0(e,o)),r&&Pn(i.latestValues)&&vr(e,i.latestValues))}t.x=vh(t.x),t.y=vh(t.y)}function vh(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Jt(e,t){e.min=e.min+t,e.max=e.max+t}function wh(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=ue(e.min,e.max,i);Zl(e,t[n],t[r],o,t.scale)}const K1=["x","scaleX","originX"],Q1=["y","scaleY","originY"];function vr(e,t){wh(e.x,t,K1),wh(e.y,t,Q1)}function A0(e,t){return E0(H1(e.getBoundingClientRect(),t))}function G1(e,t,n){const r=A0(e,n),{scroll:s}=t;return s&&(Jt(r.x,s.offset.x),Jt(r.y,s.offset.y)),r}const R0=({current:e})=>e?e.ownerDocument.defaultView:null,J1=new WeakMap;class X1{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Go(c,"page").point)},i=(c,h)=>{const{drag:f,dragPropagation:g,onDragStart:w}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hm(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),st(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Pt.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const m=p.layout.layoutBox[_];m&&(y=Ye(m)*(parseFloat(y)/100))}}this.originPoint[_]=y}),w&&re.update(()=>w(c,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=Y1(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(c,h)},a=(c,h)=>this.stop(c,h),l=()=>st(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new T0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:R0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Si(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$1(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&mr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=V1(s.layoutBox,n):this.constraints=!1,this.elastic=B1(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&st(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=z1(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!mr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=G1(r,s.root,this.visualElement.getTransformPagePoint());let o=U1(s.layout.layoutBox,i);if(n){const a=n(q1(o));this.hasMutatedConstraints=!!a,a&&(o=E0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=st(c=>{if(!Si(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Sc(t,r,0,n))}stopAnimation(){st(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){st(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){st(n=>{const{drag:r}=this.getProps();if(!Si(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};st(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=F1({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),st(o=>{if(!Si(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ue(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;J1.set(this.visualElement,this);const t=this.visualElement.current,n=Dt(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Lt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(st(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Xl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Si(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Y1(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Z1 extends _n{constructor(t){super(t),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new X1(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const xh=e=>(t,n)=>{e&&re.update(()=>e(t,n))};class e_ extends _n{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(t){this.session=new T0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xh(t),onStart:xh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&re.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Dt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function t_(){const e=k.useContext(qo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=k.useId();return k.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Fi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _h(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(D.test(e))e=parseFloat(e);else return e;const n=_h(e,t.target.x),r=_h(e,t.target.y);return`${n}% ${r}%`}},n_={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=yn.parse(e);if(s.length>5)return r;const i=yn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=ue(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class r_ extends Po.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;dw(s_),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O0(e){const[t,n]=t_(),r=k.useContext(uc);return Po.createElement(r_,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(Em),isPresent:t,safeToRemove:n})}const s_={borderRadius:{...Xr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xr,borderTopRightRadius:Xr,borderBottomLeftRadius:Xr,borderBottomRightRadius:Xr,boxShadow:n_},L0=["TopLeft","TopRight","BottomLeft","BottomRight"],i_=L0.length,Sh=e=>typeof e=="string"?parseFloat(e):e,kh=e=>typeof e=="number"||D.test(e);function o_(e,t,n,r,s,i){s?(e.opacity=ue(0,n.opacity!==void 0?n.opacity:1,a_(r)),e.opacityExit=ue(t.opacity!==void 0?t.opacity:1,0,l_(r))):i&&(e.opacity=ue(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<i_;o++){const a=`border${L0[o]}Radius`;let l=bh(t,a),u=bh(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||kh(l)===kh(u)?(e[a]=Math.max(ue(Sh(l),Sh(u),r),0),(Pt.test(u)||Pt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,r))}function bh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const a_=I0(0,.5,r0),l_=I0(.5,.95,ge);function I0(e,t,n){return r=>r<e?0:r>t?1:n(Us(e,t,r))}function jh(e,t){e.min=t.min,e.max=t.max}function rt(e,t){jh(e.x,t.x),jh(e.y,t.y)}function Th(e,t,n,r,s){return e-=t,e=So(e,1/n,r),s!==void 0&&(e=So(e,1/s,r)),e}function u_(e,t=0,n=1,r=.5,s,i=e,o=e){if(Pt.test(t)&&(t=parseFloat(t),t=ue(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ue(i.min,i.max,r);e===i&&(a-=t),e.min=Th(e.min,t,n,a,s),e.max=Th(e.max,t,n,a,s)}function Ph(e,t,[n,r,s],i,o){u_(e,t[n],t[r],t[s],t.scale,i,o)}const c_=["x","scaleX","originX"],d_=["y","scaleY","originY"];function Eh(e,t,n,r){Ph(e.x,t,c_,n?n.x:void 0,r?r.x:void 0),Ph(e.y,t,d_,n?n.y:void 0,r?r.y:void 0)}function Ch(e){return e.translate===0&&e.scale===1}function D0(e){return Ch(e.x)&&Ch(e.y)}function h_(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function M0(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Nh(e){return Ye(e.x)/Ye(e.y)}class f_{constructor(){this.members=[]}add(t){kc(this.members,t),t.scheduleRender()}remove(t){if(bc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ah(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const p_=(e,t)=>e.depth-t.depth;class m_{constructor(){this.children=[],this.isDirty=!1}add(t){kc(this.children,t),this.isDirty=!0}remove(t){bc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p_),this.isDirty=!1,this.children.forEach(t)}}function g_(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Bt(r),e(i-t))};return re.read(r,!0),()=>Bt(r)}function y_(e){window.MotionDebug&&window.MotionDebug.record(e)}function v_(e){return e instanceof SVGElement&&e.tagName!=="svg"}function w_(e,t,n){const r=Ke(e)?e:Or(e);return r.start(Sc("",r,t,n)),r.animation}const Rh=["","X","Y","Z"],x_={visibility:"hidden"},Oh=1e3;let __=0;const En={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=__++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,En.totalNodes=En.resolvedTargetDeltas=En.recalculatedProjection=0,this.nodes.forEach(b_),this.nodes.forEach(C_),this.nodes.forEach(N_),this.nodes.forEach(j_),y_(En)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new m_)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jc),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v_(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=g_(f,250),Fi.hasAnimatedSinceResize&&(Fi.hasAnimatedSinceResize=!1,this.nodes.forEach(Ih))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||I_,{onLayoutAnimationStart:_,onLayoutAnimationComplete:y}=c.getProps(),p=!this.targetLayout||!M0(this.targetLayout,w)||g,m=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const x={..._c(v,"layout"),onPlay:_,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||Ih(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Bt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lh);return}this.isUpdating||this.nodes.forEach(P_),this.isUpdating=!1,this.nodes.forEach(E_),this.nodes.forEach(S_),this.nodes.forEach(k_),this.clearAllSnapshots();const a=performance.now();Ce.delta=gn(0,1e3/60,a-Ce.timestamp),Ce.timestamp=a,Ce.isProcessing=!0,Aa.update.process(Ce),Aa.preRender.process(Ce),Aa.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(T_),this.sharedNodes.forEach(R_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!D0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Pn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),D_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ye();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Jt(a.x,l.offset.x),Jt(a.y,l.offset.y)),a}removeElementScroll(o){const a=ye();rt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){rt(a,o);const{scroll:f}=this.root;f&&(Jt(a.x,-f.offset.x),Jt(a.y,-f.offset.y))}Jt(a.x,c.offset.x),Jt(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ye();rt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&vr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Pn(c.latestValues)&&vr(l,c.latestValues)}return Pn(this.latestValues)&&vr(l,this.latestValues),l}removeTransform(o){const a=ye();rt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pn(u.latestValues))continue;Yl(u.latestValues)&&u.updateSnapshot();const c=ye(),h=u.measurePageBox();rt(c,h),Eh(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Pn(this.latestValues)&&Eh(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ys(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rt(this.target,this.layout.layoutBox),N0(this.target,this.targetDelta)):rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ys(this.relativeTargetOrigin,this.target,g.target),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}En.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yl(this.parent.latestValues)||C0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;rt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;W1(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=yr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yr(),this.projectionDeltaWithTransform=yr());const v=this.projectionTransform;gs(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Ah(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),En.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=yr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ye(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,_=this.getStack(),y=!_||_.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(L_));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const S=x/1e3;Dh(h.x,o.x,S),Dh(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ys(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O_(this.relativeTarget,this.relativeTargetOrigin,f,S),m&&h_(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=ye()),rt(m,this.relativeTarget)),v&&(this.animationValues=c,o_(c,u,this.latestValues,S,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Bt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Fi.hasAnimatedSinceResize=!0,this.currentAnimation=w_(0,Oh,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&V0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ye();const h=Ye(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ye(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rt(a,l),vr(a,c),gs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f_),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Rh.length;c++){const h="rotate"+Rh[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x_;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ui(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ui(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Pn(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Ah(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:g,y:w}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in po){if(f[v]===void 0)continue;const{correct:_,applyTo:y}=po[v],p=u.transform==="none"?f[v]:_(f[v],h);if(y){const m=y.length;for(let x=0;x<m;x++)u[y[x]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?Ui(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Lh),this.root.sharedNodes.clear()}}}function S_(e){e.updateLayout()}function k_(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?st(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ye(f);f.min=r[h].min,f.max=f.min+g}):V0(i,n.layoutBox,r)&&st(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ye(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=yr();gs(a,r,n.layoutBox);const l=yr();o?gs(l,e.applyTransform(s,!0),n.measuredBox):gs(l,r,n.layoutBox);const u=!D0(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const w=ye();ys(w,n.layoutBox,f.layoutBox);const v=ye();ys(v,r,g.layoutBox),M0(w,v)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function b_(e){En.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T_(e){e.clearSnapshot()}function Lh(e){e.clearMeasurements()}function P_(e){e.isLayoutDirty=!1}function E_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ih(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function C_(e){e.resolveTargetDelta()}function N_(e){e.calcProjection()}function A_(e){e.resetRotation()}function R_(e){e.removeLeadSnapshot()}function Dh(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Mh(e,t,n,r){e.min=ue(t.min,n.min,r),e.max=ue(t.max,n.max,r)}function O_(e,t,n,r){Mh(e.x,t.x,n.x,r),Mh(e.y,t.y,n.y,r)}function L_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const I_={duration:.45,ease:[.4,0,.1,1]},$h=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Vh=$h("applewebkit/")&&!$h("chrome/")?Math.round:ge;function Uh(e){e.min=Vh(e.min),e.max=Vh(e.max)}function D_(e){Uh(e.x),Uh(e.y)}function V0(e,t,n){return e==="position"||e==="preserve-aspect"&&!Jl(Nh(t),Nh(n),.2)}const M_=$0({attachResizeListener:(e,t)=>Lt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),za={current:void 0},U0=$0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!za.current){const e=new M_({});e.mount(window),e.setOptions({layoutScroll:!0}),za.current=e}return za.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$_={pan:{Feature:e_},drag:{Feature:Z1,ProjectionNode:U0,MeasureLayout:O0}},V_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U_(e){const t=V_.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function eu(e,t,n=1){const[r,s]=U_(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return S0(o)?parseFloat(o):o}else return Bl(s)?eu(s,t,n+1):s}function F_(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Bl(i))return;const o=eu(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!Bl(i))continue;const o=eu(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const z_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F0=e=>z_.has(e),B_=e=>Object.keys(e).some(F0),Fh=e=>e===Qn||e===D,zh=(e,t)=>parseFloat(e.split(", ")[t]),Bh=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return zh(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?zh(i[1],e):0}},q_=new Set(["x","y","z"]),H_=Gs.filter(e=>!q_.has(e));function W_(e){const t=[];return H_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Lr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Bh(4,13),y:Bh(5,14)};Lr.translateX=Lr.x;Lr.translateY=Lr.y;const K_=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Lr[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Lr[u](l,i)}),e},Q_=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(F0);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Jr(c);const f=t[l];let g;if(go(f)){const w=f.length,v=f[0]===null?1:0;c=f[v],h=Jr(c);for(let _=v;_<w&&f[_]!==null;_++)g?yo(Jr(f[_])===g):g=Jr(f[_])}else g=Jr(f);if(h!==g)if(Fh(h)&&Fh(g)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&g===D&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(c===0||f===0)?c===0?u.set(g.transform(c)):t[l]=h.transform(f):(o||(i=W_(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=K_(t,e,a);return i.length&&i.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),Ho&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function G_(e,t,n,r){return B_(t)?Q_(e,t,n,r):{target:t,transitionEnd:r}}const J_=(e,t,n,r)=>{const s=F_(e,t,r);return t=s.target,r=s.transitionEnd,G_(e,t,n,r)},tu={current:null},z0={current:!1};function X_(){if(z0.current=!0,!!Ho)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tu.current=e.matches;e.addListener(t),t()}else tu.current=!1}function Y_(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Ke(i))e.addValue(s,i),_o(r)&&r.add(s);else if(Ke(o))e.addValue(s,Or(i,{owner:e})),_o(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Or(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const qh=new WeakMap,B0=Object.keys(Vs),Z_=B0.length,Hh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eS=lc.length;class tS{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>re.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ko(n),this.isVariantNode=Pm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&Ke(f)&&(f.set(a[h],!1),_o(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,qh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z0.current||X_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qh.delete(this.current),this.projection&&this.projection.unmount(),Bt(this.notifyUpdate),Bt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Kn.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&re.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<Z_;l++){const u=B0[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:g}=Vs[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&mr(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:g})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hh.length;r++){const s=Hh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Y_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<eS;r++){const s=lc[r],i=this.props[s];($s(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Or(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=gc(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ke(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jc),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class q0 extends tS{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=v1(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){g1(this,r,o);const a=J_(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function nS(e){return window.getComputedStyle(e)}class rS extends q0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Kn.has(n)){const r=xc(n);return r&&r.default||0}else{const r=nS(t),s=(Am(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return A0(t,n)}build(t,n,r,s){dc(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return mc(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ke(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Mm(t,n,r,s)}}class sS extends q0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Kn.has(n)){const r=xc(n);return r&&r.default||0}return n=$m.has(n)?n:oc(n),t.getAttribute(n)}measureInstanceViewportBox(){return ye()}scrapeMotionValuesFromProps(t,n){return Um(t,n)}build(t,n,r,s){fc(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Vm(t,n,r,s)}mount(t){this.isSVGTag=pc(t.tagName),super.mount(t)}}const iS=(e,t)=>cc(e)?new sS(t,{enableHardwareAcceleration:!1}):new rS(t,{enableHardwareAcceleration:!0}),oS={layout:{ProjectionNode:U0,MeasureLayout:O0}},aS={...O1,...ex,...$_,...oS},T=uw((e,t)=>Fw(e,t,aS,iS));function H0(){const e=k.useRef(!1);return ic(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function lS(){const e=H0(),[t,n]=k.useState(0),r=k.useCallback(()=>{e.current&&n(t+1)},[t]);return[k.useCallback(()=>re.postRender(r),[r]),t]}class uS extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cS({children:e,isPresent:t}){const n=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),k.createElement(uS,{isPresent:t,childRef:r,sizeRef:s},k.cloneElement(e,{ref:r}))}const Ba=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Fm(dS),l=k.useId(),u=k.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return k.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=k.createElement(cS,{isPresent:n},e)),k.createElement(qo.Provider,{value:u},e)};function dS(){return new Map}function hS(e){return k.useEffect(()=>()=>e(),[])}const Cn=e=>e.key||"";function fS(e,t){e.forEach(n=>{const r=Cn(n);t.set(r,n)})}function pS(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const ko=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=k.useContext(uc).forceRender||lS()[0],l=H0(),u=pS(e);let c=u;const h=k.useRef(new Map).current,f=k.useRef(c),g=k.useRef(new Map).current,w=k.useRef(!0);if(ic(()=>{w.current=!1,fS(u,g),f.current=c}),hS(()=>{w.current=!0,g.clear(),h.clear()}),w.current)return k.createElement(k.Fragment,null,c.map(p=>k.createElement(Ba,{key:Cn(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},p)));c=[...c];const v=f.current.map(Cn),_=u.map(Cn),y=v.length;for(let p=0;p<y;p++){const m=v[p];_.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((p,m)=>{if(_.indexOf(m)!==-1)return;const x=g.get(m);if(!x)return;const S=v.indexOf(m);let b=p;if(!b){const j=()=>{h.delete(m);const P=Array.from(g.keys()).filter(E=>!_.includes(E));if(P.forEach(E=>g.delete(E)),f.current=u.filter(E=>{const R=Cn(E);return R===m||P.includes(R)}),!h.size){if(l.current===!1)return;a(),r&&r()}};b=k.createElement(Ba,{key:Cn(x),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},x),h.set(m,b)}c.splice(S,0,b)}),c=c.map(p=>{const m=p.key;return h.has(m)?p:k.createElement(Ba,{key:Cn(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),k.createElement(k.Fragment,null,h.size?c:c.map(p=>k.cloneElement(p)))},mS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>Vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Tc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gS extends Tc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yS extends Tc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vS extends Tc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nu||(nu={}));var wS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xS{constructor(t,{headers:n={},customFetch:r,region:s=nu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=mS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return wS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new gS(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new yS(c);if(!c.ok)throw new vS(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield c.json():f==="application/octet-stream"?g=yield c.blob():f==="text/event-stream"?g=c:f==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},Pc={},Xo={},Zs={},Yo={},Zo={},_S=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ir=_S();const SS=Ir.fetch,W0=Ir.fetch.bind(Ir),K0=Ir.Headers,kS=Ir.Request,bS=Ir.Response,Vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:K0,Request:kS,Response:bS,default:W0,fetch:SS},Symbol.toStringTag,{value:"Module"})),jS=jg(Vr);var ea={};Object.defineProperty(ea,"__esModule",{value:!0});let TS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ea.default=TS;var Q0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const PS=Q0(jS),ES=Q0(ea);let CS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=PS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new ES.default(u)}return{error:u,data:c,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Zo.default=CS;var NS=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yo,"__esModule",{value:!0});const AS=NS(Zo);let RS=class extends AS.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yo.default=RS;var OS=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0});const LS=OS(Yo);let IS=class extends LS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Zs.default=IS;var DS=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});const Yr=DS(Zs);let MS=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xo.default=MS;var ta={},na={};Object.defineProperty(na,"__esModule",{value:!0});na.version=void 0;na.version="0.0.0-automated";Object.defineProperty(ta,"__esModule",{value:!0});ta.DEFAULT_HEADERS=void 0;const $S=na;ta.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$S.version}`};var G0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pc,"__esModule",{value:!0});const VS=G0(Xo),US=G0(Zs),FS=ta;let zS=class J0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},FS.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new VS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new J0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new US.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Pc.default=zS;var Ur=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const X0=Ur(Pc);Fe.PostgrestClient=X0.default;const Y0=Ur(Xo);Fe.PostgrestQueryBuilder=Y0.default;const Z0=Ur(Zs);Fe.PostgrestFilterBuilder=Z0.default;const eg=Ur(Yo);Fe.PostgrestTransformBuilder=eg.default;const tg=Ur(Zo);Fe.PostgrestBuilder=tg.default;const ng=Ur(ea);Fe.PostgrestError=ng.default;var BS=Fe.default={PostgrestClient:X0.default,PostgrestQueryBuilder:Y0.default,PostgrestFilterBuilder:Z0.default,PostgrestTransformBuilder:eg.default,PostgrestBuilder:tg.default,PostgrestError:ng.default};const{PostgrestClient:qS,PostgrestQueryBuilder:hj,PostgrestFilterBuilder:fj,PostgrestTransformBuilder:pj,PostgrestBuilder:mj,PostgrestError:gj}=BS;let ru;typeof window>"u"?ru=require("ws"):ru=window.WebSocket;const HS=ru,WS="2.11.10",KS={"X-Client-Info":`realtime-js/${WS}`},QS="1.0.0",rg=1e4,GS=1e3;var jr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jr||(jr={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var gt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gt||(gt={}));var su;(function(e){e.websocket="websocket"})(su||(su={}));var An;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(An||(An={}));class JS{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class sg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const Wh=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=XS(o,e,t,s),i),{})},XS=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ig(i,o):iu(o)},ig=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tk(t,n)}switch(e){case te.bool:return YS(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return ZS(t);case te.json:case te.jsonb:return ek(t);case te.timestamp:return nk(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return iu(t);default:return iu(t)}},iu=e=>e,YS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ek=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ig(t,a))}return e},nk=e=>typeof e=="string"?e.replace(" ","T"):e,og=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class qa{constructor(t,n,r={},s=rg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kh||(Kh={}));class vs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=vs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),w=c.filter(_=>g.indexOf(_.presence_ref)<0),v=h.filter(_=>f.indexOf(_.presence_ref)<0);w.length>0&&(a[u]=w),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(g=>g.presence_ref),f=c.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qh||(Qh={}));var Gh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gh||(Gh={}));var Nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class Ec{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qa(this,gt.join,this.params,this.timeout),this.rejoinTimer=new sg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vs(this),this.broadcastEndpointURL=og(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Nt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Nt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(Nt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<g;v++){const _=f[v],{filter:{event:y,schema:p,table:m,filter:x}}=_,S=c&&c[v];if(S&&S.event===y&&S.schema===p&&S.table===m&&S.filter===x)w.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Nt.SUBSCRIBED);return}}).receive("error",c=>{this.state=Re.errored,t==null||t(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new qa(this,gt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qa(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=gt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,v,_;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(v=g.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,v,_,y,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,S=(w=g.filter)===null||w===void 0?void 0:w.event;return x&&((v=n.ids)===null||v===void 0?void 0:v.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:_,commit_timestamp:y,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}g.callback(f,r)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ec.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gt.close,{},t)}_onError(t){this._on(gt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wh(t.columns,t.old_record)),n}}const Jh=()=>{},rk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=KS,this.params={},this.timeout=rg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jh,this.ref=0,this.logger=Jh,this.conn=null,this.sendBuffer=[],this.serializer=new JS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>We(async()=>{const{default:l}=await Promise.resolve().then(()=>Vr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${su.websocket}`,this.httpEndpoint=og(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=HS),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ik(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QS}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return An.Connecting;case jr.open:return An.Open;case jr.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ec(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(gt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(GS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(gt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ik{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Cc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ok extends Cc{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ou extends Cc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ak=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ag=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>Vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lk=()=>ak(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield We(()=>Promise.resolve().then(()=>Vr),void 0)).Response:Response}),au=e=>{if(Array.isArray(e))return e.map(n=>au(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=au(r)}),t};var Gn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uk=(e,t,n)=>Gn(void 0,void 0,void 0,function*(){const r=yield lk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new ok(Ha(s),e.status||500))}).catch(s=>{t(new ou(Ha(s),s))}):t(new ou(Ha(e),e))}),ck=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ei(e,t,n,r,s,i){return Gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,ck(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uk(l,a,r))})})}function bo(e,t,n,r){return Gn(this,void 0,void 0,function*(){return ei(e,"GET",t,n,r)})}function Xt(e,t,n,r,s){return Gn(this,void 0,void 0,function*(){return ei(e,"POST",t,r,s,n)})}function dk(e,t,n,r,s){return Gn(this,void 0,void 0,function*(){return ei(e,"PUT",t,r,s,n)})}function hk(e,t,n,r){return Gn(this,void 0,void 0,function*(){return ei(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function lg(e,t,n,r,s){return Gn(this,void 0,void 0,function*(){return ei(e,"DELETE",t,r,s,n)})}var Ve=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ag(s)}uploadOrUpdate(t,n,r,s){return Ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xh),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Xh.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Cc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=yield Xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}download(t,n){return Ve(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield bo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:au(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof ou){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fk),n),{prefix:t||""});return{data:yield Xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const mk="2.7.1",gk={"X-Client-Info":`storage-js/${mk}`};var Xn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class yk{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},gk),n),this.fetch=ag(r)}listBuckets(){return Xn(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Xn(this,void 0,void 0,function*(){try{return{data:yield dk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield Xt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}}class vk extends yk{constructor(t,n={},r){super(t,n,r)}from(t){return new pk(this.url,this.headers,t,this.fetch)}}const wk="2.50.0";let ss="";typeof Deno<"u"?ss="deno":typeof document<"u"?ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ss="react-native":ss="node";const xk={"X-Client-Info":`supabase-js-${ss}/${wk}`},_k={headers:xk},Sk={schema:"public"},kk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bk={};var jk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Tk=e=>{let t;return e?t=e:typeof fetch>"u"?t=W0:t=fetch,(...n)=>t(...n)},Pk=()=>typeof Headers>"u"?K0:Headers,Ek=(e,t,n)=>{const r=Tk(n),s=Pk();return(i,o)=>jk(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Ck=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Nk(e){return e.endsWith("/")?e:e+"/"}function Ak(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ck(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ug="2.70.0",nr=30*1e3,lu=3,Wa=lu*nr,Rk="http://localhost:9999",Ok="supabase.auth.token",Lk={"X-Client-Info":`gotrue-js/${ug}`},uu="X-Supabase-Api-Version",cg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ik=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dk=6e5;class Nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function F(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mk extends Nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $k(e){return F(e)&&e.name==="AuthApiError"}class dg extends Nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Sn extends Nc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Kt extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vk(e){return F(e)&&e.name==="AuthSessionMissingError"}class ki extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends Sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ji extends Sn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uk(e){return F(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yh extends Sn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cu extends Sn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ka(e){return F(e)&&e.name==="AuthRetryableFetchError"}class Zh extends Sn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ws extends Sn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ef=` 	
\r=`.split(""),Fk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ef.length;t+=1)e[ef[t].charCodeAt(0)]=-2;for(let t=0;t<jo.length;t+=1)e[jo[t].charCodeAt(0)]=t;return e})();function tf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jo[r]),t.queuedBits-=6}}function hg(e,t,n){const r=Fk[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qk(o,r,n)};for(let o=0;o<e.length;o+=1)hg(e.charCodeAt(o),s,i);return t.join("")}function zk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zk(r,t)}}function qk(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)hg(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Wk(e){const t=[];return Bk(e,n=>t.push(n)),new Uint8Array(t)}function Kk(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>tf(s,n,r)),tf(null,n,r),t.join("")}function Qk(e){return Math.round(Date.now()/1e3)+e}function Gk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},xs=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function Jk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const fg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>We(async()=>{const{default:r}=await Promise.resolve().then(()=>Vr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ti=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pi=async(e,t)=>{await e.removeItem(t)};class ra{constructor(){this.promise=new ra.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ra.promiseConstructor=Promise;function Qa(e){const t=e.split(".");if(t.length!==3)throw new ws("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ik.test(t[r]))throw new ws("JWT not in base64url format");return{header:JSON.parse(nf(t[0])),payload:JSON.parse(nf(t[1])),signature:Hk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zk(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function eb(e){return("0"+e.toString(16)).substr(-2)}function tb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,eb).join("")}async function nb(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nb(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(e,t,n=!1){const r=tb();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pg(e,`${t}-code-verifier`,s);const i=await rb(r);return[i,r===i?"plain":"s256"]}const sb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ib(e){const t=e.headers.get(uu);if(!t||!t.match(sb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ob(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ab(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zn(e){if(!lb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ub=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cb=[502,503,504];async function rf(e){var t;if(!Xk(e))throw new cu(Nn(e),0);if(cb.includes(e.status))throw new cu(Nn(e),e.status);let n;try{n=await e.json()}catch(i){throw new dg(Nn(i),i)}let r;const s=ib(e);if(s&&s.getTime()>=cg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zh(Nn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zh(Nn(n),e.status,n.weak_password.reasons);throw new Mk(Nn(n),e.status||500,r)}const db=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[uu]||(i[uu]=cg["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hb(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function hb(e,t,n,r,s,i){const o=db(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new cu(Nn(l),0)}if(a.ok||await rf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await rf(l)}}function Et(e){var t;let n=null;gb(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Qk(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sf(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function en(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fb(e){return{data:e,error:null}}function pb(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ub(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mb(e){return e}function gb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ga=["global","local","others"];var yb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class vb{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ga[0]){if(Ga.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=yb(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(F(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:en})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mb});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zn(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:en})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zn(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Zn(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Zn(t.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zn(t.userId),Zn(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}const wb={getItem:e=>xs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xs()&&globalThis.localStorage.removeItem(e)}};function of(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function xb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const er={debug:!!(globalThis&&xs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _b extends mg{}async function Sb(e,t,n){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _b(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xb();const kb={url:Rk,storageKey:Ok,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function af(e,t,n){return await n()}class Fs{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fs.nextInstanceID,Fs.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kb),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fg(s.fetch),this.lock=s.lock||af,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Sb:this.lock=af,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xs()?this.storage=wb:(this.memoryStorage={},this.storage=of(this.memoryStorage)):(this.memoryStorage={},this.storage=of(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ug}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Jk(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Uk(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return F(n)?{error:n}:{error:new dg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Yn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:w},xform:Et})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sf})}else throw new bi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ki}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,f,g;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:_,wallet:y,statement:p,options:m}=t;let x;if(ft())if(typeof y=="object")x=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))x=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const b=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:_,error:y}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Kk(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Et});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ki}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(F(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Ti(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Et});if(await Pi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ki}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Yn(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bi("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Yn(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fb})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Kt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(F(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bi("You must provide either an email or phone number and a type")}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Wa:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:en}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:en})})}catch(n){if(F(n))return Vk(n)&&(await this._removeSession(),await Pi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Kt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Yn(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:en});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Qa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(F(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ft())throw new ji("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ji(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yh("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ji("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const g=f-c;g*1e3<=nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=f-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(F(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!($k(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Pi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Gk(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Yn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(F(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zk(async s=>(s>0&&await Yk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ka(i)&&Date.now()+o-r<nr})}catch(r){if(this._debug(n,"error",r),F(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ti(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wa;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wa}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ka(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ra;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={session:null,error:i};return Ka(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Pi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nr}ms, refresh threshold is ${lu} ticks`),s<=lu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(F(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Qa(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Dk>Date.now()))return r;const{data:s,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ws("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new ws("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Qa(r);if(ob(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=ab(s.alg),c=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Wk(`${a}.${l}`)))throw new ws("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}Fs.nextInstanceID=0;const bb=Fs;class jb extends bb{constructor(t){super(t)}}var Tb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Pb{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Nk(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Sk,realtime:bk,auth:Object.assign(Object.assign({},kk),{storageKey:u}),global:_k},h=Ak(r??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ek(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new xS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vk(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Tb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jb({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new sk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eb=(e,t,n)=>new Pb(e,t,n),Cb="https://rbidkexibeuznwoeycns.supabase.co",Nb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJiaWRrZXhpYmV1em53b2V5Y25zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4OTI2MTUsImV4cCI6MjA2NTQ2ODYxNX0.HykdxqGI5v7j7TKAAXGSXRW3SZAwzy_rODkyPbQlJ8U",K=Eb(Cb,Nb),gg=k.createContext(void 0),Fr=()=>{const e=k.useContext(gg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Ab=({children:e})=>{const[t,n]=k.useState(null),[r,s]=k.useState(null),[i,o]=k.useState(!0);k.useEffect(()=>{K.auth.getSession().then(({data:{session:v}})=>{s(v),n((v==null?void 0:v.user)??null),o(!1)});const{data:{subscription:w}}=K.auth.onAuthStateChange(async(v,_)=>{s(_),n((_==null?void 0:_.user)??null),o(!1),(v==="SIGNED_OUT"||v==="TOKEN_REFRESHED")&&console.log("Auth state changed:",v)});return()=>w.unsubscribe()},[]);const a=async()=>{const{data:{session:w}}=await K.auth.getSession();w&&(s(w),n(w.user))},g={user:t,session:r,loading:i,signUp:async(w,v,_)=>{try{const{data:y,error:p}=await K.from("users").select("email").eq("email",w.trim()).maybeSingle();return y?{error:null,userExists:!0}:p?{error:p}:{error:null,needsQuiz:!0,tempData:{email:w.trim(),password:v,name:_.trim(),timestamp:new Date().toISOString()}}}catch(y){return{error:y}}},signIn:async(w,v)=>{const{data:_,error:y}=await K.auth.signInWithPassword({email:w,password:v});return!y&&_.user&&(console.log("Login successful, user:",_.user.email),sessionStorage.clear(),localStorage.removeItem("appState")),{error:y}},signOut:async()=>{var w,v,_,y;try{s(null),n(null);const{error:p}=await K.auth.signOut();if(p){if((w=p.message)!=null&&w.includes("session_not_found")||(v=p.message)!=null&&v.includes("Session from session_id claim in JWT does not exist")||(_=p.message)!=null&&_.includes("Invalid session")||(y=p.message)!=null&&y.includes("Auth session missing!")||p.status===403){console.log("Session already invalidated or expired, user effectively logged out");return}console.error("Logout error (but local state cleared):",p);return}console.log("Successfully logged out")}catch(p){console.error("Unexpected logout error (but local state cleared):",p)}},completeSignupQuiz:async(w,v)=>{try{const{data:_,error:y}=await K.auth.signUp({email:w.email,password:w.password,options:{data:{name:w.name}}});if(y)return{error:y};if(!_.user)return{error:new Error("アカウント作成に失敗しました")};console.log("Account created successfully, user:",_.user.email);const{error:p}=await K.from("users").insert([{id:_.user.id,name:w.name,email:w.email}]);if(p)return console.error("Error inserting user data:",p),await K.auth.admin.deleteUser(_.user.id),{error:p};const m=v.map(S=>({user_id:_.user.id,question_id:S.question_id,answer_value:S.answer_value})),{error:x}=await K.from("answers").insert(m);return x?(console.error("Error inserting answers:",x),await K.auth.admin.deleteUser(_.user.id),await K.from("users").delete().eq("id",_.user.id),{error:x}):(sessionStorage.clear(),localStorage.removeItem("appState"),{error:null})}catch(_){return{error:_}}},updateUserProfile:async w=>{if(!t)return{error:new Error("ユーザーが認証されていません")};try{const{error:v}=await K.from("users").update({name:w.trim()}).eq("id",t.id);if(v)return{error:v};const{error:_}=await K.auth.updateUser({data:{name:w.trim()}});return _&&console.warn("Auth metadata update failed:",_),await a(),{error:null}}catch(v){return{error:v}}},refreshUser:a};return d.jsx(gg.Provider,{value:g,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>k.createElement("svg",{ref:c,...Rb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ob(e)}`,a].join(" "),...u},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Kb extends Po.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-100 via-orange-50 to-yellow-100 flex items-center justify-center p-4",children:d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full text-center",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-red-400 to-orange-500 rounded-full mb-6",children:d.jsx(Lb,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"エラーが発生しました"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"アプリケーションでエラーが発生しました。ページを再読み込みしてください。"}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-red-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(_g,{className:"w-5 h-5"}),"ページを再読み込み"]}),this.state.error&&d.jsxs("details",{className:"mt-4 text-left",children:[d.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"エラー詳細"}),d.jsx("pre",{className:"text-xs text-gray-400 mt-2 p-2 bg-gray-100 rounded overflow-auto",children:this.state.error.message})]})]})}):this.props.children}}const Qb=[{id:1,question_text:"休日は家でゆっくり過ごすのが好きですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"人と話すことでエネルギーを得られますか？",category:"communication",created_at:new Date().toISOString()},{id:3,question_text:"計画を立てて行動するのが好きですか？",category:"planning",created_at:new Date().toISOString()},{id:4,question_text:"周りの人の気持ちを察するのが得意ですか？",category:"empathy",created_at:new Date().toISOString()},{id:5,question_text:"お互いの時間を大切にすることは重要ですか？",category:"respect",created_at:new Date().toISOString()},{id:6,question_text:"価値観の違いを受け入れることができますか？",category:"values",created_at:new Date().toISOString()},{id:7,question_text:"デートは事前に計画を立てて楽しみたいですか？",category:"romance",created_at:new Date().toISOString()},{id:8,question_text:"パートナーとは頻繁に連絡を取り合いたいですか？",category:"communication",created_at:new Date().toISOString()},{id:9,question_text:"恋人の前では素の自分を出せるタイプですか？",category:"authenticity",created_at:new Date().toISOString()},{id:10,question_text:"パートナーの趣味や興味に合わせるのが好きですか？",category:"adaptation",created_at:new Date().toISOString()},{id:11,question_text:"恋愛においてロマンチックなサプライズを重視しますか？",category:"romance",created_at:new Date().toISOString()},{id:12,question_text:"恋人とは友達のような関係性を築きたいですか？",category:"relationship",created_at:new Date().toISOString()},{id:13,question_text:"束縛されるより自由な関係を好みますか？",category:"freedom",created_at:new Date().toISOString()},{id:14,question_text:"喧嘩をしたらすぐに仲直りしたいタイプですか？",category:"conflict",created_at:new Date().toISOString()},{id:15,question_text:"長期的な関係を築くことを大切にしたいですか？",category:"commitment",created_at:new Date().toISOString()}],Bs=["強くそう思う","そう思う","どちらでもない","あまりそう思わない","全くそう思わない"],$t=Object.freeze(Object.defineProperty({__proto__:null,answerLabels:Bs,questions:Qb},Symbol.toStringTag,{value:"Module"})),Gb=({userName:e,onComplete:t,onCancel:n})=>{const[r,s]=k.useState(0),[i,o]=k.useState([]),[a,l]=k.useState(!0),[u,c]=k.useState([]),[h,f]=k.useState(!1),[g,w]=k.useState(null),[v,_]=k.useState(!1);Po.useEffect(()=>{(async()=>{console.log("[SignupQuiz] Starting to fetch questions..."),l(!0);try{const{data:j,error:P}=await K.from("questions").select("*").order("id");if(console.log("[SignupQuiz] Supabase response:",{data:j,error:P}),P){console.log("[SignupQuiz] Error fetching questions from database:",P);const{questions:E}=await We(async()=>{const{questions:R}=await Promise.resolve().then(()=>$t);return{questions:R}},void 0);console.log("[SignupQuiz] Using local questions as fallback:",E),o(E)}else if(j&&j.length>0)console.log("[SignupQuiz] Successfully fetched questions from database:",j),o(j);else{console.log("[SignupQuiz] No questions found in database, using local fallback");const{questions:E}=await We(async()=>{const{questions:R}=await Promise.resolve().then(()=>$t);return{questions:R}},void 0);console.log("[SignupQuiz] Using local questions as fallback:",E),o(E)}}catch(j){console.log("[SignupQuiz] Unexpected error fetching questions:",j);try{const{questions:P}=await We(async()=>{const{questions:E}=await Promise.resolve().then(()=>$t);return{questions:E}},void 0);console.log("[SignupQuiz] Using local questions as fallback after error:",P),o(P)}catch(P){console.log("[SignupQuiz] Failed to import local questions:",P);const E=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];console.log("[SignupQuiz] Using hardcoded questions as final fallback:",E),o(E)}}finally{console.log("[SignupQuiz] Questions loading completed"),l(!1)}})()},[]);const y=async b=>{if(!h){f(!0),w(b);try{await new Promise(E=>setTimeout(E,600));const j={id:r+1,user_id:"",question_id:r+1,answer_value:b,created_at:new Date().toISOString()},P=[...u,j];c(P),r<i.length-1?(s(r+1),f(!1),w(null)):(_(!0),await new Promise(E=>setTimeout(E,800)),t(P))}catch(j){console.error("回答の保存に失敗しました:",j),f(!1),w(null)}}},p=()=>{r>0&&!h&&(s(r-1),c(u.slice(0,-1)),w(null))},m=i[r],x=(r+1)/i.length*100,S=r===i.length-1;return a?d.jsx("div",{className:"max-h-screen overflow-y-auto",children:d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-green-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})})}):i.length===0?d.jsx("div",{className:"max-h-screen overflow-y-auto",children:d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-red-600 mb-4",children:"質問データの読み込みに失敗しました"}),d.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"戻る"})]})})}):d.jsxs("div",{className:"max-h-screen overflow-y-auto",children:[v&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center",children:d.jsxs(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center max-w-sm mx-4",children:[d.jsx(T.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-green-200 border-t-green-500 rounded-full mb-4"}),d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"アカウントを作成中"}),d.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"回答内容を保存してアカウントを作成しています..."}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(T.div,{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"easeInOut"}})})]})}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl max-w-md w-full mx-auto relative my-4 ${h||v?"pointer-events-none":""}`,children:[h&&d.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(T.div,{className:"h-full bg-gradient-to-r from-green-400 to-blue-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.6,ease:"easeInOut"}})}),d.jsx("button",{onClick:n,disabled:h||v,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(zs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-3 bg-gradient-to-r from-green-400 to-blue-500 rounded-full mb-3",children:d.jsx(qn,{className:"w-6 h-6 text-white"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"プロフィール設定"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[e,"さん、質問に答えてアカウントを作成しましょう"]}),d.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:d.jsx("p",{className:"text-xs text-blue-700",children:"⚠️ 質問回答完了後にアカウントが作成されます"})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["質問 ",r+1," / ",i.length]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Math.round(x),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(T.div,{className:"bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${x}%`},transition:{duration:.5}})})]}),d.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"text-center mb-6",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3 leading-relaxed",children:m.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"あなたの気持ちに最も近いものを選んでください"})]},r),d.jsx("div",{className:"space-y-2 mb-6",children:Bs.map((b,j)=>{const P=g===j+1,E=h||v;return d.jsxs(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+j*.05},whileHover:E?{}:{scale:1.02},whileTap:E?{}:{scale:.98},onClick:()=>y(j+1),disabled:E,className:`w-full p-3 rounded-xl border-2 transition-all duration-200 text-left relative ${P?"border-green-400 bg-green-50 shadow-lg":E?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":j===0?"border-red-200 hover:border-red-300 hover:bg-red-50":j===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":j===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":j===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center ${P?"border-green-400 bg-green-400":j===0?"border-red-300":j===1?"border-orange-300":j===2?"border-gray-300":j===3?"border-blue-300":"border-green-300"}`,children:P&&d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(sa,{className:"w-3 h-3 text-white"})})}),d.jsx("span",{className:`font-medium text-gray-700 text-sm ${P?"text-green-700":""}`,children:b})]}),P&&h&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx(fn,{className:"w-4 h-4 text-green-500 animate-spin"})})]},j)})}),h&&d.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(fn,{className:"w-4 h-4 text-green-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-green-700",children:S?"アカウントを作成中...":"回答を保存中..."})]}),d.jsx("p",{className:"text-xs text-green-600 text-center mt-1",children:S?"しばらくお待ちください":"次の質問に進むまでお待ちください"})]}),d.jsxs("div",{className:"flex gap-2",children:[r>0&&d.jsxs(T.button,{initial:{opacity:0},animate:{opacity:1},onClick:p,disabled:h||v,className:"flex-1 bg-gray-100 text-gray-600 font-semibold py-3 px-4 rounded-xl hover:bg-gray-200 transition-all duration-300 flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(yg,{className:"w-4 h-4"}),"前の質問"]}),d.jsx("button",{onClick:n,disabled:h||v,className:"flex-1 bg-red-100 text-red-600 font-semibold py-3 px-4 rounded-xl hover:bg-red-200 transition-all duration-300 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"キャンセル"})]})]})]})},kg=({isOpen:e,onClose:t,mode:n,onModeChange:r})=>{const[s,i]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[c,h]=k.useState(!1),[f,g]=k.useState(!1),[w,v]=k.useState(""),[_,y]=k.useState(!1),[p,m]=k.useState(null),{signIn:x,signUp:S,completeSignupQuiz:b}=Fr(),j=async q=>{q.preventDefault(),g(!0),v("");try{if(n==="signup"){const{error:J,needsQuiz:N,tempData:Y,userExists:B}=await S(s,o,l);if(B){v("このメールアドレスは既に登録されています。ログインしてください。"),setTimeout(()=>{R("signin")},2e3);return}J?v(J.message):N&&Y&&(m(Y),y(!0))}else{const{error:J}=await x(s,o);J?v(J.message):(E(),t())}}catch{v("予期しないエラーが発生しました")}finally{g(!1)}},P=async q=>{if(p){g(!0),v("");try{const{error:J}=await b(p,q);J?(v("アカウント作成に失敗しました: "+J.message),y(!1)):(E(),y(!1),t())}catch{v("予期しないエラーが発生しました"),y(!1)}finally{g(!1)}}},E=()=>{i(""),a(""),u(""),v(""),h(!1),y(!1),m(null)},R=q=>{E(),r(q)},G=()=>{E(),t()};return e?_&&p?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsx("div",{className:"w-full max-w-2xl max-h-screen overflow-hidden",children:d.jsx(Gb,{userName:p.name,onComplete:P,onCancel:()=>{y(!1),v("")}})})}):d.jsx(ko,{children:d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:G,children:d.jsx("div",{className:"w-full max-w-md max-h-screen overflow-y-auto",children:d.jsxs(T.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl p-6 shadow-2xl relative my-4",onClick:q=>q.stopPropagation(),children:[d.jsx("button",{onClick:G,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(zs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"inline-block p-3 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full mb-3",children:d.jsx(qn,{className:"w-6 h-6 text-white"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:n==="signup"?"アカウント作成":"ログイン"}),d.jsx("p",{className:"text-sm text-gray-600",children:n==="signup"?"新しいアカウントを作成して相性診断を始めましょう":"アカウントにログインして相性診断を続けましょう"})]}),d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n==="signup"&&d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"お名前"}),d.jsxs("div",{className:"relative",children:[d.jsx(qn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",value:l,onChange:q=>u(q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例: 田中花子",required:!0})]})]}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.3:.2},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),d.jsxs("div",{className:"relative",children:[d.jsx(xg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",value:s,onChange:q=>i(q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例: hanako@example.com",required:!0})]})]}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.4:.3},children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード"}),d.jsxs("div",{className:"relative",children:[d.jsx(vg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:c?"text":"password",value:o,onChange:q=>a(q.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"パスワードを入力",required:!0,minLength:6}),d.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:c?d.jsx(Mb,{className:"w-4 h-4 text-gray-400"}):d.jsx($b,{className:"w-4 h-4 text-gray-400"})})]}),n==="signup"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"パスワードは6文字以上で入力してください"})]}),w&&d.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-xl p-3",children:d.jsx("p",{className:"text-sm text-red-600",children:w})}),d.jsx(T.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n==="signup"?.6:.4},whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-pink-400 to-purple-500 text-white font-semibold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:f?d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"処理中..."]}):n==="signup"?"質問に回答":"ログイン"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[n==="signup"?"すでにアカウントをお持ちですか？":"アカウントをお持ちでない方は",d.jsx("button",{onClick:()=>R(n==="signup"?"signin":"signup"),className:"ml-1 text-purple-600 hover:text-purple-700 font-medium transition-colors",children:n==="signup"?"ログイン":"アカウント作成"})]})}),d.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[d.jsx("h4",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"アカウント作成の特典"}),d.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 text-left",children:[d.jsx("li",{children:"• 診断結果の保存・履歴確認"}),d.jsx("li",{children:"• 複数の相手との相性比較"}),d.jsx("li",{children:"• 詳細な分析レポート"}),d.jsx("li",{children:"• パーソナライズされた提案"})]})]})]})})})}):null},Jb=({isOpen:e,onClose:t,onStartReAnswer:n})=>{const{user:r,signOut:s,updateUserProfile:i}=Fr(),[o,a]=k.useState(null),[l,u]=k.useState(!1),[c,h]=k.useState(""),[f,g]=k.useState(!1),[w,v]=k.useState("");k.useEffect(()=>{r&&e&&_()},[r,e]);const _=async()=>{var b,j;if(r)try{const{data:P,error:E}=await K.from("users").select("*").eq("id",r.id).maybeSingle();if(E){console.error("Error fetching user data:",E),v("ユーザーデータの取得に失敗しました");return}if(P)a(P),h(P.name);else{console.log("ユーザーデータが見つかりません。認証情報から作成します。");const R={id:r.id,name:((b=r.user_metadata)==null?void 0:b.name)||((j=r.email)==null?void 0:j.split("@")[0])||"ユーザー",email:r.email||"",created_at:r.created_at||new Date().toISOString()},{error:G}=await K.from("users").insert([R]);G?(console.error("Error creating user data:",G),v("ユーザーデータの作成に失敗しました")):(a(R),h(R.name))}}catch(P){console.error("Unexpected error:",P),v("予期しないエラーが発生しました")}},y=async()=>{if(!(!r||!c.trim())){g(!0),v("");try{const{error:b}=await i(c.trim());if(b)v("プロフィールの更新に失敗しました: "+b.message);else{const j={...o,name:c.trim()};a(j),u(!1),v("")}}catch{v("予期しないエラーが発生しました")}finally{g(!1)}}},p=async()=>{await s(),t()},m=()=>{console.log("handleReAnswer called"),n?(console.log("Calling onStartReAnswer"),n()):console.log("onStartReAnswer is not defined")},x=()=>{l&&o&&(h(o.name),u(!1)),v(""),t()},S=()=>{u(!1),h((o==null?void 0:o.name)||""),v("")};return!e||!r?null:o?d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-3 z-50",onClick:x,children:d.jsxs(T.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm mx-auto relative overflow-hidden",onClick:b=>b.stopPropagation(),style:{maxHeight:"90vh"},children:[d.jsxs("div",{className:"relative p-6 pb-4",children:[d.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors z-10",style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(zs,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"text-center pr-12",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full mb-4",children:d.jsx(qn,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"プロフィール"})]})]}),d.jsxs("div",{className:"px-6 pb-6 space-y-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 140px)"},children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"お名前"}),l?d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",value:c,onChange:b=>h(b.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"お名前を入力",disabled:f,style:{fontSize:"16px"}}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:y,disabled:f||!c.trim()||c.trim()===o.name,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm font-medium",children:f?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Bb,{className:"w-4 h-4"}),"保存"]})}),d.jsxs("button",{onClick:S,disabled:f,className:"flex-1 px-4 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors disabled:opacity-50 text-sm font-medium flex items-center justify-center gap-2",children:[d.jsx(zs,{className:"w-4 h-4"}),"キャンセル"]})]})]}):d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[d.jsx(qn,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 truncate",children:o.name})]}),d.jsx("button",{onClick:()=>u(!0),className:"p-2 hover:bg-gray-200 rounded-full transition-colors flex-shrink-0 ml-2",children:d.jsx(Fb,{className:"w-4 h-4 text-gray-500"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),d.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[d.jsx(xg,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 truncate text-sm",children:o.email})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"登録日"}),d.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[d.jsx(Ib,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-800 text-sm",children:new Date(o.created_at).toLocaleDateString("ja-JP")})]})]}),w&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:d.jsx("p",{className:"text-sm text-red-600",children:w})}),d.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"w-full bg-gradient-to-r from-blue-400 to-purple-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 mb-4",children:[d.jsx(Ub,{className:"w-5 h-5"}),"質問に再回答"]}),d.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:p,className:"w-full bg-gradient-to-r from-red-400 to-red-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(Vb,{className:"w-5 h-5"}),"ログアウト"]})]})]})}):d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-3 z-50",onClick:x,children:d.jsx(T.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white rounded-3xl p-6 shadow-2xl w-full max-w-sm mx-auto relative",onClick:b=>b.stopPropagation(),children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"プロフィールを読み込み中..."})]})})})},Xb=({onHomeClick:e})=>{const{user:t,loading:n}=Fr(),[r,s]=k.useState(!1),[i,o]=k.useState("signin"),[a,l]=k.useState(!1),[u,c]=k.useState("");k.useEffect(()=>{(async()=>{var _,y,p,m,x,S;if(t)try{const{data:b,error:j}=await K.from("users").select("name").eq("id",t.id).maybeSingle();if(j){console.error("Error fetching user name:",j);const P=((_=t.user_metadata)==null?void 0:_.name)||((y=t.email)==null?void 0:y.split("@")[0])||"ユーザー";c(P)}else if(b)c(b.name);else{const P=((p=t.user_metadata)==null?void 0:p.name)||((m=t.email)==null?void 0:m.split("@")[0])||"ユーザー";c(P)}}catch(b){console.error("Unexpected error fetching user name:",b);const j=((x=t.user_metadata)==null?void 0:x.name)||((S=t.email)==null?void 0:S.split("@")[0])||"ユーザー";c(j)}else c("")})()},[t]);const h=()=>{o("signin"),s(!0)},f=()=>{o("signup"),s(!0)},g=()=>{e&&e()},w=()=>{l(!0)};return n?d.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"H.MNK"})}),d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})]})})}):d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:g,className:"flex items-center hover:opacity-80 transition-opacity cursor-pointer",children:d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"H.MNK"})}),d.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:t?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:w,className:"text-base font-medium transition-colors duration-200 hover:opacity-80",style:{color:"#333333",fontSize:"16px"},children:[u,"さん"]}),d.jsx("button",{onClick:()=>l(!0),className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full hover:shadow-lg transition-all duration-300",children:d.jsx(qn,{className:"w-5 h-5"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:h,className:"flex items-center justify-center transition-all duration-200 hover:opacity-80",style:{width:"24px",height:"24px"},children:d.jsx(wg,{className:"text-gray-600",style:{width:"24px",height:"24px"}})}),d.jsx("button",{onClick:f,className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full hover:shadow-lg transition-all duration-300",children:d.jsx(qn,{className:"w-5 h-5"})})]})})]})})}),d.jsx(kg,{isOpen:r,onClose:()=>s(!1),mode:i,onModeChange:o}),d.jsx(Jb,{isOpen:a,onClose:()=>l(!1),onStartReAnswer:()=>{console.log("Header: onStartReAnswer called"),l(!1),console.log("Header: Dispatching startReAnswer event"),window.dispatchEvent(new CustomEvent("startReAnswer"))}})]})},tr=({children:e,message:t="この機能を利用するにはログインが必要です"})=>{const{user:n,loading:r}=Fr(),[s,i]=k.useState(!1),[o,a]=k.useState("signin");return r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]})}):n?d.jsx(d.Fragment,{children:e}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center p-4",children:d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full text-center",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-orange-400 to-red-500 rounded-full mb-6",children:d.jsx(vg,{className:"w-8 h-8 text-white"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"ログインが必要です"}),d.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:t}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{a("signin"),i(!0)},className:"w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(wg,{className:"w-5 h-5"}),"ログイン"]}),d.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{a("signup"),i(!0)},className:"w-full bg-white border-2 border-purple-400 text-purple-600 font-semibold py-4 px-6 rounded-xl hover:bg-purple-50 transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(Wb,{className:"w-5 h-5"}),"新規登録"]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[d.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"アカウント作成の特典"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[d.jsx("li",{children:"• 診断結果の保存・履歴確認"}),d.jsx("li",{children:"• 複数の相手との相性比較"}),d.jsx("li",{children:"• 詳細な分析レポート"}),d.jsx("li",{children:"• パーソナライズされた提案"})]})]})]})}),d.jsx(kg,{isOpen:s,onClose:()=>i(!1),mode:o,onModeChange:a})]})},Yb=({onStart:e})=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center p-4",children:d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-md mx-auto",children:[d.jsx(T.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx(zi,{className:"w-24 h-24 text-pink-400 mx-auto mb-4",fill:"currentColor"}),d.jsx(oe,{className:"w-8 h-8 text-yellow-400 absolute -top-2 -right-2 animate-pulse"})]})}),d.jsx(T.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-4xl font-bold text-gray-800 mb-4",children:"H.MNK"}),d.jsx(T.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-lg text-gray-600 mb-2",children:"あなたとお相手の"}),d.jsx(T.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-xl font-semibold text-purple-600 mb-8",children:"相性をチェックしよう！"}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"space-y-4",children:[d.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"診断について"}),d.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left",children:[d.jsx("li",{children:"• 15問の質問に答えるだけ"}),d.jsx("li",{children:"• 5段階評価で簡単回答"}),d.jsx("li",{children:"• 2人の回答を比較して相性スコアを算出"}),d.jsx("li",{children:"• 結果はすぐに確認できます"})]})]}),d.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-full bg-gradient-to-r from-pink-400 to-purple-500 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:"診断を始める"})]})]})}),Zb=({onUsersSelected:e,currentUser:t})=>{const[n,r]=k.useState([]),[s,i]=k.useState(null),[o,a]=k.useState(null),[l,u]=k.useState(""),[c,h]=k.useState(!0),[f,g]=k.useState(""),[w,v]=k.useState([]),[_,y]=k.useState(!0),[p,m]=k.useState(!1);k.useEffect(()=>{S(),x()},[]);const x=async()=>{console.log("[UserSelection] Starting to fetch questions..."),y(!0);try{const{data:N,error:Y}=await K.from("questions").select("*").order("id");if(console.log("[UserSelection] Supabase response:",{data:N,error:Y}),Y){console.log("[UserSelection] Error fetching questions from database:",Y);const{questions:B}=await We(async()=>{const{questions:he}=await Promise.resolve().then(()=>$t);return{questions:he}},void 0);console.log("[UserSelection] Using local questions as fallback:",B),v(B)}else if(N&&N.length>0)console.log("[UserSelection] Successfully fetched questions from database:",N),v(N);else{console.log("[UserSelection] No questions found in database, using local fallback");const{questions:B}=await We(async()=>{const{questions:he}=await Promise.resolve().then(()=>$t);return{questions:he}},void 0);console.log("[UserSelection] Using local questions as fallback:",B),v(B)}}catch(N){console.log("[UserSelection] Unexpected error fetching questions:",N);try{const{questions:Y}=await We(async()=>{const{questions:B}=await Promise.resolve().then(()=>$t);return{questions:B}},void 0);console.log("[UserSelection] Using local questions as fallback after error:",Y),v(Y)}catch(Y){console.log("[UserSelection] Failed to import local questions:",Y);const B=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];console.log("[UserSelection] Using hardcoded questions as final fallback:",B),v(B)}}finally{console.log("[UserSelection] Questions loading completed"),y(!1)}},S=async()=>{h(!0),g("");try{const{data:N,error:Y}=await K.from("users").select("*").order("created_at",{ascending:!1});if(Y){g("ユーザー一覧の取得に失敗しました");return}const B=await Promise.all((N||[]).map(async he=>{const{data:A}=await K.from("answers").select("id").eq("user_id",he.id);return{...he,hasAnswers:((A==null?void 0:A.length)||0)===w.length,answerCount:(A==null?void 0:A.length)||0}}));r(B)}catch{g("予期しないエラーが発生しました")}finally{h(!1)}},b=n.filter(N=>N.name.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase())),j=(N,Y)=>{Y===1?(i(N),(o==null?void 0:o.id)===N.id&&a(null)):(a(N),(s==null?void 0:s.id)===N.id&&i(null))},P=async()=>{if(s&&o){m(!0);try{await new Promise(N=>setTimeout(N,2500)),m(!1),e(s,o)}catch(N){m(!1),console.error("診断処理でエラーが発生しました:",N)}}},E=N=>(s==null?void 0:s.id)===N.id||(o==null?void 0:o.id)===N.id,R=N=>(s==null?void 0:s.id)===N.id?"1人目":(o==null?void 0:o.id)===N.id?"2人目":null,G=N=>N.hasAnswers?d.jsx(uf,{className:"w-4 h-4 text-green-500"}):N.answerCount>0?d.jsx(lf,{className:"w-4 h-4 text-yellow-500"}):null,q=N=>N.hasAnswers?"回答済み":N.answerCount>0?`${N.answerCount}/${w.length}問回答済み`:"未回答",J=()=>!s||!o?"2人のユーザーを選択してください":s.hasAnswers&&o.hasAnswers?`${s.name} と ${o.name} の相性診断結果を表示`:`${s.name} と ${o.name} の相性診断を開始`;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 p-4",children:[d.jsx(ko,{children:p&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs(T.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-sm w-full mx-auto text-center",children:[d.jsx(T.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full mx-auto mb-6"}),d.jsx(T.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl font-bold text-gray-800 mb-2",children:"診断中です..."}),d.jsxs(T.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-sm mb-4",children:[s==null?void 0:s.name,"さんと",o==null?void 0:o.name,"さんの",d.jsx("br",{}),"相性を分析しています"]}),d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:d.jsx(T.div,{className:"h-full bg-gradient-to-r from-purple-400 to-pink-500 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2.5,ease:"easeInOut"}})}),d.jsx(T.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-xs text-gray-500",children:"しばらくお待ちください..."})]})})}),d.jsxs("div",{className:"max-w-4xl mx-auto pt-20",children:[d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-block p-4 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full mb-4",children:d.jsx(Sg,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ユーザー選択"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"相性診断を行う2人のユーザーを選択してください"})]}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"選択状況"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex items-center p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl",children:[d.jsx("div",{className:"w-3 h-3 bg-pink-400 rounded-full mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"1人目"}),d.jsx("p",{className:"text-gray-800",children:s?s.name:"未選択"}),s&&d.jsxs("div",{className:"flex items-center mt-1",children:[G(s),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:q(s)})]})]})]}),d.jsxs("div",{className:"flex items-center p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"2人目"}),d.jsx("p",{className:"text-gray-800",children:o?o.name:"未選択"}),o&&d.jsxs("div",{className:"flex items-center mt-1",children:[G(o),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:q(o)})]})]})]})]})]}),d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(qb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"名前またはメールアドレスで検索..."}),d.jsx("button",{onClick:S,className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(_g,{className:"w-4 h-4 text-gray-500"})})]})}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["登録ユーザ一覧 (",b.length,"人)"]}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(uf,{className:"w-3 h-3 text-green-500 mr-1"}),"回答済み"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(lf,{className:"w-3 h-3 text-yellow-500 mr-1"}),"部分回答"]})]})]}),c?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"読み込み中..."})]}):f?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-red-600 mb-4",children:f}),d.jsx("button",{onClick:S,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"再試行"})]}):b.length===0?d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-600",children:l?"検索条件に一致するユーザーが見つかりません":"ユーザーが登録されていません"})}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:d.jsx(ko,{children:b.map((N,Y)=>d.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:Y*.05},className:`relative p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${E(N)?(s==null?void 0:s.id)===N.id?"border-pink-400 bg-pink-50":"border-blue-400 bg-blue-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-50"}`,children:[E(N)&&d.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold ${(s==null?void 0:s.id)===N.id?"bg-pink-400":"bg-blue-400"}`,children:d.jsx(sa,{className:"w-4 h-4"})}),d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-semibold text-gray-800",children:N.name}),G(N)]}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.email}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["登録日: ",new Date(N.created_at).toLocaleDateString("ja-JP")]}),d.jsx("p",{className:"text-xs text-gray-500",children:q(N)})]}),R(N)&&d.jsxs("div",{className:`text-xs font-medium mb-2 ${(s==null?void 0:s.id)===N.id?"text-pink-600":"text-blue-600"}`,children:[R(N),"として選択中"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>j(N,1),disabled:(o==null?void 0:o.id)===N.id,className:`flex-1 py-2 px-3 text-xs font-medium rounded-lg transition-colors ${(s==null?void 0:s.id)===N.id?"bg-pink-400 text-white":(o==null?void 0:o.id)===N.id?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-pink-100 text-pink-600 hover:bg-pink-200"}`,children:"1人目に選択"}),d.jsx("button",{onClick:()=>j(N,2),disabled:(s==null?void 0:s.id)===N.id,className:`flex-1 py-2 px-3 text-xs font-medium rounded-lg transition-colors ${(o==null?void 0:o.id)===N.id?"bg-blue-400 text-white":(s==null?void 0:s.id)===N.id?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:"2人目に選択"})]})]},N.id))})})]}),d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"text-center",children:d.jsx("button",{onClick:P,disabled:!s||!o||p,className:`px-8 py-4 font-semibold rounded-2xl shadow-lg transition-all duration-300 ${s&&o&&!p?"bg-gradient-to-r from-purple-400 to-pink-500 text-white hover:shadow-xl hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:p?"診断中...":J()})})]})]})},cf=({question:e,questionNumber:t,totalQuestions:n,onAnswer:r,userName:s})=>{const[i,o]=k.useState(!1),[a,l]=k.useState(null),u=async c=>{if(!i){o(!0),l(c);try{await new Promise(h=>setTimeout(h,800)),await r(c)}catch(h){console.error("回答の送信に失敗しました:",h),o(!1),l(null)}}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center p-4",children:[i&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:d.jsxs(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 shadow-2xl flex flex-col items-center",children:[d.jsx(fn,{className:"w-8 h-8 text-purple-500 animate-spin mb-3"}),d.jsx("p",{className:"text-gray-700 font-medium",children:"回答を保存中..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"しばらくお待ちください"})]})}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:`bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full relative ${i?"pointer-events-none":""}`,children:[i&&d.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(T.div,{className:"h-full bg-gradient-to-r from-purple-400 to-pink-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.8,ease:"easeInOut"}})}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s,"の回答"]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[t," / ",n]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(T.div,{className:"bg-gradient-to-r from-pink-400 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:`${t/n*100}%`},transition:{duration:.5}})})]}),d.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 leading-relaxed",children:e.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"あなたの気持ちに最も近いものを選んでください"})]}),d.jsx("div",{className:"space-y-3",children:Bs.map((c,h)=>{const f=a===h+1,g=i;return d.jsxs(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+h*.1},whileHover:g?{}:{scale:1.02},whileTap:g?{}:{scale:.98},onClick:()=>u(h+1),disabled:g,className:`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${f?"border-purple-400 bg-purple-50 shadow-lg":g?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":h===0?"border-red-200 hover:border-red-300 hover:bg-red-50":h===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":h===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":h===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${f?"border-purple-400 bg-purple-400":h===0?"border-red-300":h===1?"border-orange-300":h===2?"border-gray-300":h===3?"border-blue-300":"border-green-300"}`,children:f&&d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(sa,{className:"w-4 h-4 text-white"})})}),d.jsx("span",{className:`font-medium ${f?"text-purple-700":"text-gray-700"}`,children:c})]}),f&&i&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:d.jsx(fn,{className:"w-5 h-5 text-purple-500 animate-spin"})})]},h)})}),i&&d.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(fn,{className:"w-4 h-4 text-purple-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-purple-700",children:"回答を保存しています..."})]}),d.jsx("p",{className:"text-xs text-purple-600 text-center mt-1",children:"次の質問に進むまでお待ちください"})]})]})]})},ej=({user1Name:e,user2Name:t,compatibilityScore:n,onRestart:r,isSpecialCouple:s=!1})=>{const i=c=>c>=90?"from-pink-400 to-red-400":c>=80?"from-purple-400 to-pink-400":c>=70?"from-blue-400 to-purple-400":c>=60?"from-green-400 to-blue-400":"from-yellow-400 to-green-400",l=s?{title:"奇跡の相性！",message:"運命的な出会いです！",description:`${e}さんと${t}さんは、まさに理想的なパートナーシップを築くことができる組み合わせです。

お二人の相性の素晴らしさ：
• 価値観と人生観が驚くほど一致している
• お互いの長所を最大限に引き出し合える関係
• コミュニケーションが自然で心地よい
• 困難な時も支え合い、乗り越えていける強い絆

仕事面での相乗効果：
• 異なる専門性を活かした最強のチームワーク
• お互いの創造性を刺激し合い、革新的なアイデアを生み出す
• 目標に向かって共に成長し続けられる関係
• プロフェッショナルとしても人生のパートナーとしても理想的

将来への可能性：
お二人が歩む未来は、きっと多くの人に希望と勇気を与える素晴らしいものになるでしょう。互いを深く理解し、尊重し合いながら、共に夢を実現していく姿は、真の愛の形そのものです。

この出会いは偶然ではなく、必然だったのかもしれません。お二人の幸せな未来を心から応援しています！`}:(c=>c>=90?{title:"運命の相手！",message:"完璧な相性です！",description:"お二人は価値観や考え方が非常に似ており、自然体でいられる理想的な関係です。お互いの気持ちを直感的に理解し合えるため、深いコミュニケーションが可能です。この素晴らしい相性を活かして、共通の目標に向かって歩んでいくことで、さらに絆を深めることができるでしょう。定期的にお互いの成長について話し合い、感謝の気持ちを伝え合うことを心がけてください。"}:c>=80?{title:"最高の相性！",message:"とても素晴らしい関係です！",description:"お二人は多くの面で価値観が一致しており、お互いを深く理解し合える関係です。時には意見の違いもありますが、それがお互いの成長につながる良い刺激となっています。相手の意見に耳を傾け、違いを受け入れることで、より豊かな関係を築けます。お互いの趣味や興味を共有し、新しいことに一緒にチャレンジすることで、関係がさらに発展するでしょう。"}:c>=70?{title:"良い相性！",message:"お互いを理解し合えます！",description:"お二人は基本的な価値観が合っており、良好な関係を築ける相性です。時には考え方の違いを感じることもありますが、それは成長の機会でもあります。お互いの違いを認め合い、相手の立場に立って考えることを意識してください。定期的に心を開いて話し合う時間を作り、お互いの気持ちや考えを共有することで、理解がより深まります。小さな感謝の気持ちを日常的に表現することも大切です。"}:c>=60?{title:"まあまあの相性",message:"努力次第で良い関係に！",description:"お二人にはいくつかの違いがありますが、それは決して悪いことではありません。お互いの個性を尊重し、違いを学び合うことで、より豊かな関係を築くことができます。相手の考えを理解しようとする姿勢を大切にし、積極的にコミュニケーションを取ることが重要です。共通の趣味や活動を見つけて一緒に楽しむ時間を増やし、お互いの良いところを見つけて褒め合うことを心がけてください。忍耐と理解があれば、素晴らしい関係に発展する可能性があります。"}:{title:"異なる個性",message:"お互いから学ぶことがたくさん！",description:"お二人は異なる価値観や考え方を持っていますが、それは新しい発見と成長の機会に満ちています。相手の視点から物事を見ることで、自分では気づかなかった新しい世界が広がります。お互いの違いを批判するのではなく、学びの機会として捉えることが大切です。相手の良いところを積極的に見つけて認め合い、小さな共通点から関係を築いていきましょう。時間をかけてゆっくりとお互いを理解し合うことで、予想以上に深い絆を育むことができるかもしれません。"})(n),u=()=>d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:[[...Array(20)].map((c,h)=>d.jsx(T.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:Math.random()*(typeof window<"u"?window.innerHeight:800)},animate:{opacity:[0,.8,0],scale:[0,1.5,0],rotate:[0,360]},transition:{duration:3,delay:h*.2,repeat:1/0,repeatDelay:5},children:d.jsx(Hb,{className:"w-6 h-6 text-yellow-400",fill:"currentColor"})},h)),[...Array(15)].map((c,h)=>d.jsx(T.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:typeof window<"u"?window.innerHeight+50:850},animate:{opacity:[0,.8,0],scale:[0,1,0],y:-100},transition:{duration:4,delay:h*.3,repeat:1/0,repeatDelay:6},children:d.jsx(zi,{className:"w-8 h-8 text-pink-400",fill:"currentColor"})},`heart-${h}`)),[...Array(25)].map((c,h)=>d.jsx(T.div,{className:"absolute",style:{opacity:.8},initial:{opacity:0,scale:0,x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:typeof window<"u"?window.innerHeight+30:830},animate:{opacity:[0,.8,0],scale:[0,1.2,0],y:-80,rotate:[0,180,360]},transition:{duration:5,delay:h*.15,repeat:1/0,repeatDelay:7},children:d.jsx(oe,{className:"w-4 h-4 text-yellow-300"})},`sparkle-${h}`))]});return d.jsxs("div",{className:`min-h-screen flex items-center justify-center p-4 relative ${s?"bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100":"bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100"}`,children:[s&&d.jsx(u,{}),d.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:`backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-2xl w-full text-center relative z-10 ${s?"bg-white/90 border-4 border-yellow-300":"bg-white/80"}`,children:[s&&d.jsx(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5,type:"spring",stiffness:200},className:"absolute -top-8 left-1/2 transform -translate-x-1/2 z-20",children:d.jsx(Db,{className:"w-16 h-16 text-yellow-500",fill:"currentColor"})}),d.jsxs(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"relative mb-6 z-20",children:[d.jsxs("div",{className:"flex justify-center items-center",children:[d.jsx(zi,{className:`w-16 h-16 mx-2 ${s?"text-yellow-400":"text-pink-400"}`,fill:"currentColor"}),d.jsx(Sg,{className:`w-12 h-12 mx-2 ${s?"text-yellow-500":"text-purple-400"}`}),d.jsx(zi,{className:`w-16 h-16 mx-2 ${s?"text-yellow-400":"text-pink-400"}`,fill:"currentColor"})]}),d.jsx(oe,{className:"w-6 h-6 absolute top-0 right-8 animate-pulse text-yellow-400"}),d.jsx(oe,{className:"w-4 h-4 absolute bottom-2 left-8 animate-pulse text-yellow-400"})]}),d.jsx(T.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:`text-2xl font-bold mb-2 relative z-20 ${s?"text-yellow-800":"text-gray-800"}`,children:"相性診断結果"}),d.jsxs(T.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:`text-lg mb-6 relative z-20 ${s?"text-yellow-700 font-semibold":"text-gray-600"}`,children:[e," × ",t]}),d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring",stiffness:150},className:"relative mb-6 z-20",children:d.jsx("div",{className:`w-32 h-32 rounded-full flex items-center justify-center mx-auto shadow-lg ${s?"bg-gradient-to-r from-yellow-400 to-yellow-500 border-4 border-yellow-300":`bg-gradient-to-r ${i(n)}`}`,children:d.jsxs(T.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"text-3xl font-bold text-white",children:[n,"%"]})})}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mb-6 relative z-20",children:[d.jsx("h3",{className:`text-xl font-bold mb-2 ${s?"text-yellow-800":"text-gray-800"}`,children:l.title}),d.jsx("p",{className:`${s?"text-yellow-700":"text-gray-600"}`,children:l.message})]}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:`rounded-2xl p-6 mb-6 relative z-20 ${s?"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200":"bg-gradient-to-r from-purple-50 to-pink-50"}`,children:[d.jsx("h4",{className:`font-semibold mb-3 ${s?"text-yellow-800":"text-gray-800"}`,children:s?"特別な診断結果":"詳細な診断結果"}),d.jsx("div",{className:`text-sm leading-relaxed ${s?"text-yellow-700":"text-gray-600"}`,children:s?d.jsx("div",{className:"whitespace-pre-line text-left",children:l.description}):d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"mb-3",children:l.description}),d.jsx("p",{className:"text-xs text-gray-500",children:"※この診断結果は、制作者の独断と偏見によって分析されています。あくまで参考程度に。"})]})})]}),s&&d.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.5},className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-2xl p-6 mb-6 relative z-20",children:[d.jsx("h4",{className:"font-bold text-lg mb-2",children:"🎉 26歳は強運の年 🎉"}),d.jsxs("p",{className:"text-sm text-left",children:["26歳はとても良い1年ないなることでしょう。",d.jsx("br",{}),"仕事もプライベートも順調で、相乗効果で肌ツヤも良くなることでしょう。",d.jsx("br",{}),"「若くなった？」と周りから言われますが、それは社交辞令ではなく、事実なのでありがたく受け取りましょう。"]})]}),d.jsxs(T.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:`w-full font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 relative z-20 ${s?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-400 to-pink-500 text-white"}`,children:[d.jsx(zb,{className:"w-5 h-5"}),"もう一度診断する"]})]})]})};function tj({title:e="Hand Written",subtitle:t="Optional subtitle"}){const n={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:1,transition:{pathLength:{duration:2.5,ease:[.43,.13,.23,.96]},opacity:{duration:.5}}}};return d.jsxs("div",{className:"relative w-full max-w-7xl mx-auto py-40",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs(T.svg,{width:"600",height:"400",viewBox:"0 0 600 400",initial:"hidden",animate:"visible",className:"w-full h-full max-w-2xl",children:[d.jsx("title",{children:"H.MNK"}),d.jsx(T.ellipse,{cx:"300",cy:"200",rx:"280",ry:"180",fill:"none",strokeWidth:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",variants:n,className:"text-pink-400 opacity-70"})]})}),d.jsxs("div",{className:"relative text-center z-10 flex flex-col items-center justify-center px-12",children:[d.jsx(T.h1,{className:"text-6xl md:text-8xl text-gray-800 tracking-tighter flex items-center gap-2 font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:e}),t&&d.jsx(T.p,{className:"text-2xl md:text-3xl text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.8},children:t})]})]})}const nj=({onComplete:e})=>(k.useEffect(()=>{const t=setTimeout(()=>{e()},4e3);return()=>clearTimeout(t)},[e]),d.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center z-50 overflow-hidden",children:[d.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:1},className:"absolute inset-0",children:[d.jsx(T.div,{animate:{rotate:[0,15,-15,0],scale:[1,1.2,1],y:[0,-10,0]},transition:{duration:3,repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute top-8 left-8",children:d.jsx(oe,{className:"w-6 h-6 text-yellow-400"})}),d.jsx(T.div,{animate:{rotate:[0,-12,12,0],scale:[1,1.1,1],x:[0,5,0]},transition:{duration:2.5,repeat:1/0,repeatType:"reverse",delay:1},className:"absolute top-20 left-32",children:d.jsx(oe,{className:"w-4 h-4 text-purple-400"})}),d.jsx(T.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.15,1]},transition:{duration:2.8,repeat:1/0,repeatType:"reverse",delay:1.5},className:"absolute top-32 left-16",children:d.jsx(oe,{className:"w-5 h-5 text-pink-400"})}),d.jsx(T.div,{animate:{rotate:[0,-18,18,0],scale:[1,1.3,1],y:[0,-8,0]},transition:{duration:2.2,repeat:1/0,repeatType:"reverse",delay:.8},className:"absolute top-12 right-12",children:d.jsx(oe,{className:"w-7 h-7 text-blue-400"})}),d.jsx(T.div,{animate:{rotate:[0,8,-8,0],scale:[1,1.1,1],x:[0,-5,0]},transition:{duration:2.6,repeat:1/0,repeatType:"reverse",delay:1.2},className:"absolute top-24 right-28",children:d.jsx(oe,{className:"w-5 h-5 text-green-400"})}),d.jsx(T.div,{animate:{rotate:[0,-14,14,0],scale:[1,1.2,1]},transition:{duration:3.2,repeat:1/0,repeatType:"reverse",delay:2},className:"absolute top-40 right-20",children:d.jsx(oe,{className:"w-6 h-6 text-orange-400"})}),d.jsx(T.div,{animate:{rotate:[0,12,-12,0],scale:[1,1.25,1],y:[0,8,0]},transition:{duration:2.4,repeat:1/0,repeatType:"reverse",delay:1.8},className:"absolute bottom-16 left-10",children:d.jsx(oe,{className:"w-6 h-6 text-indigo-400"})}),d.jsx(T.div,{animate:{rotate:[0,-10,10,0],scale:[1,1.1,1],x:[0,8,0]},transition:{duration:2.7,repeat:1/0,repeatType:"reverse",delay:2.2},className:"absolute bottom-32 left-24",children:d.jsx(oe,{className:"w-4 h-4 text-teal-400"})}),d.jsx(T.div,{animate:{rotate:[0,16,-16,0],scale:[1,1.15,1]},transition:{duration:2.9,repeat:1/0,repeatType:"reverse",delay:2.5},className:"absolute bottom-8 left-40",children:d.jsx(oe,{className:"w-5 h-5 text-red-400"})}),d.jsx(T.div,{animate:{rotate:[0,-20,20,0],scale:[1,1.3,1],y:[0,10,0]},transition:{duration:2.1,repeat:1/0,repeatType:"reverse",delay:1.3},className:"absolute bottom-12 right-16",children:d.jsx(oe,{className:"w-7 h-7 text-cyan-400"})}),d.jsx(T.div,{animate:{rotate:[0,9,-9,0],scale:[1,1.1,1],x:[0,-6,0]},transition:{duration:2.8,repeat:1/0,repeatType:"reverse",delay:1.7},className:"absolute bottom-28 right-32",children:d.jsx(oe,{className:"w-5 h-5 text-lime-400"})}),d.jsx(T.div,{animate:{rotate:[0,-11,11,0],scale:[1,1.2,1]},transition:{duration:3.1,repeat:1/0,repeatType:"reverse",delay:2.8},className:"absolute bottom-40 right-8",children:d.jsx(oe,{className:"w-6 h-6 text-violet-400"})}),d.jsx(T.div,{animate:{rotate:[0,13,-13,0],scale:[1,1.4,1],y:[0,-12,0]},transition:{duration:2.3,repeat:1/0,repeatType:"reverse",delay:.7},className:"absolute top-6 left-1/2 transform -translate-x-1/2",children:d.jsx(oe,{className:"w-8 h-8 text-rose-400"})}),d.jsx(T.div,{animate:{rotate:[0,-17,17,0],scale:[1,1.35,1],y:[0,12,0]},transition:{duration:2.6,repeat:1/0,repeatType:"reverse",delay:2.3},className:"absolute bottom-6 left-1/2 transform -translate-x-1/2",children:d.jsx(oe,{className:"w-8 h-8 text-emerald-400"})}),d.jsx(T.div,{animate:{rotate:[0,14,-14,0],scale:[1,1.25,1],x:[0,10,0]},transition:{duration:2.4,repeat:1/0,repeatType:"reverse",delay:1.6},className:"absolute top-1/2 left-4 transform -translate-y-1/2",children:d.jsx(oe,{className:"w-7 h-7 text-amber-400"})}),d.jsx(T.div,{animate:{rotate:[0,-16,16,0],scale:[1,1.3,1],x:[0,-10,0]},transition:{duration:2.5,repeat:1/0,repeatType:"reverse",delay:1.9},className:"absolute top-1/2 right-4 transform -translate-y-1/2",children:d.jsx(oe,{className:"w-7 h-7 text-fuchsia-400"})}),d.jsx(T.div,{animate:{rotate:[0,25,-25,0],scale:[1,1.5,1],opacity:[.6,1,.6]},transition:{duration:4,repeat:1/0,repeatType:"reverse",delay:3},className:"absolute top-1/4 left-1/4",children:d.jsx(oe,{className:"w-3 h-3 text-sky-400"})}),d.jsx(T.div,{animate:{rotate:[0,-22,22,0],scale:[1,1.4,1],opacity:[.7,1,.7]},transition:{duration:3.5,repeat:1/0,repeatType:"reverse",delay:3.5},className:"absolute top-1/3 right-1/4",children:d.jsx(oe,{className:"w-3 h-3 text-slate-400"})}),d.jsx(T.div,{animate:{rotate:[0,18,-18,0],scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{duration:3.8,repeat:1/0,repeatType:"reverse",delay:4},className:"absolute bottom-1/4 left-1/3",children:d.jsx(oe,{className:"w-3 h-3 text-stone-400"})}),d.jsx(T.div,{animate:{rotate:[0,-24,24,0],scale:[1,1.6,1],opacity:[.6,1,.6]},transition:{duration:3.3,repeat:1/0,repeatType:"reverse",delay:4.2},className:"absolute bottom-1/3 right-1/3",children:d.jsx(oe,{className:"w-3 h-3 text-zinc-400"})})]}),d.jsxs("div",{className:"text-center max-w-7xl mx-auto px-4 relative z-10",children:[d.jsx(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:d.jsx(tj,{title:"H.MNK",subtitle:"Happy Birthday 26 years"})}),d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.5},className:"flex justify-center items-center gap-2 mt-8",children:[0,1,2].map(t=>d.jsx(T.div,{className:"w-3 h-3 bg-pink-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:t*.2}},t))}),d.jsx(T.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2.5,duration:.8},className:"text-gray-500 text-sm mt-6",children:"読み込み中..."})]})]})),rj=({question:e,questionNumber:t,totalQuestions:n,onAnswer:r,currentAnswer:s,onCancel:i})=>{const{user:o}=Fr(),[a,l]=k.useState(!1),[u,c]=k.useState(null),h=async g=>{if(!a){l(!0),c(g);try{await new Promise(w=>setTimeout(w,800)),await r(g),l(!1),c(null)}catch(w){console.error("回答の保存に失敗しました:",w),l(!1),c(null)}}},f=()=>{var g;return(g=o==null?void 0:o.user_metadata)!=null&&g.name?o.user_metadata.name:o!=null&&o.email?o.email.split("@")[0]:"あなた"};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:[a&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center",children:d.jsxs(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 shadow-2xl flex flex-col items-center",children:[d.jsx(fn,{className:"w-8 h-8 text-blue-500 animate-spin mb-3"}),d.jsx("p",{className:"text-gray-700 font-medium",children:t===n?"全ての回答を保存中...":"回答を記録中..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t===n?"データベースに保存しています":"しばらくお待ちください"})]})}),d.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:`bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-2xl max-w-md w-full relative ${a?"pointer-events-none":""}`,children:[d.jsx("button",{onClick:i,disabled:a,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(zs,{className:"w-5 h-5 text-gray-500"})}),a&&d.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 rounded-t-3xl overflow-hidden",children:d.jsx(T.div,{className:"h-full bg-gradient-to-r from-blue-400 to-purple-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:.8,ease:"easeInOut"}})}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"質問の再回答"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[f(),"さんの回答を編集できます"]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["質問 ",t," / ",n]}),d.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[Math.round(t/n*100),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(T.div,{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-2 rounded-full",initial:{width:0},animate:{width:`${t/n*100}%`},transition:{duration:.5}})})]}),d.jsxs(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"text-center mb-8",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 leading-relaxed",children:e.question_text}),d.jsx("p",{className:"text-sm text-gray-600",children:"回答を選択してください（変更は全問回答後に保存されます）"}),s&&d.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl",children:d.jsxs("p",{className:"text-sm text-blue-700",children:["元の回答: ",d.jsx("span",{className:"font-medium",children:Bs[s-1]})]})})]}),d.jsx("div",{className:"space-y-3",children:Bs.map((g,w)=>{const v=s===w+1,_=u===w+1,y=a;return d.jsxs(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+w*.1},whileHover:y?{}:{scale:1.02},whileTap:y?{}:{scale:.98},onClick:()=>h(w+1),disabled:y,className:`w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${_?"border-blue-400 bg-blue-50 shadow-lg":v?"border-blue-300 bg-blue-25 shadow-md":y?"border-gray-200 bg-gray-50 opacity-60 cursor-not-allowed":w===0?"border-red-200 hover:border-red-300 hover:bg-red-50":w===1?"border-orange-200 hover:border-orange-300 hover:bg-orange-50":w===2?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":w===3?"border-blue-200 hover:border-blue-300 hover:bg-blue-50":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("div",{className:`w-6 h-6 rounded-full border-2 mr-3 flex items-center justify-center ${_?"border-blue-400 bg-blue-400":v?"border-blue-300 bg-blue-100":w===0?"border-red-300":w===1?"border-orange-300":w===2?"border-gray-300":w===3?"border-blue-300":"border-green-300"}`,children:[_&&d.jsx(T.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20},children:d.jsx(sa,{className:"w-4 h-4 text-white"})}),v&&!_&&d.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"})]}),d.jsx("span",{className:`font-medium ${_?"text-blue-700":v?"text-blue-600":"text-gray-700"}`,children:g}),v&&!_&&d.jsx("span",{className:"ml-auto text-xs text-blue-600 font-medium",children:"元の回答"})]}),_&&a&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:d.jsx(fn,{className:"w-5 h-5 text-blue-500 animate-spin"})})]},w)})}),a&&d.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx(fn,{className:"w-4 h-4 text-blue-500 animate-spin mr-2"}),d.jsx("span",{className:"text-sm font-medium text-blue-700",children:t===n?"全ての回答を保存中...":"回答を記録中..."})]}),d.jsx("p",{className:"text-xs text-blue-600 text-center mt-1",children:t===n?"データベースに保存中です":"次の質問に進むまでお待ちください"})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:i,disabled:a,className:"w-full bg-gray-100 text-gray-600 font-semibold py-3 px-6 rounded-xl hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(yg,{className:"w-4 h-4"}),"再回答をキャンセル"]})})]})]})},Ja=(e,t)=>{if(e.length!==t.length)throw new Error("両方のユーザーの回答数が一致しません");let n=0,r=0;for(let i=0;i<e.length;i++){const o=e.find(l=>l.question_id===i+1),a=t.find(l=>l.question_id===i+1);if(o&&a){const l=6-o.answer_value,u=6-a.answer_value,h=4-Math.abs(l-u);n+=h,r+=4}}return Math.round(n/r*100)};function sj(){var _t;const{user:e}=Fr(),[t,n]=k.useState(()=>(K.auth.getSession(),"splash")),[r,s]=k.useState(null),[i,o]=k.useState(null),[a,l]=k.useState(0),[u,c]=k.useState([]),[h,f]=k.useState([]),[g,w]=k.useState(0),[v,_]=k.useState([]),[y,p]=k.useState(!0),[m,x]=k.useState([]),[S,b]=k.useState(0),[j,P]=k.useState([]),E=($,U)=>{console.log(`[DEBUG] ${$}`,U)};k.useEffect(()=>{(async()=>{E("Starting to fetch questions..."),p(!0);try{const{data:U,error:I}=await K.from("questions").select("*").order("id");if(E("Supabase response:",{data:U,error:I}),I){E("Error fetching questions from database:",I);const{questions:z}=await We(async()=>{const{questions:fe}=await Promise.resolve().then(()=>$t);return{questions:fe}},void 0);E("Using local questions as fallback:",z),_(z)}else if(U&&U.length>0)E("Successfully fetched questions from database:",U),_(U);else{E("No questions found in database, using local fallback");const{questions:z}=await We(async()=>{const{questions:fe}=await Promise.resolve().then(()=>$t);return{questions:fe}},void 0);E("Using local questions as fallback:",z),_(z)}}catch(U){E("Unexpected error fetching questions:",U);try{const{questions:I}=await We(async()=>{const{questions:z}=await Promise.resolve().then(()=>$t);return{questions:z}},void 0);E("Using local questions as fallback after error:",I),_(I)}catch(I){E("Failed to import local questions:",I);const z=[{id:1,question_text:"休日はどう過ごしたいですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:2,question_text:"理想的なデートスポットは？",category:"romance",created_at:new Date().toISOString()},{id:3,question_text:"将来の目標について話し合うことは重要ですか？",category:"values",created_at:new Date().toISOString()},{id:4,question_text:"お互いの趣味を尊重し合うことは大切ですか？",category:"lifestyle",created_at:new Date().toISOString()},{id:5,question_text:"コミュニケーションの頻度について、どう思いますか？",category:"communication",created_at:new Date().toISOString()}];E("Using hardcoded questions as final fallback:",z),_(z)}}finally{E("Questions loading completed"),p(!1)}})()},[]),k.useEffect(()=>{const{data:{subscription:$}}=K.auth.onAuthStateChange(async(U,I)=>{var z;console.log("Auth state change event:",U,"User:",(z=I==null?void 0:I.user)==null?void 0:z.email),U==="SIGNED_IN"&&(I!=null&&I.user)&&(console.log("User signed in, redirecting to home"),he(),n("start")),(U==="SIGNED_OUT"||U==="TOKEN_REFRESHED")&&console.log("Auth state changed:",U)});return()=>$.unsubscribe()},[]),k.useEffect(()=>{const $=()=>{console.log("App: handleReAnswerEvent triggered"),N()};return console.log("App: Setting up startReAnswer event listener"),window.addEventListener("startReAnswer",$),()=>{console.log("App: Removing startReAnswer event listener"),window.removeEventListener("startReAnswer",$)}},[e,v]);const R=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},100)},G=()=>{n("start")},q=()=>{n("userSelection")},J=()=>{console.log("Home button clicked, resetting to start state"),he(),n("start"),s(null),o(null),l(0),c([]),f([]),w(0)},N=async()=>{if(console.log("App: handleStartReAnswer called",{user:e,questionsLength:v.length}),!!e)try{console.log("App: Fetching current answers for user:",e.id);const{data:$,error:U}=await K.from("answers").select("*").eq("user_id",e.id).order("question_id");if(U){console.error("Error fetching current answers:",U);return}console.log("App: Current answers fetched:",$),x($||[]),P($||[]),b(0),console.log("App: Scrolling to top and transitioning to reAnswer state"),R(),setTimeout(()=>{console.log("App: Setting state to reAnswer"),n("reAnswer")},200)}catch($){console.error("Unexpected error starting re-answer:",$)}},Y=async $=>{if(!e)return;const U=S+1;console.log("App: Submitting re-answer",{questionId:U,value:$,userId:e.id});const I=[...j],z=I.findIndex(fe=>fe.question_id===U);if(z>=0?I[z]={...I[z],answer_value:$}:I.push({id:U,user_id:e.id,question_id:U,answer_value:$,created_at:new Date().toISOString()}),P(I),console.log("App: Temporary data updated, checking next step",{currentIndex:S,totalQuestions:v.length,isLastQuestion:S>=v.length-1}),S<v.length-1)console.log("App: Moving to next question"),b(S+1);else{console.log("App: All questions answered, saving to database");try{const fe=I.map(tt=>({user_id:e.id,question_id:tt.question_id,answer_value:tt.answer_value})),{error:$e}=await K.from("answers").upsert(fe,{onConflict:"user_id,question_id"});if($e)throw console.error("Error batch updating answers:",$e),$e;console.log("App: All answers saved successfully"),R(),setTimeout(()=>{n("start"),x([]),P([]),b(0)},200)}catch(fe){console.error("Error saving answers to database:",fe),R(),setTimeout(()=>{n("start"),x([]),P([]),b(0)},200)}}},B=()=>{console.log("App: Re-answer cancelled, discarding temporary data"),R(),setTimeout(()=>{n("start"),x([]),P([]),b(0)},200)},he=()=>{console.log("Resetting all application states"),s(null),o(null),l(0),c([]),f([]),w(0),x([]),P([]),b(0),sessionStorage.removeItem("loginRedirect"),sessionStorage.removeItem("appState"),localStorage.removeItem("appState")},A=($,U)=>{const I=["畑中美菜子","阿知良憲"];return $.name===I[0]&&U.name===I[1]||$.name===I[1]&&U.name===I[0]},L=async($,U)=>{if(E("handleUsersSelected called",{user1:$.name,user2:U.name}),s($),o(U),A($,U)){E("Special user combination detected"),w(100),R(),setTimeout(()=>{n("result")},200);return}E("Fetching existing answers for both users");const[I,z]=await Promise.all([K.from("answers").select("*").eq("user_id",$.id).order("question_id"),K.from("answers").select("*").eq("user_id",U.id).order("question_id")]);E("User1 answers data:",I),E("User2 answers data:",z);const fe=I.data||[],$e=z.data||[],tt=fe.length===v.length,nt=$e.length===v.length;if(E("Answer status check:",{user1HasAllAnswers:tt,user2HasAllAnswers:nt,user1AnswerCount:fe.length,user2AnswerCount:$e.length,totalQuestions:v.length}),tt&&nt){E("Both users have all answers, calculating compatibility"),c(fe),f($e);const ti=Ja(fe,$e);E("Calculated compatibility score:",ti),w(ti);const{error:Ac}=await K.from("compatibility_results").upsert([{user1_id:$.id,user2_id:U.id,compatibility_score:ti}],{onConflict:"user1_id,user2_id"});Ac?E("Error saving compatibility result:",Ac):E("Compatibility result saved successfully"),R(),setTimeout(()=>{E("Transitioning to result screen"),n("result")},200)}else tt&&!nt?(E("User1 has answers, User2 needs to answer"),c(fe),f([]),l(0),n("quiz2")):!tt&&nt?(E("User1 needs to answer, User2 has answers"),c([]),f($e),l(0),n("quiz1")):(E("Both users need to answer or have partial answers"),c(fe),f($e),l(fe.length),n("quiz1"))},V=async $=>{if(!r)return;const U={id:a+1,user_id:r.id,question_id:a+1,answer_value:$,created_at:new Date().toISOString()};await K.from("answers").upsert([{user_id:r.id,question_id:a+1,answer_value:$}],{onConflict:"user_id,question_id"});const I=[...u,U];if(c(I),a<v.length-1)l(a+1);else{const{data:z}=await K.from("answers").select("*").eq("user_id",i.id).order("question_id");if(z&&z.length===v.length){f(z);const fe=Ja(I,z);w(fe),await K.from("compatibility_results").upsert([{user1_id:r.id,user2_id:i.id,compatibility_score:fe}],{onConflict:"user1_id,user2_id"}),R(),setTimeout(()=>{n("result")},200)}else l((z==null?void 0:z.length)||0),n("quiz2")}},M=async $=>{if(!i)return;const U={id:a+1,user_id:i.id,question_id:a+1,answer_value:$,created_at:new Date().toISOString()};await K.from("answers").upsert([{user_id:i.id,question_id:a+1,answer_value:$}],{onConflict:"user_id,question_id"});const I=[...h,U];if(f(I),a<v.length-1)l(a+1);else{const z=Ja(u,I);w(z),r&&i&&await K.from("compatibility_results").upsert([{user1_id:r.id,user2_id:i.id,compatibility_score:z}],{onConflict:"user1_id,user2_id"}),R(),setTimeout(()=>{n("result")},200)}},ee=()=>{n("userSelection"),l(0),c([]),f([]),w(0)};return k.useEffect(()=>{t==="result"&&setTimeout(()=>{R()},100)},[t]),d.jsx("div",{className:"app",children:d.jsxs(ko,{mode:"wait",children:[t==="splash"&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(nj,{onComplete:G})},"splash"),t!=="splash"&&d.jsxs(d.Fragment,{children:[d.jsx(Xb,{onHomeClick:J}),d.jsxs("div",{className:"pt-3",children:[t==="start"&&d.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:d.jsx(tr,{message:"",children:d.jsx(Yb,{onStart:q})})},"start"),t==="userSelection"&&d.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:d.jsx(tr,{children:d.jsx(Zb,{onUsersSelected:L,currentUser:r})})},"userSelection"),t==="quiz1"&&d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:d.jsx(tr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):v.length>0?d.jsx(cf,{question:v[a],questionNumber:a+1,totalQuestions:v.length,onAnswer:V,userName:(r==null?void 0:r.name)||"ユーザー1"}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"quiz1"),t==="quiz2"&&d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:d.jsx(tr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):v.length>0?d.jsx(cf,{question:v[a],questionNumber:a+1,totalQuestions:v.length,onAnswer:M,userName:(i==null?void 0:i.name)||"ユーザー2"}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"quiz2"),t==="reAnswer"&&d.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"pt-16",children:d.jsx(tr,{children:y?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"質問を読み込み中..."})]})}):v.length>0?d.jsx(rj,{question:v[S],questionNumber:S+1,totalQuestions:v.length,onAnswer:Y,currentAnswer:(_t=j.find($=>$.question_id===S+1))==null?void 0:_t.answer_value,onCancel:B}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-pink-50 to-purple-100 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-red-600",children:"質問データの読み込みに失敗しました"})})})})},"reAnswer"),t==="result"&&d.jsx(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},className:"pt-16",children:d.jsx(tr,{children:d.jsx(ej,{user1Name:(r==null?void 0:r.name)||"ユーザー1",user2Name:(i==null?void 0:i.name)||"ユーザー2",compatibilityScore:g,onRestart:ee,isSpecialCouple:r&&i?A(r,i):!1})})},"result")]})]})]})})}function ij(){return d.jsx(Kb,{children:d.jsx(Ab,{children:d.jsx(sj,{})})})}km(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(ij,{})}));
